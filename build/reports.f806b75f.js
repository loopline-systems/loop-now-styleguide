(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./node_modules/lodash/_arrayEach.js":function(e,t){e.exports=function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/keys.js");e.exports=function baseAssign(e,t){return e&&r(t,a(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/keysIn.js");e.exports=function baseAssignIn(e,t){return e&&r(t,a(t),e)}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),a=n("./node_modules/lodash/_arrayEach.js"),i=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseAssign.js"),o=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),c=n("./node_modules/lodash/_copyArray.js"),u=n("./node_modules/lodash/_copySymbols.js"),p=n("./node_modules/lodash/_copySymbolsIn.js"),d=n("./node_modules/lodash/_getAllKeys.js"),m=n("./node_modules/lodash/_getAllKeysIn.js"),f=n("./node_modules/lodash/_getTag.js"),g=n("./node_modules/lodash/_initCloneArray.js"),y=n("./node_modules/lodash/_initCloneByTag.js"),b=n("./node_modules/lodash/_initCloneObject.js"),h=n("./node_modules/lodash/isArray.js"),v=n("./node_modules/lodash/isBuffer.js"),x=n("./node_modules/lodash/isMap.js"),_=n("./node_modules/lodash/isObject.js"),j=n("./node_modules/lodash/isSet.js"),w=n("./node_modules/lodash/keys.js"),E=1,O=2,S=4,k="[object Arguments]",T="[object Function]",C="[object GeneratorFunction]",I="[object Object]",P={};P[k]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[T]=P["[object WeakMap]"]=!1,e.exports=function baseClone(e,t,n,R,L,M){var A,N=t&E,U=t&O,K=t&S;if(n&&(A=L?n(e,R,L,M):n(e)),void 0!==A)return A;if(!_(e))return e;var q=h(e);if(q){if(A=g(e),!N)return c(e,A)}else{var H=f(e),D=H==T||H==C;if(v(e))return l(e,N);if(H==I||H==k||D&&!L){if(A=U||D?{}:b(e),!N)return U?p(e,o(A,e)):u(e,s(A,e))}else{if(!P[H])return L?e:{};A=y(e,H,N)}}M||(M=new r);var F=M.get(e);if(F)return F;if(M.set(e,A),j(e))return e.forEach(function(r){A.add(baseClone(r,t,n,r,e,M))}),A;if(x(e))return e.forEach(function(r,a){A.set(a,baseClone(r,t,n,a,e,M))}),A;var z=K?U?m:d:U?keysIn:w,G=q?void 0:z(e);return a(G||e,function(r,a){G&&(r=e[a=r]),i(A,a,baseClone(r,t,n,a,e,M))}),A}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_getSymbols.js");e.exports=function copySymbols(e,t){return r(e,a(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function copySymbolsIn(e,t){return r(e,a(e),t)}},"./node_modules/lodash/_getAllKeysIn.js":function(e,t){e.exports=function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/_getSymbols.js":function(e,t){e.exports=function stubArray(){return[]}},"./node_modules/lodash/_getSymbolsIn.js":function(e,t){e.exports=function stubArray(){return[]}},"./node_modules/lodash/_initCloneArray.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function initCloneArray(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},"./node_modules/lodash/_initCloneByTag.js":function(e,t){e.exports=function identity(e){return e}},"./node_modules/lodash/cloneDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js"),a=1,i=4;e.exports=function cloneDeep(e){return r(e,a|i)}},"./node_modules/lodash/isMap.js":function(e,t){e.exports=function stubFalse(){return!1}},"./node_modules/lodash/isSet.js":function(e,t){e.exports=function stubFalse(){return!1}},"./src/modules/reports/ReportsRouter.tsx":function(e,t,n){"use strict";n.r(t);var r,a,i,s,o,l,c=n("./node_modules/react/index.js"),u=n.n(c),p=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/react-router/esm/react-router.js"),m=n("./src/shared/errorPages/PageNotFound.tsx"),f=n("./src/modules/scales/actions/scaleActions.ts"),g=n("./src/constants.ts"),y=n("./src/shared/loadingSpinner/LoadingSpinner.tsx"),b=n("./src/interfaces/scale.interface.ts"),h=n("./node_modules/antd/es/col/index.js"),v=(n("./node_modules/antd/es/col/style/css.js"),n("./node_modules/react-i18next/dist/es/index.js")),x=n("./node_modules/react-transition-group/esm/Transition.js"),_=n("./src/modules/reports/reportsHeader/components/HeaderTitle.tsx"),j=n("./src/shared/avatarBox/AvatarBox.tsx"),w=n("./src/modules/reports/interfaces/header.interface.ts"),E=n("./node_modules/antd/es/popover/index.js"),O=(n("./node_modules/antd/es/popover/style/css.js"),n("./src/styles/styled-components.ts")),S=n("./src/utils.ts"),k=n("./src/shared/ProgressBar.tsx"),T=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},C=O.d.div.withConfig({displayName:"Container"})(r||(r=T(["\n  color: ",";\n  text-align: center;\n"],["\n  color: ",";\n  text-align: center;\n"])),function(e){return e.theme.lls_white}),I=O.d.div.withConfig({displayName:"PopoverTrigger"})(a||(a=T(["\n  cursor: default;\n"],["\n  cursor: default;\n"]))),P=O.d.div.withConfig({displayName:"ResponseRatePercentage"})(i||(i=T(["\n  font-size: ",";\n"],["\n  font-size: ",";\n"])),function(e){return e.small?"21px":"2.33rem"}),R=O.d.div.withConfig({displayName:"ResponseRateTxt"})(s||(s=T(["\n  font-size: 1rem;\n  font-weight: 600;\n  margin-top: 10px;\n"],["\n  font-size: 1rem;\n  font-weight: 600;\n  margin-top: 10px;\n"]))),L=O.d.div.withConfig({displayName:"AnswersUsersStat"})(o||(o=T(["\n  font-size: 0.8rem;\n  opacity: 0.65;\n  margin-top: 10px;\n\n  p {\n    margin-top: 5px;\n  }\n"],["\n  font-size: 0.8rem;\n  opacity: 0.65;\n  margin-top: 10px;\n\n  p {\n    margin-top: 5px;\n  }\n"]))),M=O.d.div.withConfig({displayName:"PopoverContent"})(l||(l=T(["\n  min-width: 275px;\n  margin: -12px -16px;\n\n  .rows-box {\n    padding: 5px 15px;\n    &.border {\n      border-bottom: 1px solid ",";\n    }\n  }\n  .row {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    font-size: 1rem;\n    font-weight: 600;\n    color: ",";\n    &.light {\n      color: ",";\n      font-weight: 400;\n      padding: 0 0 10px 0;\n      &:first-child {\n        padding: 10px 0;\n      }\n    }\n    &.title {\n      border-bottom: 1px solid ",";\n      padding: 15px 15px;\n    }\n  }\n"],["\n  min-width: 275px;\n  margin: -12px -16px;\n\n  .rows-box {\n    padding: 5px 15px;\n    &.border {\n      border-bottom: 1px solid ",";\n    }\n  }\n  .row {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    font-size: 1rem;\n    font-weight: 600;\n    color: ",";\n    &.light {\n      color: ",";\n      font-weight: 400;\n      padding: 0 0 10px 0;\n      &:first-child {\n        padding: 10px 0;\n      }\n    }\n    &.title {\n      border-bottom: 1px solid ",";\n      padding: 15px 15px;\n    }\n  }\n"])),function(e){return e.theme.lls_dark_white},function(e){return e.theme.lls_dark_blue_light},function(e){return e.theme.lls_light_grey_heavy},function(e){return e.theme.lls_dark_white}),A=function(e,t,n){var r=t?Object(S.f)(t.response_rate_combined):"0",a=t?Object(S.f)(t.response_rate_self_assessment):"0",i=t?Object(S.f)(t.response_rate_assessment):"0";return c.createElement(M,null,t&&t.number_of_users_asked&&t.number_of_users_asked>0&&c.createElement("div",{className:"row title"},c.createElement("span",{"data-translation":"x.reports.header.survey_stats.participants_asked"},e("x.reports.header.survey_stats.participants_asked"))," ",c.createElement("span",null,t.number_of_users_asked)),c.createElement("div",{className:"rows-box border"},t&&t.number_of_cards&&t.number_of_cards>0&&c.createElement("div",{className:"row"},c.createElement("span",{"data-translation":"x.reports.header.survey_stats.questions_asked"},e("x.reports.header.survey_stats.questions_asked"))," ",c.createElement("span",null,t.number_of_cards)),c.createElement(N,{t:e,value:r,translationKey:"x.reports.header.survey_stats.answered"})),n&&c.createElement("div",{className:"rows-box"},c.createElement(N,{t:e,value:a,light:!0,translationKey:"x.reports.header.survey_stats.answered_self_assessment"}),c.createElement(N,{t:e,value:i,light:!0,translationKey:"x.reports.header.survey_stats.answered_assessment"})))},N=function(e){var t=e.t,n=e.value,r=e.light,a=e.translationKey;return c.createElement(c.Fragment,null,c.createElement("div",{className:"row "+(r?"light":"")},c.createElement("span",{"data-translation":a},t(a))," ",c.createElement("span",null,n,"%")),c.createElement(k.default,{className:"response-rate",progress:parseFloat(n),margin:"0 0 10px"}))},U=function(e){var t=e.t,n=e.stats,r=e.small,a=e.isPeopleSurvey;return c.createElement(E.a,{content:A(t,n,a),placement:"bottom"},c.createElement(I,null,c.createElement(P,{small:r},n?Object(S.f)(n.response_rate_combined):null,"%"),!r&&c.createElement(R,{"data-translation":"x.reports.header.survey_stats.response_rate"},t("x.reports.header.survey_stats.response_rate"))))},K=function(e){var t=e.t,n=e.stats,r=e.isPeopleSurvey;return c.createElement(C,null,c.createElement(U,{stats:n,isPeopleSurvey:r,t:t}),c.createElement(L,null,n&&c.createElement(c.Fragment,null,c.createElement("p",{"data-translation":"[x.reports.header.survey_stats.answers, x.reports.header.survey_stats.users]"},n.number_of_ratings+" "+t("x.reports.header.survey_stats.answers",{count:n.number_of_ratings})+" ("+n.number_of_users_answered+" "+t("x.reports.header.survey_stats.users",{count:n.number_of_users_answered})+")"),c.createElement("p",{"data-translation":"x.reports.header.survey_stats.comments"},n.number_of_comments+" "+t("x.reports.header.survey_stats.comments",{count:n.number_of_comments})))))},q=n("./src/modules/reports/reportsHeader/components/Tabs.tsx"),H=n("./src/modules/reports/reportsHeader/Graph.tsx"),D=n("./src/modules/reports/shared/constants/filterAndSortingKeys.ts"),F=function(e){return{x:e,y:void 0,data:{answers:0,comments:0}}},z=function(e,t){return{x:e.x,y:t.avg_rating_ord,data:{answers:t.number_of_ratings,comments:t.number_of_comments}}},G=function(e){var t=new Date;return Array.from({length:6},function(e,n){return F(Date.UTC(t.getFullYear()-5+n,0))}).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date).getFullYear();return Date.UTC(n,0)===t.x}return!1});return n?z(t,n):t})},B=function(e){return Array.from({length:12},function(e,t){return F((n=t,r=new Date,a=(n+r.getMonth()+1)%12,i=a>=r.getMonth()+1?r.getFullYear()-1:r.getFullYear(),Date.UTC(i,a,1)));var n,r,a,i}).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date);return Date.UTC(n.getFullYear(),n.getMonth())===t.x}return!1});return n?z(t,n):t})},W=function(e){var t=new Date,n=Array.from({length:31},function(e,n){return F(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-864e5*n)});return(n=n.reverse()).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date);return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())===t.x}return!1});return n?z(t,n):t})},V=function(e){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());n-=864e5*(t.getDay()-1);var r=Array.from({length:12},function(e,t){return F(n-6048e5*t)});return(r=r.reverse()).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date);return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())===t.x}return!1});return n?z(t,n):t})},Q=function(e,t){var n=[];switch(t){case H.GraphDateTypes.Years:n=G(e);break;case H.GraphDateTypes.Months:n=B(e);break;case H.GraphDateTypes.Days:n=W(e);break;default:n=V(e)}return n},Y=function(e,t){var n;switch(e){case D.a.AllTime:n={graphDateType:H.GraphDateTypes.Years,seriesData:Q(t.histogram,H.GraphDateTypes.Years)};break;case D.a.LastYear:n={graphDateType:H.GraphDateTypes.Months,seriesData:Q(t.histogram,H.GraphDateTypes.Months)};break;case D.a.LastMonth:n={graphDateType:H.GraphDateTypes.Days,seriesData:Q(t.histogram,H.GraphDateTypes.Days)};break;default:n={graphDateType:H.GraphDateTypes.Weeks,seriesData:Q(t.histogram,H.GraphDateTypes.Weeks)}}return n},Z=n("./src/services/hooks/useScrollHeader.ts"),J=n("./src/shared/sortSelector/SortSelector.tsx"),X=n("./src/modules/reports/services/indexCalculating.ts"),$=n("./src/modules/reports/reportsHeader/containers/ReportsHeader.sc.ts"),ee=function(e){var t=e.maxRating,n=e.rating,r=e.type,a=e.smallHeader,i=e.withAnimation,s=e.withSlide;return u.a.createElement($.p,{withAnimation:i,withSlide:s,smallHeader:a},u.a.createElement($.g,{smallHeader:a},Object(X.b)(t,n,r)),"/",u.a.createElement($.r,{smallHeader:a},r===b.b.Nps?t-1:t))};ee.defaultProps={rating:0,maxRating:1,type:b.b.Stars,smallHeader:!1,withAnimation:!1,withSlide:!1};var te,ne,re,ae,ie,se,oe,le,ce,ue,pe,de=ee,me=n("./src/modules/reports/shared/components/ratings/displayScale/DisplayScale.tsx"),fe=[{name:D.a.AllTime,translationKey:"x.reports.period_selector.allTime"},{name:D.a.LastYear,translationKey:"x.reports.period_selector.lastYear"},{name:D.a.LastQuarter,translationKey:"x.reports.period_selector.lastQuarter"},{name:D.a.LastMonth,translationKey:"x.reports.period_selector.lastMonth"}],ge=n("./src/modules/reports/reportsHeader/constans/action.types.ts"),ye=n("./src/services/ApiController.ts"),be=function(e){return{type:ge.m,headerInformation:e}},he=function(e){return{type:ge.l,links:e}},ve=function(e){return{type:ge.i,showRatingOnHeader:e}},xe=function(e){return{type:ge.d,showGraph:e}},_e=function(e){return{type:ge.f,showPeriodSelector:e}},je=function(e){return{type:ge.h,rating:e}},we=function(e){return{type:ge.j,selectedPeriod:e}},Ee=function(e){return{type:ge.e,loading:e}},Oe=function(e){return{type:ge.c,loading:e}},Se=function(e,t){return{type:ge.k,key:e,value:t}},ke=function(e,t,n){var r="/reports";switch(e){case w.a.Group:case w.a.User:r+="/"+e+"/"+t.id;break;case w.a.Survey:var a="company";n&&t.surveyScope&&"admin"!==t.surveyScope&&(a="user/"+n.uuid),r+="/"+a+"/"+e+"/"+t.id;break;default:r+="/"+e}return r},Te=function(e,t,n,r,a){var i=ke(t,r,a);return i+="/topic/"+e+"/questions/summary",i+=n?"?filterAnsweredRange="+n:"",{types:[ge.o,ge.g,ge.n],callAPI:function(){return ye.d.get(i)}}},Ce=function(e,t,n,r,a){var i=ke(t,r,a);return i+="/question/"+e+"/answers/summary",i+=n?"?filterAnsweredRange="+n:"",{types:[ge.o,ge.b,ge.n],callAPI:function(){return ye.d.get(i)}}},Ie=n("./src/modules/reports/reportsHeader/components/BreadCrumbs.tsx"),Pe=Object(p.b)(function(e){var t=e.reportsManagement.header;return{headerInformation:t.headerInformation,showRatingOnHeader:t.showRatingOnHeader,headerRating:t.headerRating,summaries:t.summaries,showPeriodSelector:t.showPeriodSelector,showGraph:t.showGraph,selectedPeriod:t.selectedPeriod}},function(e){return{changeSelectedPeriod:function(t){return e(we(t))}}})(function(e){var t,n=e.headerInformation.subjectType;return"question"!==n&&"answer"!==n||(t=e.summaries[n]),u.a.createElement($.k,null,u.a.createElement($.w,null,u.a.createElement($.k,null,u.a.createElement($.i,{lg:14,sm:10},u.a.createElement(Ie.default,{smallHeader:e.small,breadCrumbLinks:e.headerInformation.breadCrumbLinks})),u.a.createElement($.i,{position:"center",lg:4,sm:4},e.headerRating&&e.showGraph&&e.small&&t&&t.histogram.length>0&&u.a.createElement(H.default,{t:e.t,scale:e.headerRating.scale,seriesData:e.seriesData,graphDateType:e.graphDateType,smallHeader:!0})),e.showRatingOnHeader&&e.small&&e.headerRating?u.a.createElement($.s,null,u.a.createElement($.i,{position:"center",sm:4,lg:2},null!==e.headerRating.result.avg_rating_ord?u.a.createElement(de,{smallHeader:!0,withAnimation:!1,withSlide:!1,maxRating:Object(X.d)(e.headerRating.scale),rating:e.headerRating.result.avg_rating_ord,type:e.headerRating.scale.visualization}):u.a.createElement("span",null)),u.a.createElement($.i,{position:"center",sm:6,lg:4},u.a.createElement(me.default,{rating:e.headerRating.result.avg_rating_ord,maxRating:Object(X.d)(e.headerRating.scale),labelIndex:e.headerRating.ratingIndex||0,type:e.headerRating.scale.visualization,labels:e.headerRating.scale.labels||null,onSmallHeader:!0}))):u.a.createElement($.i,{position:"center",lg:{span:4,offset:2},sm:{span:4,offset:6}},u.a.createElement($.n,{smallHeader:e.small},!e.small&&e.showPeriodSelector&&u.a.createElement(J.a,{selectedSorting:e.selectedPeriod,sortList:e.changeSelectedPeriod,sortingOptions:fe,selectorCssClass:"reports-header",selectorLabelKey:" "}))))))}),Re=n("./src/shared/SvgIcon.tsx"),Le=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Me=O.d.div.withConfig({displayName:"OuterContainer"})(te||(te=Le(["\n  max-width: 585px;\n  margin: -12px -16px;\n  color: ",";\n  font-size: 15px;\n  line-height: 26px;\n"],["\n  max-width: 585px;\n  margin: -12px -16px;\n  color: ",";\n  font-size: 15px;\n  line-height: 26px;\n"])),function(e){return e.theme.lls_light_grey_heavy}),Ae=O.d.div.withConfig({displayName:"ContentWrapper"})(ne||(ne=Le(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Ne=O.d.div.withConfig({displayName:"GapAnalysisContainer"})(re||(re=Le(["\n  margin-top: 5px;\n"],["\n  margin-top: 5px;\n"]))),Ue=O.d.span.withConfig({displayName:"GapAnalysisTrigger"})(ae||(ae=Le(["\n  cursor: pointer;\n  display: flex;\n  color: rgba(255, 255, 255, 0.65);\n  justify-content: center;\n  > span {\n    margin-left: 5px;\n  }\n  &:hover {\n    color: rgba(255, 255, 255, 1);\n  }\n"],["\n  cursor: pointer;\n  display: flex;\n  color: rgba(255, 255, 255, 0.65);\n  justify-content: center;\n  > span {\n    margin-left: 5px;\n  }\n  &:hover {\n    color: rgba(255, 255, 255, 1);\n  }\n"]))),Ke=O.d.div.withConfig({displayName:"Rating"})(ie||(ie=Le(["\n  margin-top: 5px;\n  font-weight: 600;\n  > span {\n    margin: 0 2px;\n  }\n"],["\n  margin-top: 5px;\n  font-weight: 600;\n  > span {\n    margin: 0 2px;\n  }\n"]))),qe=O.d.span.withConfig({displayName:"Title"})(se||(se=Le(["\n  margin-top: 5px;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  margin-top: 5px;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),He=O.d.span.withConfig({displayName:"SubTitle"})(oe||(oe=Le(["\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),De=O.d.div.withConfig({displayName:"Footer"})(le||(le=Le(["\n  border-top: 1px solid ",";\n  display: flex;\n  font-size: 12px;\n  line-height: 22px;\n  padding: 5px 10px;\n"],["\n  border-top: 1px solid ",";\n  display: flex;\n  font-size: 12px;\n  line-height: 22px;\n  padding: 5px 10px;\n"])),function(e){return e.theme.lls_dark_white}),Fe=O.d.div.withConfig({displayName:"Split"})(ce||(ce=Le(["\n  min-height: 75px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  &:last-child {\n    margin-top: 15px;\n    flex-grow: 1;\n  }\n  /* IE */\n  > span {\n    width: 100%;\n  }\n"],["\n  min-height: 75px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  &:last-child {\n    margin-top: 15px;\n    flex-grow: 1;\n  }\n  /* IE */\n  > span {\n    width: 100%;\n  }\n"]))),ze=O.d.div.withConfig({displayName:"IconContainer"})(ue||(ue=Le(["\n  width: 14px;\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  /* IE */\n  flex-shrink: 0;\n"],["\n  width: 14px;\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  /* IE */\n  flex-shrink: 0;\n"]))),Ge=O.d.div.withConfig({displayName:"ContentSection"})(pe||(pe=Le(["\n  width: 195px;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  &:not(:first-child):not(:last-child) {\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n  }\n"],["\n  width: 195px;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  &:not(:first-child):not(:last-child) {\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n  }\n"])),function(e){return e.theme.lls_dark_white},function(e){return e.theme.lls_dark_white}),Be=function(e){var t=e.t,n=e.iconSubject,r=e.sectionType;return u.a.createElement(u.a.Fragment,null,u.a.createElement(qe,{"data-translation":"x.reports.gap_analysis.section."+r+".title"},t("x.reports.gap_analysis.section."+r+".title")),u.a.createElement(He,{"data-translation":"x.reports.gap_analysis.section."+r+".subtitle"},t("x.reports.gap_analysis.section."+r+".subtitle",{name:n.name})))},We=function(e){var t=e.sectionGap,n=e.scale,r=e.maxRating,a=e.t;return t.avg_rating_ord>0?u.a.createElement(u.a.Fragment,null,u.a.createElement(me.default,{labelIndex:Object(X.a)(t.avg_rating_ord,n),type:n.visualization,labels:n.labels,maxRating:r,rating:t.avg_rating_ord,labelColor:"lls_light_grey_light",small:!0}),u.a.createElement(Ke,null,u.a.createElement("span",null,Object(X.b)(r,t.avg_rating_ord,n.visualization)),u.a.createElement("span",null,"/"),u.a.createElement("span",null,n.visualization===b.b.Nps?r-1:r)),u.a.createElement("span",{"data-translation":"x.reports.display_scale.information.answers"},a("x.reports.display_scale.information.answers",{count:t.number_of_ratings}))):u.a.createElement("span",{"data-translation":"x.reports.gap_analysis.section.no_answer"},a("x.reports.gap_analysis.section.no_answer"))},Ve=function(e){var t=e.maxRating,n=e.iconSubject,r=e.sectionGap,a=e.scale,i=e.t;return u.a.createElement(Ge,null,u.a.createElement(Fe,null,u.a.createElement(j.default,{size:35,type:"user",url:n.imageUrl,name:""+n.name}),u.a.createElement(Be,{iconSubject:n,t:i,sectionType:"self_assessment"})),u.a.createElement(Fe,null,u.a.createElement(We,{sectionGap:r,scale:a,maxRating:t,t:i})))},Qe=function(e){var t=e.maxRating,n=e.sectionGap,r=e.iconSubject,a=e.manager,i=e.scale,s=e.t;return u.a.createElement(Ge,null,u.a.createElement(Fe,null,u.a.createElement(j.default,{size:35,type:a?"user":"company",url:a?a.image_url:void 0,name:a&&a.meta&&a.meta.name?a.meta.name:"?"}),u.a.createElement(Be,{iconSubject:r,t:s,sectionType:"manager"})),u.a.createElement(Fe,null,n&&a?u.a.createElement(We,{sectionGap:n,scale:i,maxRating:t,t:s}):u.a.createElement("span",{"data-translation":"x.reports.gap_analysis.section.manager.no_manager"},s("x.reports.gap_analysis.section.manager.no_manager"))))},Ye=function(e){var t=e.maxRating,n=e.iconSubject,r=e.sectionGap,a=e.scale,i=e.t;return u.a.createElement(Ge,null,u.a.createElement(Fe,null,u.a.createElement(j.default,{size:35,iconName:"iconPeople"}),u.a.createElement(Be,{iconSubject:n,t:i,sectionType:"peer"})),u.a.createElement(Fe,null,u.a.createElement(We,{sectionGap:r,scale:a,maxRating:t,t:i})))},Ze=function(e){var t=e.t,n=e.headerRating,r=e.iconSubject,a=e.gapAnalysis,i=Object(X.d)(n.scale),s=u.a.createElement(Me,null,u.a.createElement(Ae,null,u.a.createElement(Ve,{t:t,scale:n.scale,sectionGap:a.self,maxRating:i,iconSubject:r}),u.a.createElement(Qe,{t:t,scale:n.scale,sectionGap:a.manager,maxRating:i,manager:n.manager,iconSubject:r}),u.a.createElement(Ye,{t:t,scale:n.scale,sectionGap:a.peer,iconSubject:r,maxRating:i})),u.a.createElement(De,null,u.a.createElement(ze,null,u.a.createElement(Re.default,{width:"14px",name:"iconInfo"})),u.a.createElement("div",{"data-translation":"x.reports.profile.gap_analysis.anon_info"},t("x.reports.profile.gap_analysis.anon_info"))));return u.a.createElement(Ne,null,n.result.gap_analysis&&u.a.createElement(E.a,{placement:"bottomRight",content:s},u.a.createElement(Ue,null,u.a.createElement("span",{className:"icon"},u.a.createElement(Re.default,{name:"iconCircleArrows",width:15})),u.a.createElement("span",{"data-translation":"x.reports.gap_analysis.trigger"},t("x.reports.gap_analysis.trigger")))))},Je=function(e){var t=e.t,n=e.iconSubject,r=e.headerRating,a=e.withAnimation;return u.a.createElement($.q,null,u.a.createElement(me.default,{rating:r.result.avg_rating_ord,maxRating:Object(X.d)(r.scale),labelIndex:r.ratingIndex||0,type:r.scale.visualization,labels:r.scale.labels||null}),null!==r.result.avg_rating_ord?u.a.createElement(de,{withAnimation:a,withSlide:!0,type:r.scale.visualization,maxRating:Object(X.d)(r.scale),rating:r.result.avg_rating_ord}):u.a.createElement("span",null),u.a.createElement($.c,null,u.a.createElement($.o,{"data-translation":"x.reports.display_scale.information.answers"},t("x.reports.display_scale.information.answers",{count:r.result.number_of_ratings}),r.result.number_of_users&&u.a.createElement("span",{"data-translation":"x.reports.display_scale.information.people"},t("x.reports.display_scale.information.people",{count:r.result.number_of_users}))),r.result.gap_analysis&&n?u.a.createElement(Ze,{iconSubject:n,headerRating:r,gapAnalysis:r.result.gap_analysis,t:t}):u.a.createElement($.o,{"data-translation":"x.reports.display_scale.information.comments"},t("x.reports.display_scale.information.comments",{count:r.result.number_of_comments}))))},Xe=Object(d.g)(function(e){var t=Object(v.c)()[0],n=Object(c.useRef)(null),r=Object(Z.a)(n,$.x),a=r.withAnimation,i=r.smallHeader,s=r.noTabs,o=Object(c.useState)(0),l=o[0],p=o[1];Object(c.useEffect)(function(){e.headerInformation.subject&&p(e.headerInformation.subject.name.length)},[e.headerInformation.subject]);var d=Object(c.useState)(H.GraphDateTypes.Years),m=d[0],f=d[1],g=Object(c.useState)([]),b=g[0],E=g[1];Object(c.useEffect)(function(){var t=e.headerInformation.depth,n=[w.b.Topic,w.b.Question,w.b.Answer];if(t>0){var r=n[t];if("question"===r||"answer"===r){var a=e.summaries[r];if(a){var i=Y(e.selectedPeriod,a);E(i.seriesData),f(i.graphDateType)}}}},[e.summaries,e.selectedPeriod,e.headerInformation.depth,e.headerInformation.subjectType]);var O=function(t,n){e.headerInformation&&t===e.headerInformation.selectedTabIndex||e.history.push(""+e.match.url+n)},S=e.headerInformation,k=e.headerRating,T=e.headerLoading||!S.entity||!S.subject;return u.a.createElement($.j,{ref:n,smallHeader:i,depth:S?S.depth:0},u.a.createElement($.l,null,!e.entityLoading&&u.a.createElement(Pe,{history:e.history,location:e.location,seriesData:b,graphDateType:m,small:i,t:t}),u.a.createElement($.b,null,u.a.createElement($.m,{smallHeader:i},u.a.createElement($.i,{lg:2,sm:4},!e.entityLoading&&S.entity&&u.a.createElement($.h,null,u.a.createElement(j.default,{size:80,type:S.entityType,url:S.entity.imageUrl,name:""+S.entity.name,iconName:S.iconName}))),u.a.createElement($.i,{lg:10,sm:8},T?u.a.createElement(y.default,{color:"white",size:12}):u.a.createElement(_.default,{headerInformation:S,t:t,titleLength:l})),u.a.createElement(h.a,{lg:8,sm:8},!T&&e.showGraph&&k&&u.a.createElement(H.default,{smallHeader:!1,t:t,scale:k.scale,seriesData:b,graphDateType:m})),u.a.createElement($.i,{position:"center",lg:4,sm:4},!T&&S.subject&&!!e.headerInformation&&e.headerInformation.entityType===w.a.Survey&&0===e.headerInformation.depth&&e.currentCycle&&u.a.createElement(K,{t:t,stats:e.surveyStats,isPeopleSurvey:"people"===S.subject.type}),!T&&e.showRatingOnHeader&&e.headerRating&&u.a.createElement(Je,{iconSubject:S.entity,headerRating:e.headerRating,withAnimation:a,t:t})))),u.a.createElement(x.a,{in:!T,timeout:150},function(e){return u.a.createElement(q.default,{status:e,tabs:S.tabs,noTabs:s,selectedTabIndex:S.selectedTabIndex,tabSelect:O,t:t})})))}),$e=Object(p.b)(function(e){var t=e.reportsManagement;return{headerInformation:t.header.headerInformation,showRatingOnHeader:t.header.showRatingOnHeader,headerRating:t.header.headerRating,headerLoading:t.header.headerLoading,summaries:t.header.summaries,showGraph:t.header.showGraph,surveyStats:t.surveyProfile.surveyStats,currentCycle:t.surveyProfile.cycle,selectedPeriod:t.header.selectedPeriod,entityLoading:t.header.entityLoading}})(Xe),et=n("./node_modules/lodash/cloneDeep.js"),tt=n.n(et);function getMainTabsOfSubject(e,t,n,r,a){var i="/"+e+"/profile";switch(e){case w.a.User:case w.a.Group:case w.a.Survey:i+="/"+t}var s=[{name:"NEWS",translationKey:"x.company_settings.header.tabs.news",link:(i+="/list")+"/news"},{name:"TOPICS",translationKey:"x.company_settings.header.tabs.topics",link:i+"/topics"}];return e===w.a.Survey&&a&&s.push({name:"PARTICIPANTS",translationKey:"x.company_settings.header.tabs.participants",link:i+"/participants"}),e===w.a.User&&(r&&s.push({name:"MY_REQUESTS",translationKey:"x.reports.user.tabs.my_requests",link:i+"/my-requests"}),n&&s.push({name:"MY_TEAM",translationKey:"x.reports.user.tabs.my_team",link:i+"/my-team"})),s}var nt,rt,at,it,st,ot,lt,ct,ut,pt,dt,mt=function(e,t,n){var r="";switch(e){case w.a.User:case w.a.Group:case w.a.Survey:r="/"+n.id}var a="/"+e+"/profile"+r+"/topics/detail/"+t.id+"/list",i=[{name:"QUESTIONS",translationKey:"x.company_settings.header.tabs.questions",link:a+"/questions"}];return e===w.a.Survey||t.private||i.push({name:"IMPROVE",translationKey:"x.company_settings.header.tabs.improve",link:a+"/improve"}),i},ft=function(){return(ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gt=Object(d.g)(function(e){var t=Object(c.useState)(!0),n=t[0],r=t[1];Object(c.useEffect)(function(){a()},[]);var a=function(){e.changeRatingVisibility(!1),e.changeGraphVisibility(!1),e.changePeriodSelectorVisibility(!1);var t=[{name:e.entityObj.name,link:e.match.url}],n=ft({entity:e.entityObj,entityType:e.entityType,selectedTabIndex:-1,depth:0,breadCrumbLinks:t,subjectType:w.b.Topic,subject:e.entityObj,tabs:getMainTabsOfSubject(e.entityType,e.entityObj.id||null,e.isManager,e.isSessionUser,e.sessionUserIsCreator)},tt()(e.overrideHeaderInfo));e.overrideHeaderInfo&&e.overrideHeaderInfo.breadCrumbLinks&&(n.breadCrumbLinks=e.overrideHeaderInfo.breadCrumbLinks.concat(t)),e.setHeaderInformation(n),e.changeHeaderLoading(!1),e.changeEntityLoading(!1),r(!1)};return u.a.createElement(u.a.Fragment,null,n?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(d.d,null,e.routes.map(function(t){return u.a.createElement(d.b,ft({key:t.path,path:""+e.match.url+t.path,render:t.render},t.args.reduce(function(e,t){var n;return ft({},e,((n={})[t]=!0,n))},{})))}),u.a.createElement(m.a,ft({},e))))}),yt=Object(p.b)(null,function(e){return{changeHeaderLoading:function(t){return e(Ee(t))},changeEntityLoading:function(t){return e(Oe(t))},changeRatingVisibility:function(t){return e(ve(t))},changeGraphVisibility:function(t){return e(xe(t))},changePeriodSelectorVisibility:function(t){return e(_e(t))},setHeaderInformation:function(t){return e(be(t))}}})(gt),bt=n("./node_modules/query-string/index.js"),ht=n.n(bt),vt=n("./src/shared/lists/pagination/Pagination.tsx"),xt=n("./src/styles/animations/containerAnimations.sc.ts"),_t=n("./src/modules/reports/shared/distributers/actionDistributor.ts"),jt=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),wt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Et=jt.default.div.withConfig({displayName:"ListContainer"})(nt||(nt=wt(["\n  max-width: 1140px;\n  width: 100%;\n  padding-bottom: 30px;\n"],["\n  max-width: 1140px;\n  width: 100%;\n  padding-bottom: 30px;\n"]))),Ot=jt.default.div.withConfig({displayName:"ListSpinner"})(rt||(rt=wt(["\n  margin-top: 45px;\n"],["\n  margin-top: 45px;\n"]))),St=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},kt=O.d.div.withConfig({displayName:"ReportsPageContainer"})(at||(at=St(["\n  margin: 0;\n  width: 100%;\n"],["\n  margin: 0;\n  width: 100%;\n"]))),Tt=O.d.div.withConfig({displayName:"ListSortingContainer"})(it||(it=St(["\n  font-size: 12px;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  height: 100%;\n  padding: 30px 0;\n  display: flex;\n  justify-content: space-between;\n"],["\n  font-size: 12px;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  height: 100%;\n  padding: 30px 0;\n  display: flex;\n  justify-content: space-between;\n"])),function(e){return e.theme.lls_light_grey_heavy}),Ct=O.d.div.withConfig({displayName:"SortingAndFiltering"})(st||(st=St(["\n  display: flex;\n"],["\n  display: flex;\n"]))),It=O.d.div.withConfig({displayName:"SortElement"})(ot||(ot=St(["\n  max-width: 178px;\n  margin-left: 45px;\n"],["\n  max-width: 178px;\n  margin-left: 45px;\n"]))),Pt=O.d.div.withConfig({displayName:"SpinnerContainer"})(lt||(lt=St(["\n  padding-top: ","px;\n"],["\n  padding-top: ","px;\n"])),$.x+60),Rt=n("./src/shared/lists/itemsAmount/ItemsAmount.tsx"),Lt=n("./node_modules/react-router-dom/esm/react-router-dom.js"),Mt=n("./src/shared/buttons/basicButtons/SecondaryButton.sc.ts"),At=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Nt=O.d.div.withConfig({displayName:"EmptyMessageContainer"})(ct||(ct=At(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Ut=O.d.span.withConfig({displayName:"EmptyMessageTxt"})(ut||(ut=At(["\n  font-size: 21px;\n  text-align: center;\n  color: ",";\n  max-width: 20rem;\n  margin-bottom: 2rem;\n"],["\n  font-size: 21px;\n  text-align: center;\n  color: ",";\n  max-width: 20rem;\n  margin-bottom: 2rem;\n"])),function(e){return e.theme.lls_dark_blue_light}),Kt=Object(O.d)(Lt.b).withConfig({displayName:"StyledLink"})(pt||(pt=At(["\n  width: 100%;\n  max-width: 360px;\n  display: flex;\n  justify-content: center;\n"],["\n  width: 100%;\n  max-width: 360px;\n  display: flex;\n  justify-content: center;\n"]))),qt=function(e){var t=e.message,n=e.buttonMessage,r=e.link,a=e.marginTop,i=void 0===a?60:a;return c.createElement(Nt,{style:{marginTop:i}},c.createElement(Ut,{"data-translation":t.key},t.txt),n&&r&&c.createElement(Kt,{to:r},c.createElement(Mt.a,{buttonSize:"large"},c.createElement("span",null,n.txt))))},Ht=n("./src/modules/reports/shared/components/shared/AvatarTextBubbleItem.tsx"),Dt=n("./src/routingConfig.ts"),Ft=n("./src/store/session/session.reducer.ts"),zt=Object(v.d)()(function(e){var t=e.t,n=e.subject,r=e.subjectType,a=e.newsList,i=a?Object.values(a.news_list):[],s=i.length,o=Object(c.useMemo)(function(){return[{txt:t("x.reports.company_profile."+(r===w.a.Survey?"survey":"news")+".empty.message"),key:"x.reports.company_profile."+(r===w.a.Survey?"survey":"news")+".empty.message"},{txt:t("x.reports.company_profile."+(r===w.a.Survey?"survey":"news")+".empty.button"),key:"x.reports.company_profile."+(r===w.a.Survey?"survey":"news")+".empty.button"}]},[s]),l=o[0],p=o[1],d=Dt.a.reports.createTopicQuestionProfileLink(r);return u.a.createElement(kt,null,s>0?i.map(function(a){return u.a.createElement(Ht.default,{key:a.id,t:t,answer:a,isAdmin:e.isAdmin,scale:a.scale_version_id?e.scales[a.scale_version_id]:null,titleLink:d(a.question.topic_id,a.question.id,r!==w.a.Company?n.id:void 0),withBorder:!0})}):u.a.createElement(qt,{marginTop:0,message:l,buttonMessage:p,link:r===w.a.Survey?Dt.a.contentSurveys.surveys+"/"+n.id:Dt.a.answerQuestions.questions}))}),Gt=Object(d.g)(zt),Bt=Object(p.b)(function(e){return{isAdmin:Object(Ft.e)(e),scales:e.scales.byId}})(Gt);!function(e){e.All="0",e.WithComments="1"}(dt||(dt={}));var Wt,Vt,Qt,Yt,Zt,Jt,Xt,$t,en,tn,nn,rn,an,sn,on,ln,cn,un,pn,dn,mn,fn,gn=[{name:dt.All,translationKey:"x.reports.news.with_comments_filter.all"},{name:dt.WithComments,translationKey:"x.reports.news.with_comments_filter.with_comments"}],yn=function(){return(yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},hn=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},vn={page:"1",filterWithComments:"0"},xn=Object(d.g)(function(e){var t=Object(v.c)()[0],n=Object(c.useState)(vn),r=n[0],a=n[1],i=Object(c.useState)(!0),s=i[0],o=i[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",0);var t=ht.a.parse(e.location.search),n={page:t.page||"1",filterWithComments:t.filterWithComments||"0"};a(n),l(n).then(function(){o(!1)})},[]);var l=function(t){return bn(void 0,void 0,void 0,function(){var n;return hn(this,function(r){switch(r.label){case 0:return e.location.state&&e.location.state.isRedirected?[3,2]:[4,p(t).then(function(){o(!1)})];case 1:return r.sent(),[3,3];case 2:delete(n=yn({},x.state)).isRedirected,e.history.replace({state:n}),r.label=3;case 3:return[2]}})})},p=function(t){return bn(void 0,void 0,void 0,function(){return hn(this,function(n){switch(n.label){case 0:return e.history.replace(Object(S.c)(t)),e.sessionUser?[4,e.fetchNewsListOfSubject(e.entityType,e.entityObj,e.sessionUser,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},d=Object(c.useMemo)(function(){return gn.map(function(n){var r=yn({},n,{label:t(n.translationKey)});return e.newsList&&(n.name===dt.All?r.label+=" ("+e.newsList.total_cards+")":r.label+=" ("+e.newsList.cards_with_comments+")"),r})},[e.newsList]),m=function(e){a(e),p(yn({},e))},f=e.entityObj,g=e.entityType,b=e.pagination,h=e.history,x=e.location,_=e.loading;return u.a.createElement(Et,{"data-testid":"reports__news__list"},u.a.createElement(Tt,null,b&&!_?u.a.createElement(Rt.default,{t:t,pagination:b,onePageKey:"x.reports.company_profile.subtitle.comments.length",multyPageKey:"x.reports.company_profile.subtitle.comments.amount_from_to"}):u.a.createElement("div",null),b&&d&&(b.total>1||"0"!==r.filterWithComments)&&u.a.createElement(J.a,{sortingOptions:d,selectedSorting:r.filterWithComments,sortList:function(e){m(yn({},r,{filterWithComments:e}))},selectorLabelKey:"x.reports.news.with_comments_filter.label"})),s||_?u.a.createElement(y.default,{marginTop:60}):e.newsList&&u.a.createElement(xt.a,null,u.a.createElement(Bt,{subject:f,subjectType:g,newsList:e.newsList})),b&&!s&&u.a.createElement(vt.default,{t:t,totalItems:b.total,pageSize:b.per_page,onChange:function(e){m(yn({},r,{page:e.toString()}))},marginTop:60,history:h,location:x,defaultCurrPage:b.page}))}),_n=Object(p.b)(function(e,t){var n=e.reportsManagement,r=e.user,a=t.entityType,i=Object(_t.j)(a,n);return{newsList:i.result,pagination:i.pagination,loading:n[a+"Profile"].loading,sessionUser:r.session.user}},function(e){return{fetchNewsListOfSubject:function(t,n,r,a){return e(Object(_t.c)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Se(t,n))}}})(xn),jn=n("./node_modules/moment/moment.js"),wn=n.n(jn),En=(Wt="x.reports.user.my_team.list.sorting",[{name:D.b.Fullname_asc,translationKey:Wt+".name_AtoZ"},{name:D.b.Fullname_desc,translationKey:Wt+".name_ZtoA"},{name:D.b.Lastname_asc,translationKey:Wt+".last_name_AtoZ"},{name:D.b.Lastname_desc,translationKey:Wt+".last_name_ZtoA"}]),On=n("./src/services/translationServices.ts"),Sn=n("./src/services/hooks/useScrollContainer.ts"),kn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Tn=O.d.span.withConfig({displayName:"BarSelectorTriggerContainer"})(Vt||(Vt=kn(["\n  text-transform: uppercase;\n  align-items: center;\n  vertical-align: top;\n  cursor: pointer;\n  font-weight: 600;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  display: flex;\n  font-size: 0.8rem;\n  max-width: 100%;\n"],["\n  text-transform: uppercase;\n  align-items: center;\n  vertical-align: top;\n  cursor: pointer;\n  font-weight: 600;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  display: flex;\n  font-size: 0.8rem;\n  max-width: 100%;\n"])),function(e){return e.theme.lls_dark_blue_light}),Cn=O.d.div.withConfig({displayName:"TextMargin"})(Qt||(Qt=kn(["\n  margin-left: 3px;\n"],["\n  margin-left: 3px;\n"]))),In=Object(O.d)(Cn).withConfig({displayName:"SortingLabel"})(Yt||(Yt=kn(["\n  text-overflow: ",";\n  overflow: hidden;\n  white-space: nowrap;\n  text-transform: ",";\n"],["\n  text-overflow: ",";\n  overflow: hidden;\n  white-space: nowrap;\n  text-transform: ",";\n"])),function(e){return e.noOverflow?"default":"ellipsis"},function(e){return e.noOverflow?"none":"uppercase"}),Pn=function(e){var t=e.labelTextKey,n=e.triggerTextKey,r=e.t,a=e.clickTrigger;return u.a.createElement(Tn,{onClick:a},u.a.createElement(Cn,null,r(t)),u.a.createElement(In,{"data-translation":n},r(n)),u.a.createElement(Cn,null,u.a.createElement(Re.default,{name:"iconColoredBars",width:"10px"})))},Rn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ln=O.d.div.withConfig({displayName:"QuestionsSortSelectorContainer"})(Zt||(Zt=Rn(["\n  font-family: 'Open Sans', sans-serif;\n  display: flex;\n  flex-direction: column;\n  padding: 0 0.933rem 0 0.933rem;\n  font-weight: 200;\n  min-width: 15rem;\n"],["\n  font-family: 'Open Sans', sans-serif;\n  display: flex;\n  flex-direction: column;\n  padding: 0 0.933rem 0 0.933rem;\n  font-weight: 200;\n  min-width: 15rem;\n"]))),Mn=O.d.span.withConfig({displayName:"LabelContainer"})(Jt||(Jt=Rn(["\n  text-align: center;\n  padding: 1rem 0 0 0;\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 26px;\n  color: ",";\n"],["\n  text-align: center;\n  padding: 1rem 0 0 0;\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 26px;\n  color: ",";\n"])),function(e){return e.theme.lls_dark_blue_light}),An=O.d.div.withConfig({displayName:"BarItemContainer"})(Xt||(Xt=Rn(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  text-decoration: ",";\n  cursor: ",";\n  margin-bottom: 0.07rem;\n  min-width: fit-content;\n  width: 100%;\n  :hover {\n    color: ",";\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  text-decoration: ",";\n  cursor: ",";\n  margin-bottom: 0.07rem;\n  min-width: fit-content;\n  width: 100%;\n  :hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.lls_light_grey_light},function(e){return e.clickable?"underline":"none"},function(e){return e.clickable?"pointer":"default"},function(e){var t=e.clickable,n=e.theme;return t?n.lls_dark_blue_light:n.lls_light_grey_light}),Nn=O.d.span.withConfig({displayName:"LabelContainerLink"})($t||($t=Rn(["\n  flex-grow: 1;\n  min-width: 35px;\n  width: auto;\n  text-align: end;\n"],["\n  flex-grow: 1;\n  min-width: 35px;\n  width: auto;\n  text-align: end;\n"]))),Un=O.d.div.withConfig({displayName:"AllSelectorContainer"})(en||(en=Rn(["\n  height: 100%;\n  width: 100%;\n"],["\n  height: 100%;\n  width: 100%;\n"]))),Kn=O.d.div.withConfig({displayName:"AnswersSelectorContainer"})(tn||(tn=Rn(["\n  border-left: 1px solid ",";\n  height: 100%;\n  width: 100%;\n"],["\n  border-left: 1px solid ",";\n  height: 100%;\n  width: 100%;\n"])),function(e){return e.theme.lls_dark_white_light}),qn=O.d.div.withConfig({displayName:"AllSelectorWrapper"})(nn||(nn=Rn(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  cursor: pointer;\n  text-decoration: underline;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  cursor: pointer;\n  text-decoration: underline;\n\n  :hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.lls_light_grey_light},function(e){return e.theme.lls_dark_blue_light}),Hn=O.d.div.withConfig({displayName:"AnswersSelector"})(rn||(rn=Rn(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  padding: 0 15px 0 15px;\n  cursor: pointer;\n  text-decoration: underline;\n  text-align: center;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  padding: 0 15px 0 15px;\n  cursor: pointer;\n  text-decoration: underline;\n  text-align: center;\n\n  :hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.lls_light_grey_light},function(e){return e.theme.lls_dark_blue_light}),Dn=O.d.div.withConfig({displayName:"BarsContainer"})(an||(an=Rn(["\n  padding: 1rem 0 1rem 0;\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n"],["\n  padding: 1rem 0 1rem 0;\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n"]))),Fn=O.d.div.withConfig({displayName:"DefaultSelector"})(sn||(sn=Rn(["\n  display: flex;\n  padding: 2rem 0 2rem 0;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid ",";\n"],["\n  display: flex;\n  padding: 2rem 0 2rem 0;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid ",";\n"])),function(e){return e.theme.lls_dark_white_light}),zn=O.d.div.withConfig({displayName:"BarContainer"})(on||(on=Rn(["\n  width: 150px;\n  height: 12px;\n  background-color: ",";\n"],["\n  width: 150px;\n  height: 12px;\n  background-color: ",";\n"])),function(e){return e.theme.lls_light_white}),Gn=O.d.div.withConfig({displayName:"BarWrapper"})(ln||(ln=Rn(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 0 10px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  margin: 0 10px;\n"]))),Bn=O.d.span.withConfig({displayName:"CountContainer"})(cn||(cn=Rn(["\n  min-width: 35px;\n"],["\n  min-width: 35px;\n"]))),Wn=Object(O.e)(un||(un=Rn(["\n  from {\n    width: 0;\n  }\n"],["\n  from {\n    width: 0;\n  }\n"]))),Vn=O.d.div.withConfig({displayName:"Bar"})(pn||(pn=Rn(["\n  height: 12px;\n  width: ","px;\n"],["\n  height: 12px;\n  width: ","px;\n"])),function(e){return 1.5*e.filled}),Qn=O.d.div.withConfig({displayName:"GrowBar"})(dn||(dn=Rn(["\n  height: 12px;\n  background-color: ",";\n  width: 100%;\n  animation: "," 0.5s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n"],["\n  height: 12px;\n  background-color: ",";\n  width: 100%;\n  animation: "," 0.5s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n"])),function(e){return e.color},Wn),Yn=O.d.div.withConfig({displayName:"HoverSortingContainer"})(mn||(mn=Rn(["\n  justify-self: ",";\n  align-self: ",";\n  font-size: 1rem;\n  height: 30px;\n  display: flex;\n  color: ",";\n  align-items: center;\n  width: auto;\n  max-width: 100%;\n"],["\n  justify-self: ",";\n  align-self: ",";\n  font-size: 1rem;\n  height: 30px;\n  display: flex;\n  color: ",";\n  align-items: center;\n  width: auto;\n  max-width: 100%;\n"])),function(e){return e.position||"center"},function(e){return e.alignBottom?"end":"center"},function(e){return e.theme.lls_light_grey_heavy}),Zn=O.d.div.withConfig({displayName:"HoverSortingContentBox"})(fn||(fn=Rn(["\n  min-height: 60px;\n  overflow-y: auto;\n  font-weight: 200;\n  margin: -12px -16px;\n  border-radius: 4px;\n  position: relative;\n  z-index: 9;\n"],["\n  min-height: 60px;\n  overflow-y: auto;\n  font-weight: 200;\n  margin: -12px -16px;\n  border-radius: 4px;\n  position: relative;\n  z-index: 9;\n"]))),Jn=n("./src/styles/colors/index.ts"),Xn=function(e){var t=e.selection.rating/e.ratingCount,n=t&&t>0?100*t:4/3;return u.a.createElement(An,{clickable:0!==e.selection.rating,onClick:function(){e.selection.rating>0&&e.handleClick(e.selection.distKey.toString())}},u.a.createElement(Nn,null,e.selection.text),u.a.createElement(Gn,null,u.a.createElement(zn,null,u.a.createElement(Vn,{filled:n},u.a.createElement(Qn,{color:e.barColor})))),u.a.createElement(Bn,null,e.selection.rating))},$n=u.a.memo(function(e){var t=Jn.j[e.selections.length];return u.a.createElement(Dn,null,e.selections.map(function(n,r){return u.a.createElement(Xn,{key:n.text,barColor:e.barColor||t[r],handleClick:e.handleClick,selection:n,ratingCount:e.ratingCount})}))}),er=function(e){var t=e.t,n=e.handleAllClick,r=e.allTxtKey;return u.a.createElement(Un,null,u.a.createElement(qn,{"data-translation":r||"x.reports.questions.rating.sorting.selector.all",onClick:n},t(r||"x.reports.questions.rating.sorting.selector.all")))},tr=function(e){return u.a.createElement(Kn,null,u.a.createElement(Hn,{onClick:function(){e.onAction("1",!0)},"data-translation":e.translation.key},e.translation.txt," (",e.count||"",")"))},nr=Object(v.d)()(function(e){var t=Object(c.useState)(!1),n=t[0],r=t[1],a=Object(c.useRef)(null),i=Object(Sn.a)(a),s=i.addEventListener,o=i.removeEventListener,l=i.checkHeight,p=i.boxTopPosition,d=Object(c.useMemo)(function(){return e.selections.reduce(function(e,t){return e+t.rating},0)},[e.selections]);Object(c.useEffect)(function(){return n&&(s(),l()),function(){o()}},[n]);var m,f=function(){r(function(e){return!e})},g=u.a.createElement(Zn,{style:{maxHeight:"calc(100vh - "+(p||"100")+"px)"}},u.a.createElement(Ln,null,u.a.createElement(Mn,null,e.header),u.a.createElement(Dn,null,u.a.createElement($n,{barColor:e.barColor,selections:e.selections,ratingCount:d,handleClick:function(t){f(),e.selectSorting(t)}})),u.a.createElement(Fn,null,u.a.createElement(er,{allTxtKey:e.allTxtKey,handleAllClick:function(){f(),e.clickAll()},t:e.t}),e.secondCount&&e.secondTxtKey?u.a.createElement(tr,{count:e.secondCount,onAction:function(t,n){f(),e.secondClick&&e.secondClick(t,n)},translation:{key:e.secondTxtKey,txt:e.t(e.secondTxtKey)}}):null)));return u.a.createElement(Yn,{ref:a},u.a.createElement(E.a,{trigger:"click",visible:!!n,onVisibleChange:f,content:g,placement:"bottom"},u.a.createElement(Pn,{t:e.t,clickTrigger:f,labelTextKey:e.labelTextKey,triggerTextKey:(m=e.selections.find(function(t){return t.distKey===e.selectedSelection}),m?m.text:e.selectedSelection?e.selectedSelection.toString():e.allTxtKey||"x.reports.questions.rating.sorting.selector.all")})))}),rr=function(e,t,n){switch(t.visualization){case b.b.Stars:return n("x.reports.rating_filter.stars.label",{count:(e-1)/2+1});case b.b.Nps:return e.toString();case b.b.Labels:return Object(On.c)(t.labels[e]);default:return"UNKNOWN"}},ar=u.a.memo(function(e){var t=function(t){if(e.scale.visualization===b.b.Stars){if(0===t)return!1;if(e.fullStars&&t%2==0)return!1}return!0},n=Object.keys(e.distribution).reduce(function(n,r,a){return t(a)&&n.unshift({text:rr(a,e.scale,e.t),rating:e.distribution[r],distKey:r}),n},[]);return u.a.createElement(nr,{header:e.header,selections:n,labelTextKey:e.labelTextKey,selectSorting:e.selectSorting,clickAll:function(){return e.selectSorting(null)},selectedSelection:e.selectedSorting||void 0,secondClick:e.secondClick,secondCount:e.secondCount,secondTxtKey:e.secondTxtKey})}),ir=Object(p.b)(function(e,t){return{isAdmin:Object(Ft.e)(e),listLoading:Object(_t.i)(t.subjectType,e.reportsManagement),scales:e.scales.byId}})(function(e){var t=Object(v.c)()[0],n=Object(c.useMemo)(function(){return e.filters.filterRating?e.filters.filterRating:e.filters.filterWithComments?"x.reports.questions.rating.sorting.selector.with_comments":void 0},[e.filters.filterRating,e.filters.filterWithComments]),r=Object(c.useMemo)(function(){return u.a.createElement("span",{"data-translation":"x.reports.questions.rating_selector.label"},t("x.reports.questions.rating_selector.label",{count:e.answersObject.number_of_answers}))},[e.answersObject.number_of_answers]),a=e.subjectType,i=e.subject,s=e.pagination,o=e.answersObject,l=a===w.a.Survey?"survey":"news";return u.a.createElement(kt,null,o&&o.answer_list!==[]?u.a.createElement(u.a.Fragment,null,u.a.createElement(Tt,null,s&&u.a.createElement(Rt.default,{t:t,pagination:s,onePageKey:"x.reports.company_profile.subtitle.answers.length",multyPageKey:"x.reports.company_profile.subtitle.answers.amount_from_to"}),u.a.createElement(Ct,null,u.a.createElement(It,null,u.a.createElement(ar,{fullStars:!0,scale:e.scale,distribution:e.answersObject.rating_distribution,t:t,header:r,labelTextKey:"x.reports.questions.rating.sorting.label.answers",selectedSorting:n,selectSorting:function(t){e.changeBarFilter(t,null)},secondClick:function(t){e.changeBarFilter(null,t)},secondCount:e.answersObject.total_number_of_answers_with_comments,secondTxtKey:"x.reports.questions.rating.sorting.selector.with_comments"})),u.a.createElement(It,null,u.a.createElement(J.a,{sortingOptions:[{name:D.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.latest"},{name:D.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.oldest"},{name:D.b.Rating_desc,translationKey:"x.reports.topics.sorting.most_rating"},{name:D.b.Rating_asc,translationKey:"x.reports.topics.sorting.least_rating"}],selectedSorting:e.filters.sort,sortList:e.changeSorting,selectorWithLabel:!0})))),u.a.createElement("div",null,e.listLoading?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(xt.a,null,Object.values(o.answer_list).map(function(n){return u.a.createElement(Ht.default,{t:t,key:n.id,answer:n,scale:e.scales[n.scale_version_id],isAdmin:e.isAdmin,withBorder:!0})})),s&&u.a.createElement(vt.default,{t:t,totalItems:s.total,pageSize:s.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:e.history,location:e.location,defaultCurrPage:s.page}))):u.a.createElement(qt,{message:{txt:t("x.reports.company_profile."+l+".empty.message"),key:"x.reports.company_profile."+l+".empty.message"},buttonMessage:{txt:t("x.reports.company_profile."+l+".empty.button"),key:"x.reports.company_profile."+l+".empty.button"},link:a===w.a.Survey?"/content/surveys/"+i.id:"/questions"}))}),sr=Object(d.g)(ir),or=function(){return(or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},lr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},cr=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ur={page:"1",filterRating:null,filterWithComments:null,sort:D.b.DefaultString_asc};var pr,dr,mr,fr,gr,yr=Object(d.g)(function(e){var t=Object(c.useState)(ur),n=t[0],r=t[1],a=Object(c.useState)(!0),i=a[0],s=a[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",0);var t=ht.a.parse(e.location.search),n={page:t.page||"1",filterRating:t.filterRating||null,sort:t.sort||D.b.LastAnswered_desc,filterWithComments:t.filterWithComments||null};r(n),l(n).then(function(){s(!1)})},[]);var o=Object(c.useMemo)(function(){return Object(X.c)(e.scale).toString()},[e.scale]),l=function(t){return lr(void 0,void 0,void 0,function(){var n,r;return cr(this,function(a){switch(a.label){case 0:return n=or({},t,{filterAnsweredRange:e.selectedPeriod}),e.history.replace(Object(S.c)(n)),r=or({},n,{ordScaleLength:o}),[4,e.fetchAnswerListOfSubject(e.subjectType,r,e.questionId,e.subject,e.sessionUser)];case 1:return a.sent(),[2]}})})};return Object(c.useEffect)(function(){i||l(or({},n))},[e.selectedPeriod]),u.a.createElement("div",null,i?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(sr,{filters:n,changeBarFilter:function(e,t){r(or({},n,{filterWithComments:t,filterRating:e})),l(or({},n,{filterRating:e,filterWithComments:t}))},changeSorting:function(e){r(or({},n,{sort:e})),l(or({},n,{sort:e}))},changePage:function(e){r(or({},n,{page:e})),l(or({},n,{page:e}))},topicId:e.topicId,scale:e.scale,answersObject:e.answersObject,subject:e.subject,subjectType:e.subjectType,pagination:e.pagination}))}),br=Object(p.b)(function SubjectAnswersList_mapStateToProps(e,t){var n=Object(_t.h)(t.subjectType,e.reportsManagement);return{sessionUserManager:Object.values(e.user.session.user.manager_attributes)[0],answersObject:n.result,pagination:n.pagination,sessionUser:e.user.session.user,selectedPeriod:e.reportsManagement.header.selectedPeriod}},function(e){return{fetchAnswerListOfSubject:function(t,n,r,a,i){return e(Object(_t.b)(t,n,r,a,i))},changeSingleHeaderInformation:function(t,n){return e(Se(t,n))}}})(yr),hr=function(){return(hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},xr=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},_r=Object(d.g)(function(e){var t=Object(c.useState)(!0),n=t[0],r=t[1],a=Object(c.useMemo)(function(){return(new Date).getTime()>wn()(e.company.created_at).add(1,"month").valueOf()?D.a.LastYear:D.a.LastMonth},[e.company]);Object(c.useEffect)(function(){e.changeHeaderLoading(!0),i().then(function(t){t&&(s(t.topic,t.question),e.changeHeaderLoading(!1)),r(!1)})},[]),Object(c.useEffect)(function(){n||(r(!0),i(e.selectedPeriod).then(function(e){e&&s(e.topic,e.question),r(!1)}))},[e.selectedPeriod]);var i=function(t){return void 0===t&&(t=a),vr(void 0,void 0,void 0,function(){var n,r,a;return xr(this,function(i){switch(i.label){case 0:return t?(e.changeSelectedPeriod(t),[4,e.fetchQuestionsSummary(e.match.params.questionId,e.entityType,t,e.entityObj,e.sessionUser)]):[3,2];case 1:return n=i.sent(),r=n.response.data,a={result:r.result||{},scale:e.scales[r.topic.scale_version_id]||{},ratingIndex:0,manager:r.manager||null},e.changeHeaderRating(a),[2,Promise.resolve(r)];case 2:return[2]}})})},s=function(t,n){e.changeRatingVisibility(!0),e.entityType!==w.a.Survey&&(e.changeGraphVisibility(!0),e.changePeriodSelectorVisibility(!0));var r,a,i={id:n.id,name:Object(On.c)(n.text),type:t.type,description:n.description};l(t,n),e.setHeaderInformation({subject:i,entityType:e.entityType,selectedTabIndex:0,depth:2,subjectType:w.b.Question,entity:e.entityObj,tabs:(r=t.id,a=n.id,[{name:"ANSWERS",translationKey:"x.company_settings.header.tabs.answers",link:"/topics/detail/"+r+"/questions/detail/"+a+"/answers"}])})},o=Object(c.useMemo)(function(){return e.answersSummary?e.scales[e.answersSummary.topic.scale_version_id]:null},[e.scales,e.answersSummary]),l=function(t,n){var r=e.entityObj,a=e.entityType,i=[w.a.Survey,w.a.Group,w.a.User].includes(a)?r.id+"/":"",s=[{name:r.name,link:"/reports/"+a+"/profile/"+i+"topics"},{name:t?Object(On.c)(t.name):"",link:"/reports/"+a+"/profile/"+i+"topics/detail/"+(t?t.id:void 0)},{name:n?Object(On.c)(n.text):"",link:""+e.match.url}];a===w.a.Survey&&("admin"!==e.entityObj.surveyScope&&e.sessionUser?s.unshift({name:e.t("x.reports.survey_profile.my-request-link"),link:"/reports/user/profile/"+e.sessionUser.uuid+"/list/my-requests"}):s.unshift({name:e.t("x.reports.survey_profile.manage_survey_link"),link:Dt.a.contentSurveys.surveys})),e.overwriteBreadCrumbLinks(s)},p=Object(c.useCallback)(function(){return u.a.createElement(d.a,{to:e.match.url+"/answers"})},[e.match.url]),f=Object(c.useCallback)(function(){return o?u.a.createElement(br,{scale:o,questionId:e.match.params.questionId,topicId:e.topicId,subject:e.entityObj,subjectType:e.entityType}):null},[e.match.params.questionId,o,e.topicId,e.entityObj,e.entityType]);return u.a.createElement(u.a.Fragment,null,n?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,path:e.match.url,component:p}),u.a.createElement(d.b,{exact:!0,strict:!0,path:e.match.url+"/answers",render:f}),u.a.createElement(m.a,hr({},e))))}),jr=Object(p.b)(function(e){return{selectedPeriod:e.reportsManagement.header.selectedPeriod,scales:e.scales.byId,company:e.user.session.company,answersSummary:e.reportsManagement.header.summaries.answer,sessionUser:e.user.session.user}},function(e){return{changeHeaderRating:function(t){return e(je(t))},changeHeaderLoading:function(t){return e(Ee(t))},fetchQuestionsSummary:function(t,n,r,a,i){return e(Ce(t,n,r,a,i))},changeSelectedPeriod:function(t){return e(we(t))},changeRatingVisibility:function(t){return e(ve(t))},changeGraphVisibility:function(t){return e(xe(t))},changePeriodSelectorVisibility:function(t){return e(_e(t))},setHeaderInformation:function(t){return e(be(t))},overwriteBreadCrumbLinks:function(t){return e(he(t))}}})(_r),wr=n("./src/shared/lists/listItem/ListItem.tsx"),Er=n("./src/shared/UrlText.tsx"),Or=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Sr=O.d.div.withConfig({displayName:"ListItemWrapper"})(pr||(pr=Or(["\n  h3 {\n    font-size: 1rem;\n  }\n"],["\n  h3 {\n    font-size: 1rem;\n  }\n"]))),kr=O.d.div.withConfig({displayName:"RatingContainer"})(dr||(dr=Or(["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n  min-width: 230px;\n"],["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n  min-width: 230px;\n"])),function(e){return e.theme.lls_dark_white}),Tr=O.d.span.withConfig({displayName:"NoAnswersMessage"})(mr||(mr=Or(["\n  color: ",";\n"],["\n  color: ",";\n"])),function(e){return e.theme.lls_light_grey_light}),Cr=function(e){var t=e.t,n=e.question,r=e.scale,a=e.labelIndex;return u.a.createElement(kr,null,n.last_answered_at&&r&&null!==a?u.a.createElement(me.default,{rating:a,type:r.visualization,labelIndex:a,labels:r.labels?r.labels:[],maxRating:Object(X.d)(r),labelColor:"lls_light_grey_light"}):u.a.createElement(Tr,{"data-translation":"x.reports.topics.topic_item.info.no_answer.message"},t("x.reports.topics.topic_item.info.no_answer.message")))},Ir=u.a.memo(function(e){var t=e.t,n=e.question,r=e.link,a=[{key:"x.reports.display_scale.information.answers",txt:t("x.reports.display_scale.information.answers",{count:n.rating_count})},{key:"x.reports.display_scale.information.comments",txt:t("x.reports.display_scale.information.comments",{count:n.cards_with_comments})}];n.last_answered_at&&a.push({key:"x.reports.topics.topic_item.info.last_answered",txt:t("x.reports.topics.topic_item.info.last_answered")+" "+wn()(n.last_answered_at).format("ll")});var i="linear-gradient(to right, rgba(255, 255, 255, 0) 60%, "+Jn.h+" 70%,",s={background:i+" "+Jn.a+" 100%)",color:Jn.h,wideBtn:{key:"x.reports.questions.item.label.page_not_available",txt:t("x.reports.questions.item.label.page_not_available"),icon:"iconBubbleQuestionMark"}};return n.last_answered_at&&(s.background=i+" "+Jn.d+" 100%)",s.wideBtn={key:"x.reports.questions.item.label.open_questions",txt:t("x.reports.questions.item.label.open_questions"),icon:"iconArrow",link:r}),u.a.createElement(Sr,null,u.a.createElement(wr.default,{title:u.a.createElement(Er.default,{text:Object(On.c)(n.text)}),itemProps:a,hoverContent:s,rightSection:Cr(e)}))}),Pr=n("./src/services/session.ts"),Rr=Object(p.b)(function(e,t){return{contentLocale:Object(Pr.h)(e),scales:e.scales.byId,listLoading:Object(_t.i)(t.iconSubjectType,e.reportsManagement)}})(function(e){var t,n=Object(v.c)()[0],r=Object(c.useMemo)(function(){return u.a.createElement("span",{"data-translation":"x.reports.questions.rating_selector.label"},n("x.reports.questions.rating_selector.label",{count:e.questionsObject.number_of_questions}))},[e.questionsObject.number_of_questions]),a=Object(c.useMemo)(function(){return e.filters.filterRating?e.filters.filterRating:e.filters.filterNoAnswers?"x.reports.questions.rating.sorting.selector.no_answers":null},[e.filters.filterRating,e.filters.filterNoAnswers]),i=function(t){return null===t.last_answered_at?""+e.match.url+e.location.search:e.match.url.replace("/list","")+"/detail/"+t.id},s=e.pagination,o=e.history,l=e.location,p=e.subjectType,d=e.questionsObject,m=e.subject,f=p===w.a.Survey?"survey":"news";return u.a.createElement(kt,null,Object.keys(d.question_list).length<1?u.a.createElement(qt,{message:{txt:n("x.reports.company_profile."+f+".empty.message"),key:"x.reports.company_profile."+f+".empty.message"},buttonMessage:{txt:n("x.reports.company_profile."+f+".empty.button"),key:"x.reports.company_profile."+f+".empty.button"},link:p===w.a.Survey?"/content/surveys/"+m.id:"/questions"}):u.a.createElement(u.a.Fragment,null,u.a.createElement(Tt,null,s&&u.a.createElement(Rt.default,{t:n,pagination:s,onePageKey:"x.reports.company_profile.subtitle.questions.length",multyPageKey:"x.reports.company_profile.subtitle.questions.amount_from_to"}),u.a.createElement(Ct,null,u.a.createElement(It,null,u.a.createElement(ar,{scale:e.scale,distribution:e.questionsObject.rating_distribution,t:n,header:r,labelTextKey:"x.reports.questions.rating.sorting.label",selectedSorting:a,selectSorting:function(t){e.changeBarFilter(t,null)},secondClick:function(t){e.changeBarFilter(null,t)},secondCount:e.questionsObject.total_number_of_questions_without_ratings,secondTxtKey:"x.reports.questions.rating.sorting.selector.no_answers"})),u.a.createElement(It,null,u.a.createElement(J.a,{sortingOptions:(t=e.contentLocale,[{name:D.b.DefaultString_asc,translationKey:"x.reports.topics.sorting.default"},{name:D.b.Rating_desc,translationKey:"x.reports.topics.sorting.most_rating"},{name:D.b.Rating_asc,translationKey:"x.reports.topics.sorting.least_rating"},{name:D.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.last_updated"},{name:D.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.least_updated"},{name:D.b.Answered_desc,translationKey:"x.reports.topics.sorting.most_answered"},{name:D.b.Answered_asc,translationKey:"x.reports.topics.sorting.least_answered"},{name:D.b.QuestionText_asc+"."+t,translationKey:"x.reports.topics.sorting.AtoZ"},{name:D.b.QuestionText_desc+"."+t,translationKey:"x.reports.topics.sorting.ZtoA"}]),selectedSorting:e.filters.sort,sortList:function(t){e.changeSorting(t)},selectorWithLabel:!0})))),u.a.createElement("div",null),e.listLoading?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(xt.a,null,Object.values(e.questionsObject.question_list).map(function(t){return u.a.createElement(Ir,{key:t.id,t:n,scale:(r=t,r.scale_version_id?e.scales[r.scale_version_id]:null),question:t,labelIndex:t.scale_id?Object(X.a)(t.avg_rating_ord,e.scale):null,link:i(t)});var r})),s&&u.a.createElement(vt.default,{t:n,totalItems:s.total,pageSize:s.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:o,location:l,defaultCurrPage:s.page})))}),Lr=Object(d.g)(Rr),Mr=function(){return(Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ar=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Nr=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ur={page:"1",filterRating:null,filterNoAnswers:null,sort:D.b.DefaultString_asc},Kr=Object(d.g)(function(e){var t=Object(c.useState)(Ur),n=t[0],r=t[1],a=Object(c.useState)(!0),i=a[0],s=a[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",0);var t=ht.a.parse(e.location.search),n={page:t.page||"1",filterRating:t.filterRating||null,sort:t.sort||D.b.DefaultString_asc,filterNoAnswers:t.filterNoAnswers||null};r(n),p(n).then(function(){s(!1)})},[]);var o=Object(c.useMemo)(function(){return e.scale?Object(X.c)(e.scale).toString():null},[e.scale]),l=function(e){r(e),p(Mr({},e))};Object(c.useEffect)(function(){i||p(Mr({},n))},[e.selectedPeriod]);var p=function(t){return Ar(void 0,void 0,void 0,function(){var n,r;return Nr(this,function(a){switch(a.label){case 0:return n=Mr({},t,{filterAnsweredRange:e.selectedPeriod}),e.history.replace(Object(S.c)(n)),r=Mr({},n,{ordScaleLength:o}),e.sessionUser?[4,e.fetchQuestionListOfSubject(e.subjectType,r,e.topicId,e.subject,e.sessionUser)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};return u.a.createElement(Et,null,i||!e.questionsObject?u.a.createElement(Ot,null,u.a.createElement(y.default,null)):e.scale&&e.pagination&&e.questionsObject&&u.a.createElement(Lr,{filters:n,changeBarFilter:function(e,t){l(Mr({},n,{filterRating:e,filterNoAnswers:t}))},changeSorting:function(e){l(Mr({},n,{sort:e}))},changePage:function(e){l(Mr({},n,{page:e}))},subject:e.subject,subjectType:e.subjectType,iconSubjectType:e.subjectType,scale:e.scale,questionsObject:e.questionsObject,pagination:e.pagination}))}),qr=Object(p.b)(function(e,t){var n=Object(_t.l)(t.subjectType,e.reportsManagement);return{selectedPeriod:e.reportsManagement.header.selectedPeriod,questionsObject:n.result,pagination:n.pagination,sessionUser:e.user.session.user}},function(e){return{fetchQuestionListOfSubject:function(t,n,r,a,i){return e(Object(_t.e)(t,n,r,a,i))},changeSingleHeaderInformation:function(t,n){return e(Se(t,n))}}})(Kr),Hr=n("./src/styles/animations/index.ts"),Dr=n("./src/interfaces/topic.interface.ts"),Fr=[{id:"all",labelKey:"x.reports.topic_list.sorting.all",itemsAmount:0},{id:Dr.a.People,labelKey:"x.reports.topic_list.sorting.people",iconName:"iconPeople",itemsAmount:0},{id:Dr.a.General,labelKey:"x.reports.topic_list.sorting.general",iconName:"iconPulse",itemsAmount:0},{id:Dr.a.Groups,labelKey:"x.reports.topic_list.sorting.groups",iconName:"iconGroups",itemsAmount:0}],zr="x.reports.participants.selector.",Gr=[zr+"completed",zr+"90",zr+"80",zr+"70",zr+"60",zr+"50",zr+"40",zr+"30",zr+"20",zr+"10",zr+"0",zr+"not_started"],Br=Gr.slice().reverse();!function(e){e.FarAbove="far_above",e.Above="above",e.Average="average",e.Below="below",e.FarBelow="far_below"}(gr||(gr={}));var Wr,Vr,Qr,Yr,Zr,Jr,Xr,$r,ea,ta=((fr={})[gr.FarAbove]="x.reports.improve.selector.far_above_average",fr[gr.Above]="x.reports.improve.selector.above_average",fr[gr.Average]="x.reports.improve.selector.average",fr[gr.Below]="x.reports.improve.selector.below_average",fr[gr.FarBelow]="x.reports.improve.selector.far_below_average",fr),na=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ra=O.d.div.withConfig({displayName:"ImproveItemContainer"})(Wr||(Wr=na(["\n  display: flex;\n  padding: 15px 0;\n  font-size: 15px;\n  line-height: 1.73;\n  color: ",";\n  border-bottom: 1px solid ",";\n  &:first-child {\n    border-top: 1px solid ",";\n  }\n"],["\n  display: flex;\n  padding: 15px 0;\n  font-size: 15px;\n  line-height: 1.73;\n  color: ",";\n  border-bottom: 1px solid ",";\n  &:first-child {\n    border-top: 1px solid ",";\n  }\n"])),function(e){return e.theme.lls_light_grey_heavy},function(e){return e.theme.lls_dark_white},function(e){return e.theme.lls_dark_white}),aa=O.d.div.withConfig({displayName:"ImproveTextWrapper"})(Vr||(Vr=na(["\n  margin-left: 15px;\n  flex: 1;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n"],["\n  margin-left: 15px;\n  flex: 1;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n"])),function(e){return e.theme.lls_white}),ia=O.d.div.withConfig({displayName:"ImproveQuestionWrapper"})(Qr||(Qr=na(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1;\n  margin-right: 15px;\n  > a {\n    width: 100%;\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1;\n  margin-right: 15px;\n  > a {\n    width: 100%;\n  }\n"]))),sa=O.d.div.withConfig({displayName:"ImproveScaleWrapper"})(Yr||(Yr=na(["\n  padding: 15px 0;\n"],["\n  padding: 15px 0;\n"]))),oa=O.d.div.withConfig({displayName:"ImproveTitle"})(Zr||(Zr=na(["\n  font-weight: 600;\n"],["\n  font-weight: 600;\n"]))),la=O.d.span.withConfig({displayName:"ImproveQuestionTitle"})(Jr||(Jr=na(["\n  cursor: pointer;\n  font-weight: 600;\n  color: ",";\n  > span > a {\n    color: ",";\n    text-decoration: none;\n    &:hover {\n      opacity: 1;\n    }\n  }\n"],["\n  cursor: pointer;\n  font-weight: 600;\n  color: ",";\n  > span > a {\n    color: ",";\n    text-decoration: none;\n    &:hover {\n      opacity: 1;\n    }\n  }\n"])),function(e){return e.theme.lls_dark_blue_light},function(e){return e.theme.lls_dark_blue_light}),ca=u.a.memo(function(e){var t=Object(c.useContext)(Gi).isManagedBySessionUser,n=[{key:"x.reports.display_scale.information.answers",txt:e.t("x.reports.display_scale.information.answers",{count:e.improve.rating_count})},{key:"x.reports.display_scale.information.comments",txt:e.t("x.reports.display_scale.information.comments",{count:e.improve.cards_with_comments})}];e.improve.last_answered_at&&n.push({key:"x.reports.topics.topic_item.info.last_answered",txt:e.t("x.reports.topics.topic_item.info.last_answered")+" "+wn()(e.improve.last_answered_at).format("ll")});var r=t?e.improve.how_to_improve:e.improve.how_to_improve_self,a=e.t("x.reports.improve.list.improve.empty");return r&&Object(On.c)(r).length>1&&(a=Object(On.c)(r)),u.a.createElement(ra,null,u.a.createElement(ia,null,u.a.createElement(sa,null,u.a.createElement(me.default,{labelIndex:e.labelIndex||0,type:e.scale.visualization,labels:e.scale.labels,maxRating:Object(X.d)(e.scale),rating:e.improve.avg_rating_ord,labelColor:"lls_light_grey_heavy"})),u.a.createElement(Lt.b,{to:e.link},u.a.createElement(la,null,u.a.createElement(Er.default,{text:Object(On.c)(e.improve.text)}))),u.a.createElement(wr.ListItemPropsDisplay,{itemProps:n})),u.a.createElement(aa,null,u.a.createElement(oa,{"data-translation":"x.reports.improve.list.improve.label"},e.t("x.reports.improve.list.improve.label")),u.a.createElement("div",null,u.a.createElement(Er.default,{blocked:!0,noStyle:!0,text:a}))))}),ua=Object(p.b)(function(e,t){return{contentLocale:Object(Pr.h)(e),scales:e.scales.byId,listLoading:Object(_t.i)(t.iconSubjectType,e.reportsManagement)}})(function(e){var t,n=Object(v.c)()[0],r=Object(c.useMemo)(function(){return u.a.createElement("span",{"data-translation":"x.reports.questions.rating_selector.label"},n("x.reports.questions.rating_selector.label",{count:e.improveObject.number_of_questions}))},[e.improveObject.number_of_questions]),a=Object(c.useMemo)(function(){if(e.filters.filterBenchmark)return ta[e.filters.filterBenchmark]},[e.filters]),i=Object(c.useMemo)(function(){return Object.keys(ta).reduce(function(t,r){return t.push({text:n(ta[r]),rating:e.improveObject.benchmark_distribution[r],distKey:r}),t},[])},[e.improveObject.benchmark_distribution]),s=Object(c.useCallback)(function(t){return e.match.url.replace("improve","questions").replace("/list","")+"/detail/"+t.id},[e.match.url]),o=e.pagination,l=e.history,p=e.location,d=e.subjectType,m=e.improveObject,f=e.subject,g=d===w.a.Survey?"survey":"news";return u.a.createElement(kt,null,!m||Object.keys(m.question_list).length<1?u.a.createElement(qt,{message:{txt:n("x.reports.company_profile."+g+".empty.message"),key:"x.reports.company_profile."+g+".empty.message"},buttonMessage:{txt:n("x.reports.company_profile."+g+".empty.button"),key:"x.reports.company_profile."+g+".empty.button"},link:d===w.a.Survey?"/content/surveys/"+f.id:"/questions"}):u.a.createElement(u.a.Fragment,null,u.a.createElement(Tt,null,o&&u.a.createElement(Rt.default,{t:n,pagination:o,onePageKey:"x.reports.company_profile.subtitle.questions.length",multyPageKey:"x.reports.company_profile.question.amount.multi"}),u.a.createElement(Ct,null,u.a.createElement(It,null,u.a.createElement(nr,{clickAll:function(){e.changeFilterBenchmark(null)},selections:i,header:r,labelTextKey:"x.reports.questions.improve.benchmark.label",selectedSelection:a,selectSorting:function(t){e.changeFilterBenchmark(t)},allTxtKey:"x.reports.improve.bar_selector.all"})),u.a.createElement(It,null,u.a.createElement(ar,{t:n,scale:e.scale,distribution:e.improveObject.rating_distribution,header:r,labelTextKey:"x.reports.questions.rating.sorting.label",selectedSorting:e.filters.filterRating,selectSorting:function(t){e.changeFilterRating(t)}})),u.a.createElement(It,null,u.a.createElement(J.a,{sortingOptions:(t=e.contentLocale,[{name:D.b.Rating_desc,translationKey:"x.reports.topics.sorting.most_rating"},{name:D.b.Rating_asc,translationKey:"x.reports.topics.sorting.least_rating"},{name:D.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.last_updated"},{name:D.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.least_updated"},{name:D.b.Answered_desc,translationKey:"x.reports.topics.sorting.most_answered"},{name:D.b.Answered_asc,translationKey:"x.reports.topics.sorting.least_answered"},{name:D.b.QuestionText_asc+"."+t,translationKey:"x.reports.topics.sorting.AtoZ"},{name:D.b.QuestionText_desc+"."+t,translationKey:"x.reports.topics.sorting.ZtoA"}]),selectedSorting:e.filters.sort,sortList:function(t){e.changeSorting(t)},selectorWithLabel:!0})))),u.a.createElement("div",null),e.listLoading?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(Hr.a,null,Object.values(e.improveObject.question_list).map(function(t){return u.a.createElement(ca,{key:t.id,t:n,scale:e.scales[t.scale_version_id],improve:t,labelIndex:t.scale_id?Object(X.a)(t.avg_rating_ord,e.scale):null,link:s(t)})})),o&&u.a.createElement(vt.default,{t:n,totalItems:o.total,pageSize:o.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:l,location:p,defaultCurrPage:o.page})))}),pa=Object(d.g)(ua),da=function(){return(da=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ma=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},fa=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ga={page:"1",filterRating:null,filterBenchmark:null,sort:D.b.DefaultString_asc},ya=Object(d.g)(function(e){var t=Object(c.useState)(ga),n=t[0],r=t[1],a=Object(c.useState)(!0),i=a[0],s=a[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",1);var t=ht.a.parse(e.location.search),n={page:t.page||"1",sort:t.sort||D.b.Rating_asc,filterRating:t.filterRating||null,filterBenchmark:t.filterBenchmark||null};r(n),p(n).then(function(){s(!1)})},[]);var o=Object(c.useMemo)(function(){return e.scale?Object(X.c)(e.scale).toString():null},[e.scale]),l=function(e){r(e),p(da({},e))},p=function(t){return ma(void 0,void 0,void 0,function(){var n,r;return fa(this,function(a){switch(a.label){case 0:return n=da({},t,{filterAnsweredRange:e.selectedPeriod}),e.history.replace(Object(S.c)(n)),r=da({},n,{ordScaleLength:o}),[4,e.fetchQuestionsImproveListOfSubject(e.subjectType,r,e.topicId,e.subject.id)];case 1:return a.sent(),[2]}})})};return Object(c.useEffect)(function(){i||p(da({},n))},[e.selectedPeriod]),u.a.createElement(Et,null,i?u.a.createElement(y.default,{marginTop:60}):e.scale&&e.improveObject&&e.pagination&&u.a.createElement(pa,{filters:n,changeFilterRating:function(e){l(da({},n,{filterRating:e}))},changeFilterBenchmark:function(e){void 0===e&&(e=null),l(da({},n,{filterBenchmark:e}))},changeSorting:function(e){l(da({},n,{sort:e}))},changePage:function(e){l(da({},n,{page:e}))},subject:e.subject,subjectType:e.subjectType,iconSubjectType:e.subjectType,scale:e.scale,improveObject:e.improveObject,pagination:e.pagination}))}),ba=Object(p.b)(function(e,t){var n=t.subjectType,r=Object(_t.k)(n,e.reportsManagement);return{selectedPeriod:e.reportsManagement.header.selectedPeriod,improveObject:r.result,pagination:r.pagination,company:e.user.session.company}},function(e){return{fetchQuestionsImproveListOfSubject:function(t,n,r,a){return e(Object(_t.f)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Se(t,n))}}})(ya),ha=function(){return(ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},va=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},xa=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},_a=Object(p.b)(function(e){return{selectedPeriod:e.reportsManagement.header.selectedPeriod,sessionUserManager:Object.values(e.user.session.user.manager_attributes)[0],scales:e.scales.byId,company:e.user.session.company,questionsSummary:e.reportsManagement.header.summaries.question,sessionUser:e.user.session.user}},function(e){return{changeHeaderLoading:function(t){return e(Ee(t))},fetchTopicsSummary:function(t,n,r,a,i){return e(Te(t,n,r,a,i))},changeHeaderRating:function(t){return e(je(t))},changeRatingVisibility:function(t){return e(ve(t))},changeGraphVisibility:function(t){return e(xe(t))},changePeriodSelectorVisibility:function(t){return e(_e(t))},overwriteBreadCrumbLinks:function(t){return e(he(t))},setHeaderInformation:function(t){return e(be(t))},changeSelectedPeriod:function(t){return e(we(t))}}})(function(e){var t=Object(v.c)()[0],n=Object(c.useState)(!0),r=n[0],a=n[1];Object(c.useEffect)(function(){e.changeHeaderLoading(!0),s().then(function(t){t&&(p(t.topic),e.changeHeaderLoading(!1)),a(!1)})},[]),Object(c.useEffect)(function(){r||(a(!0),s(e.selectedPeriod).then(function(e){e&&p(e.topic),a(!1)}))},[e.selectedPeriod]);var i=Object(c.useMemo)(function(){var t=ht.a.parse(e.location.search);return t.filterAnsweredRange?t.filterAnsweredRange:e.company&&(new Date).getTime()>wn()(e.company.created_at).add(1,"month").valueOf()?D.a.LastYear:D.a.LastMonth},[e.company,e.location.search]),s=function(t){return void 0===t&&(t=i),va(void 0,void 0,void 0,function(){var n,r,a;return xa(this,function(i){switch(i.label){case 0:return t?(e.changeSelectedPeriod(t),[4,e.fetchTopicsSummary(e.topicId,e.entityType,t,e.entityObj,e.sessionUser)]):[3,2];case 1:return n=i.sent(),r=n.response.data,a={result:r.result||{},scale:e.scales[r.topic.scale_version_id]||{},ratingIndex:0,manager:r.manager||null},e.changeHeaderRating(a),[2,Promise.resolve(r)];case 2:return[2]}})})},o=function(n){return e.sessionUserManager&&n.private&&n.created_by===e.sessionUserManager.uuid?t("x.reports.topic.list.custom_topic.user.name",{userName:e.sessionUserManager.firstname+" "+e.sessionUserManager.lastname}):null},l=Object(c.useMemo)(function(){return e.questionsSummary?e.scales[e.questionsSummary.topic.scale_version_id]:null},[e.scales,e.questionsSummary]),p=function(t){e.changeRatingVisibility(!0),e.entityType!==w.a.Survey&&(e.changeGraphVisibility(!0),e.changePeriodSelectorVisibility(!0));var n=o(t)||Object(On.c)(t.name),r={id:t.id,name:n,type:t.type,description:t.description};f(n),e.setHeaderInformation({subject:r,entityType:e.entityType,selectedTabIndex:0,depth:1,subjectType:w.b.Question,entity:e.entityObj,tabs:mt(e.entityType,t,e.entityObj)})},f=function(n){var r=[w.a.Survey,w.a.Group,w.a.User].includes(e.entityType)?e.entityObj.id+"/":"",a=e.topicId,i=[{name:e.entityObj.name,link:"/reports/"+e.entityType+"/profile/"+r+"topics"},{name:n||"UNKNOWN",link:"/reports/"+e.entityType+"/profile/"+r+"topics/detail/"+a+"/list/questions"}];e.entityType===w.a.Survey&&("admin"!==e.entityObj.surveyScope&&e.sessionUser?i.unshift({name:t("x.reports.survey_profile.my-request-link"),link:"/reports/user/profile/"+e.sessionUser.uuid+"/list/my-requests"}):i.unshift({name:t("x.reports.survey_profile.manage_survey_link"),link:Dt.a.contentSurveys.surveys})),e.overwriteBreadCrumbLinks(i)},g=Object(c.useCallback)(function(){return u.a.createElement(d.a,{to:e.match.url+"/questions"})},[e.match.url]),b=Object(c.useCallback)(function(){return u.a.createElement(qr,{scale:l,subjectType:e.entityType,subject:e.entityObj,topicId:e.topicId})},[l,e.entityType,e.entityObj,e.topicId]),h=Object(c.useCallback)(function(){return u.a.createElement(ba,{scale:l,subject:e.entityObj,subjectType:e.entityType,topicId:e.topicId})},[l,e.entityType,e.entityObj,e.topicId]);return u.a.createElement(u.a.Fragment,null,r?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,strict:!0,path:e.match.url,component:g}),u.a.createElement(d.b,{exact:!0,strict:!0,path:e.match.url+"/questions",render:b}),e.entityType!==w.a.Survey&&u.a.createElement(d.b,{exact:!0,strict:!0,path:e.match.url+"/improve",render:h}),u.a.createElement(m.a,ha({},e))))}),ja=Object(d.g)(_a),wa=function(){return(wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ea=Object(d.g)(function(e){var t=Object(v.c)()[0],n=Object(c.useCallback)(function(){return u.a.createElement(d.a,{to:e.match.url+"/list"})},[e.match.url]);Object(c.useEffect)(function(){e.changeEntityLoading(!1)},[]);var r=Object(c.useCallback)(function(){return u.a.createElement(jr,{t:t,entityType:e.entityType,entityObj:e.entityObj,topicId:e.match.params.topicId})},[t,e.entityType,e.entityObj,e.match.params]),a=Object(c.useCallback)(function(){return u.a.createElement(ja,{entityObj:e.entityObj,entityType:e.entityType,topicId:e.match.params.topicId})},[e.entityObj,e.entityType,e.match.params.topicId]);return u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,strict:!0,path:e.match.url,component:n}),u.a.createElement(d.b,{path:e.match.url+"/list",render:a}),u.a.createElement(d.b,{path:e.match.url+"/questions/detail/:questionId("+g.a+")",render:r}),u.a.createElement(m.a,wa({},e)))}),Oa=Object(p.b)(function(e){return{scales:e.scales.byId,company:e.user.session.company,questionsSummary:e.reportsManagement.header.summaries.question}},function(e){return{changeHeaderRating:function(t){return e(je(t))},changeEntityLoading:function(t){return e(Oe(t))}}})(Ea),Sa=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},ka=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ta=Object(d.g)(function(e){var t=Object(c.useState)(!0),n=t[0],r=t[1],a=Object(c.useState)("news"),i=a[0],s=a[1];Object(c.useEffect)(function(){o()},[]);var o=function(){return Sa(void 0,void 0,void 0,function(){var t,n;return ka(this,function(a){switch(a.label){case 0:return e.sessionUser?[4,e.fetchNewsListOfSubject(e.entityType,e.entityObj,e.sessionUser,{})]:[3,2];case 1:(t=a.sent()).response&&t.response.data&&(n=t.response.data.result.news_list,Object.keys(n).length||s("topics")),r(!1),a.label=2;case 2:return[2]}})})};return n?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(d.a,{to:{pathname:e.match.url+"/list/"+i,state:{isRedirected:!0}}})}),Ca=Object(p.b)(function(e){return{sessionUser:e.user.session.user}},function(e){return{fetchNewsListOfSubject:function(t,n,r,a){return e(Object(_t.c)(t,n,r,a))}}})(Ta),Ia=n("./src/services/logger/LlsLogger.js"),Pa=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ra=O.d.div.withConfig({displayName:"RatingContainer"})(Xr||(Xr=Pa(["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n"],["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n"])),function(e){return e.theme.lls_dark_white}),La=O.d.span.withConfig({displayName:"NoAnswersMessage"})($r||($r=Pa(["\n  color: ",";\n"],["\n  color: ",";\n"])),function(e){return e.theme.lls_light_grey_light}),Ma=function(e){var t=e.t,n=e.topic,r=e.scale;return u.a.createElement(Ra,null,null!==n.last_answered_at?u.a.createElement(me.default,{labelIndex:Object(X.a)(n.avg_rating_ord,r),rating:Object(X.a)(n.avg_rating_ord,r),type:r.visualization,labels:r.labels?r.labels:[],labelColor:"lls_light_grey_light",maxRating:Object(X.d)(r)}):u.a.createElement(La,{"data-translation":"x.reports.topics.topic_item.info.no_answer.message"},t("x.reports.topics.topic_item.info.no_answer.message")))},Aa=u.a.memo(function(e){var t=e.t,n=e.topic,r=e.scale,a=e.link,i=e.sessionUserManager,s=[{key:"x.topics.list.details.item."+n.type,txt:t("x.topics.list.details.item."+n.type)},{key:"x.reports.topics.topic_item.info.questions.amount",txt:t("x.reports.topics.topic_item.info.questions.amount",{count:n.number_of_questions})},{key:"x.topics.list.details.item.visualization."+(r?r.visualization:"stars"),txt:t("x.reports.topics.topic_item.info.rating_count",{count:n.rating_count})}];n.last_answered_at&&s.push({key:"x.reports.topics.topic_item.info.last_answered",txt:t("x.reports.topics.topic_item.info.last_answered")+" "+wn()(n.last_answered_at).format("ll")});var o={background:"linear-gradient(to right, rgba(255, 255, 255, 0) 60%, "+Jn.h+" 70%, "+Jn.g+" 100%)",color:Jn.h,wideBtn:{key:"x.reports.topics.topic_item.info.open.message",txt:t("x.reports.topics.topic_item.info.open.message"),icon:"iconArrow",link:a}},l=Object(c.useMemo)(function(){return i&&n.private&&n.created_by===i.uuid?t("x.reports.topic.list.custom_topic.user.name",{userName:i.firstname+" "+i.lastname}):null},[i,n]);return u.a.createElement(wr.default,{title:l||Object(On.c)(n.name),itemProps:s,hoverContent:o,rightSection:Ma(e)})}),Na=n("./src/shared/lists/listFilters/ListFilters.tsx"),Ua=function(){return(Ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e.All="all",e.General="general",e.People="people",e.Groups="groups"}(ea||(ea={}));var Ka,qa,Ha,Da,Fa,za=Object(v.d)()(function(e){var t,n=Object(c.useMemo)(function(){return Fr.map(function(t,n){var r,a,i=t.id,s=e.subjectIsMe?".me":"";return 0!==n&&(a="x.reports.topics.filter.hover."+e.entityType+s+"."+i,r=i&&e.topicsObject?e.topicsObject.topics_distribution[i]:0),Ua({},t,{itemsAmount:r,disabled:!r&&0!==n,tooltipKey:a})})},[e.topicsObject,e.entityType,e.subjectIsMe]),r=e.t,a=e.topicsObject,i=e.entity,s=e.entityType,o=e.pagination,l=e.history,p=e.location,d=s===w.a.Survey?"survey":"news";return u.a.createElement(kt,null,!a||Object.keys(a.topic_list).length<1?u.a.createElement(qt,{message:{txt:r("x.reports.company_profile."+d+".empty.message"),key:"x.reports.company_profile."+d+".empty.message"},buttonMessage:{txt:r("x.reports.company_profile."+d+".empty.button"),key:"x.reports.company_profile."+d+".empty.button"},link:s===w.a.Survey?"/content/surveys/"+i.id:"/questions"}):u.a.createElement(u.a.Fragment,null,s!==w.a.Survey&&u.a.createElement(Na.default,{t:r,filterOptions:n,doFilter:function(t){var r=n[t].id;r===ea.All&&(r=null),e.filters.filterSubject!==r&&e.changeFilter(r)},subjectName:i.name,initialFilter:e.filters.filterSubject}),u.a.createElement(Tt,null,o&&u.a.createElement(Rt.default,{t:r,pagination:o,onePageKey:"x.reports.company_profile.subtitle.topics.length",multyPageKey:"x.reports.company_profile.subtitle.topics.amount_from_to"}),u.a.createElement(Ct,null,u.a.createElement(It,null,e.filters.sort&&u.a.createElement(J.a,{sortingOptions:(t=e.contentLocale,[{name:D.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.least_recent"},{name:D.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.most_recent"},{name:D.b.MostAnswered_desc,translationKey:"x.reports.topics.sorting.most_answered"},{name:D.b.MostAnswered_asc,translationKey:"x.reports.topics.sorting.least_answered"},{name:D.b.TopicNames_asc+"."+t,translationKey:"x.reports.topics.sorting.AtoZ"},{name:D.b.TopicNames_desc+"."+t,translationKey:"x.reports.topics.sorting.ZtoA"}]),selectedSorting:e.filters.sort,sortList:function(t){e.filters.sort!==t&&e.changeSorting(t)},selectorWithLabel:!0})))),e.listLoading?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(xt.a,{"data-testid":"reports__company__topiclist-container"},Object.values(a.topic_list).map(function(t){return u.a.createElement(Aa,{key:t.id,t:r,sessionUserManager:e.sessionUserManager,topic:t,scale:e.scales[t.scale_version_id],link:e.match.url.replace("/list","")+"/detail/"+t.id})})),o&&u.a.createElement(vt.default,{t:r,totalItems:o.total,pageSize:o.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:l,location:p,defaultCurrPage:o.page})))}),Ga=Object(p.b)(function(e,t){return{contentLocale:Object(Pr.h)(e),scales:e.scales.byId,subjectIsMe:t.entity.id===e.user.session.user.uuid,listLoading:Object(_t.i)(t.entityType,e.reportsManagement)}})(za),Ba=Object(d.g)(Ga),Wa=function(){return(Wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Va={page:"1",filterSubject:null,sort:null},Qa=Object(d.g)(function(e){var t=Object(c.useState)(Va),n=t[0],r=t[1],a=Object(c.useState)(!0),i=a[0],s=a[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",1);var t=ht.a.parse(e.location.search),n={page:t.page||"1",filterSubject:t.filterSubject||null,sort:t.sort||D.b.TopicNames_asc+"."+e.contentLocale};r(n),(l(n)||Promise.resolve()).then(function(){s(!1)})},[]);var o=function(e){r(e),l(Wa({},e))},l=function(t){if(e.history.replace(Object(S.c)(t)),e.me)return e.fetchTopicListOfSubject(e.entityType,t,e.entityObj,e.me).catch(function(e){Ia.a.info("Error fetchingTopicListoOfSubject",{error:e,info:{componentStack:"SubjectTopicsList.jsx"}})})};return u.a.createElement(Et,{"data-testid":"reports__topics__list"},i?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(Ba,{filters:n,changeFilter:function(e){o(Wa({},n,{filterSubject:e}))},changeSorting:function(e){o(Wa({},n,{sort:e}))},changePage:function(e){o(Wa({},n,{page:e}))},entityType:e.entityType,entity:e.entityObj,topicsObject:e.topicsObject,pagination:e.pagination,sessionUserManager:e.sessionUserManager}))}),Ya=Object(p.b)(function(e,t){var n=t.entityType,r=Object(_t.m)(n,e.reportsManagement);return{topicsObject:r.result,pagination:r.pagination,contentLocale:Object(Pr.h)(e),me:e.user.session.user,sessionUserManager:Object.values(e.user.session.user.manager_attributes)[0]}},function(e){return{fetchTopicListOfSubject:function(t,n,r,a){return e(Object(_t.g)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Se(t,n))}}})(Qa),Za=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ja=O.d.div.withConfig({displayName:"StyledContainer"})(Ka||(Ka=Za(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"],["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"]))),Xa=O.d.div.withConfig({displayName:"RouterContainer"})(qa||(qa=Za(["\n  margin-top: 19rem;\n  width: 100%;\n  max-width: 1200px;\n  padding: 0 30px;\n"],["\n  margin-top: 19rem;\n  width: 100%;\n  max-width: 1200px;\n  padding: 0 30px;\n"]))),$a=n("./src/modules/reports/userProfile/actions/userProfileActions.ts"),ei=n("./src/shared/menus/dropdownBtn/AvatarsTextMenuItem.tsx"),ti=n("./src/shared/lists/avatarNameListItem/AvatarNameListItem.tsx"),ni=n("./src/shared/menus/dropdownBtn/DropdownBtn.tsx"),ri=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ai=O.d.div.withConfig({displayName:"LoaderOverLay"})(Ha||(Ha=ri(["\n  position: fixed;\n  z-index: 999;\n  height: 4em;\n  width: 4em;\n  overflow: visible;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  &::before {\n    content: '';\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(237, 237, 237, 0.6);\n  }\n"],["\n  position: fixed;\n  z-index: 999;\n  height: 4em;\n  width: 4em;\n  overflow: visible;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  &::before {\n    content: '';\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(237, 237, 237, 0.6);\n  }\n"]))),ii=n("./src/modules/surveys/actions/surveyActions.ts"),si=n("./src/shared/form/inputs/inputs.sc.ts"),oi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},li=Object(O.d)(si.b).withConfig({displayName:"ErrorWrapper"})(Da||(Da=oi(["\n  text-align: end;\n  margin: 5px 0 0 0;\n"],["\n  text-align: end;\n  margin: 5px 0 0 0;\n"]))),ci=Object(p.b)(function(e){return{systemLanguage:Object(Pr.l)(e),sessionUser:e.user.session.user}},function(e){return{execAddManagersSurvey:function(t){return e(Object(ii.a)(t))},createPullSurvey:function(t){return e(Object(ii.d)(t))}}})(function(e){var t=e.item,n=e.t,r=e.systemLanguage,a=e.execAddManagersSurvey,i=e.history,s=e.isFirst,o=e.sessionUser,l=e.createPullSurvey,p=Object(c.useState)(!1),d=p[0],m=p[1],f=Object(c.useState)(null),g=f[0],b=f[1];function createManagerSurvey(e){var s,c;m(!0);var u,p={name:{}};"pull"===e?(p.name=((s={})[r]=n("x.survey.user.create_name",{name:o.firstname+" "+o.lastname}),s),u={ask:[t.id]},l({survey:p,schedule:u}).then(function(e){var t=e.response,n=e.error;t?i.push("/content/surveys/"+t.data.survey.id+"/edit"):n&&(n.response&&b(n.response.data[0].translation_key),m(!1))})):(p.name=((c={})[r]=n("x.survey.manager.create.name",{name:t.meta.firstname+" "+t.meta.lastname}),c),u={about:[t.id],shareWithSubject:!0},a({survey:p,schedule:u}).then(function(e){var t=e.response,n=e.error;t&&t.data?i.push("/content/surveys/"+t.data.survey.id+"/edit"):n&&(m(!1),b(n.response&&n.response.data[0].translation_key))}))}return u.a.createElement(ti.default,{key:t.id,userName:t.meta.name,avatarUrl:t.image_url,userUrl:"/reports/user/profile/"+t.id+"/",isFirst:s},d&&u.a.createElement(ai,null,u.a.createElement(y.default,null)),u.a.createElement("div",null,u.a.createElement(ni.default,{btnTxt:n("x.reports.user.my_team.feedback_menu"),onMenuClick:function createSurvey(e){switch(b(null),e){case"0":createManagerSurvey();break;case"1":createManagerSurvey("pull")}},menuItems:[u.a.createElement(ei.default,{key:"manager_360",txt:n("x.reports.user.my_team.feedback_menu.ask_others_about_me",{name:t.meta.firstname}),iconName1:"iconPeople",avatarUrl2:t.image_url,userName2:t.meta.name}),u.a.createElement(ei.default,{key:"manager_Pull",txt:n("x.reports.user.header.feedback_menu.ask_user_about_me",{name:t.meta.firstname}),avatarUrl1:t.image_url,avatarUrl2:o.imageUrl,userName2:o.firstname+" "+o.lastname})]}),g&&u.a.createElement(li,null,Object(On.d)(n,g))))}),ui=function(){return(ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},pi={page:"1",sort:D.b.Fullname_asc},di=Object(p.b)(function(e){var t=e.reportsManagement.userProfile;return{sessionManagerTeam:t.managerTeam,loadingTeam:t.loadingTeam}},function(e){return{changeSingleHeaderInformation:function(t,n){return e(Se(t,n))},fetchManagerTeam:function(t,n){return e(Object($a.c)(t,n))}}})(function(e){var t=Object(v.c)()[0],n=Object(c.useState)(pi),r=n[0],a=n[1],i=Object(c.useState)(!0),s=i[0],o=i[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",3);var t=ht.a.parse(e.location.search),n={page:t.page||"1",sort:t.sort||D.b.Fullname_asc};a(n),l(n).then(function(){o(!1)})},[]);var l=function(t){return e.history.replace(Object(S.c)(t)),e.fetchManagerTeam(e.entityObj.id,t).catch(function(e){Ia.a.info("Error fetching user requests list",{error:e,info:{componentStack:"ManagerTeamList.jsx"}})})};return u.a.createElement(Et,null,s?u.a.createElement(Ot,null,u.a.createElement(y.default,null)):u.a.createElement(u.a.Fragment,null,u.a.createElement(Tt,null,e.sessionManagerTeam&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,!e.loadingTeam&&u.a.createElement(Rt.default,{t:t,pagination:e.sessionManagerTeam.pagination,onePageKey:"x.reports.user.my_team.list.amount",multyPageKey:"x.reports.user.my_team.list.amount_from_to"})),e.sessionManagerTeam.result.direct_reports_list.length>1&&u.a.createElement(Ct,null,u.a.createElement(It,null,u.a.createElement(J.a,{sortingOptions:En,selectedSorting:r.sort,sortList:function(e){a(ui({},r,{sort:e})),l(ui({},r,{sort:e}))},selectorWithLabel:!0}))))),e.loadingTeam||!e.sessionManagerTeam?u.a.createElement(y.default,null):e.sessionManagerTeam.result.direct_reports_list.length?u.a.createElement(Hr.a,null,e.sessionManagerTeam.result.direct_reports_list.map(function(n,r){return u.a.createElement(ci,{key:n.id,history:e.history,item:n,t:t,isFirst:!r})}),u.a.createElement(vt.default,{t:t,totalItems:e.sessionManagerTeam.pagination.total,pageSize:e.sessionManagerTeam.pagination.per_page,onChange:function(e){a(ui({},r,{page:e.toString()})),l(ui({},r,{page:e.toString()}))},marginTop:60,history:e.history,location:e.location,defaultCurrPage:e.sessionManagerTeam.pagination.page})):u.a.createElement(qt,{marginTop:0,message:{txt:t("x.reports.company_profile.news.empty.message"),key:"x.reports.company_profile.news.empty.message"},buttonMessage:{txt:t("x.reports.company_profile.news.empty.button"),key:"x.reports.company_profile.news.empty.button"},link:Dt.a.answerQuestions.questions})))}),mi=Object(d.g)(di),fi=n("./src/modules/surveys/components/list/sortingOptions.ts"),gi=n("./src/shared/lists/surveyItem/SurveyItem.tsx"),yi=n("./src/modules/surveys/constants/filterOptions.ts"),bi=n("./src/shared/dialogs/actionConfirmDialog/ActionConfirmDialog.tsx"),hi=n("./src/modules/surveys/components/list/surveysList.sc.ts");!function(e){e.All="all",e.User="user",e.Manager="manager",e.UserManager="user_manager"}(Fa||(Fa={}));var vi,xi,_i,ji,wi,Ei,Oi,Si,ki,Ti,Ci,Ii,Pi,Ri,Li,Mi,Ai=[{id:Fa.All,labelKey:"x.reports.requests_list.sorting.labels.all"},{id:Fa.User,labelKey:"x.reports.requests_list.sorting.labels.about_me"}],Ni=function(){return(Ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ui=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ki=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},qi={page:"1",sort:D.b.Created_desc,filterScope:null,filterStatus:yi.b.All},Hi=Object(p.b)(function(e){var t=e.reportsManagement.userProfile,n=e.user;return{contentLocale:Object(Pr.h)(e),userSurveys:t.userSurveys,loadingSurveys:t.loadingSurveys,copiedSurvey:t.copiedSurvey,loadingDel:t.loadingDel,sessionUser:n.session.user,sessionUserManager:Object.values(n.session.user.manager_attributes)[0]}},function(e){return{changeSingleHeaderInformation:function(t,n){return e(Se(t,n))},fetchSurveys:function(t,n){return e(Object($a.i)(t,n))},copySurvey:function(t){return e(Object($a.a)(t))},deleteSurvey:function(t){return e(Object($a.b)(t))}}})(function(e){var t=Object(v.c)()[0],n=Object(c.useState)(qi),r=n[0],a=n[1],i=Object(c.useState)(!0),s=i[0],o=i[1],l=Object(c.useRef)(0);Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",2);var t=ht.a.parse(e.location.search),n={page:t.page||"1",filterScope:t.filterScope||null,filterStatus:t.filterStatus||yi.b.All,sort:t.sort||D.b.Created_desc};a(n);var r=Ni({},e.location.state);return r&&r.copySurveyId?(x(r.copySurveyId),delete r.copySurveyId,e.history.replace({state:r})):d(n).then(function(){o(!1)}),function(){l.current&&clearTimeout(l.current)}},[]);var p=Object(c.useMemo)(function(){var t=e.sessionUser,n=e.sessionUserManager,r=Ai.slice();return t.isManager&&r.push({id:Fa.Manager,labelKey:"x.reports.requests_list.sorting.labels.about_my_team_members",iconName:"iconPeople"}),n&&r.push({id:Fa.UserManager,labelKey:"x.reports.requests_list.sorting.labels.manager_about_me"}),r.map(function(t){var r,a;return t.id===Fa.User&&(r=e.sessionUser.imageUrl||void 0,a=e.sessionUser.firstname+" "+e.sessionUser.lastname),n&&t.id===Fa.UserManager&&(r=n.imageUrl||void 0,a=n.firstname+" "+n.lastname),Ni({},t,{imageUrl:r,userName:a})})},[e.sessionUser]),d=function(t){return r.filterStatus===yi.b.All&&delete r.filterStatus,e.history.replace(Object(S.c)(t)),e.fetchSurveys(e.entityObj.id,r).then(function(e){var t=e.response;if(e.error)throw new Error("error fetching survey list");return t}).catch(function(e){Ia.a.info("Error fetching user requests list",{error:e,info:{componentStack:"UserSurveysList.tsx"}})})},m=function(e){a(e),d(Ni({},e))},f=function(e){m(Ni({},r,{filterStatus:e}))},g=Object(c.useState)(!1),b=g[0],h=g[1],x=function(t){return Ui(void 0,void 0,void 0,function(){return Ki(this,function(n){switch(n.label){case 0:return h(!0),[4,e.copySurvey(t)];case 1:return n.sent(),e.copiedSurvey?[4,_(e.copiedSurvey.id,0,100)]:[3,3];case 2:n.sent(),window.scrollTo(0,0),n.label=3;case 3:return h(!1),[2]}})})},_=function(e,t,n){return new Promise(function(a,i){d(Ni({},r)).then(function(r){if(!r)return a();r.data.result.survey_list.findIndex(function(t){return t.id===e})<0&&t<n?l.current=window.setTimeout(function(){_(e,t+1,n).then(function(){a()})},2e3):a()}).catch(function(){i()})})},j=Object(c.useState)(!1),w=j[0],E=j[1],O=Object(c.useState)(null),k=O[0],T=O[1],C=Object(c.useState)(null),I=C[0],P=C[1],R=function(){E(function(e){return!e}),T(null),P(null)},L=function(e){R(),T(e)};return u.a.createElement(Et,null,e.sessionUser.isManager&&u.a.createElement(Na.default,{t:t,filterOptions:p,doFilter:function(e){void 0===e&&(e=0);var t=0===e?null:p[e].id,n={filterManagerRequest:null,filterScope:null};"user_manager"===t?n.filterManagerRequest="true":n.filterScope=t,d(Ni({},r,n)),r.filterScope!==t&&a(Ni({},r,{filterScope:t}))},initialFilter:r.filterScope}),u.a.createElement(Tt,null,e.userSurveys&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,!e.loadingSurveys&&!b&&u.a.createElement(Rt.default,{t:t,pagination:e.userSurveys.pagination,onePageKey:"x.surveys.list.surveys_amount",multyPageKey:"x.surveys.list.surveys_amount_from_to"})),u.a.createElement(Ct,null,(e.userSurveys.result.survey_list.length>1||r.filterStatus!==yi.b.All)&&u.a.createElement(It,null,u.a.createElement(J.a,{sortingOptions:yi.d,selectedSorting:r.filterStatus,sortList:f,selectorLabelKey:"x.surveys.list.status_filter.label",selectorWithLabel:!0})),e.userSurveys.result.survey_list.length>1&&u.a.createElement(It,null,u.a.createElement(J.a,{sortingOptions:Object(fi.a)(e.contentLocale),selectedSorting:r.sort,sortList:function(e){m(Ni({},r,{sort:e}))},selectorWithLabel:!0}))))),s||e.loadingSurveys||!e.userSurveys||b?u.a.createElement(y.default,null):e.userSurveys.result.survey_list.length?u.a.createElement(Hr.a,null,e.userSurveys.result.survey_list.map(function(n){return u.a.createElement(gi.a,{t:t,key:n.id,itemType:"userSurvey",survey:n,duplicateSurvey:x,deleteSurvey:L,sessionUser:e.sessionUser})})):r.filterStatus!==yi.b.All?u.a.createElement(hi.d,null,u.a.createElement("p",{"data-translation":"x.surveys.list.no_surveys_txt"},t("x.surveys.list.no_surveys_txt")),u.a.createElement(hi.e,{"data-translation":"x.surveys.list.reset_filters",onClick:function(){f(yi.b.All)}},t("x.surveys.list.reset_filters"))):u.a.createElement(qt,{marginTop:0,message:{txt:t("x.reports.company_profile.user_requests.empty_message"+(e.sessionUser.isManager?"":".user")),key:"x.reports.company_profile.user_requests.empty_message"+(e.sessionUser.isManager?"":"user")},buttonMessage:e.sessionUser.isManager?{txt:t("x.reports.company_profile.user_requests.empty_button"),key:"x.reports.company_profile.user_requests.empty_button"}:void 0,link:"my-team"}),e.userSurveys&&!b&&u.a.createElement(vt.default,{t:t,totalItems:e.userSurveys.pagination.total,pageSize:e.userSurveys.pagination.per_page,onChange:function(e){m(Ni({},r,{page:e.toString()}))},marginTop:60,history:e.history,location:e.location,defaultCurrPage:e.userSurveys.pagination.page}),u.a.createElement(bi.default,{t:t,show:w,close:!0,onHide:R,actionTitleKey:"x.surveys.delete_confirmation.headline",actionContentKey:"x.surveys.delete_confirmation.content",actionCall:function(){if(!k)throw Error("this.state.surveyToDel is undefined, it is required for deletion!");e.deleteSurvey(k).then(function(e){var t=e.error,n=e.response;if(t)throw Error(t.message);n&&R()}).catch(function(e){var t="x.surveys.schedules.delete.error.unknownError";Ia.a.info("Error deleting Survey",{error:"Error deleting Survey",info:{componentStack:"UserRequestsList.tsx"}}),-1!==e.message.indexOf("404")&&(t="x.surveys.delete.error.not_found"),P(t)})},showDeletion:!0,loadingAction:e.loadingDel,actionError:I}))}),Di=Object(d.g)(Hi),Fi=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},zi=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Gi=Object(c.createContext)({isManagedBySessionUser:!1}),Bi=Object(p.b)(function(e){var t=e.reportsManagement,n=e.user;return{user:t.userProfile.currentUser,sessionUser:n.session.user}},function(e){return{changeEntityLoading:function(t){return e(Oe(t))},changeHeaderLoading:function(t){return e(Ee(t))},fetchUserById:function(t){return e(Object($a.e)(t))}}})(function(e){var t=Object(c.useState)(!0),n=t[0],r=t[1],a=Object(c.useState)({name:"",id:e.match.params.userId}),i=a[0],s=a[1];Object(c.useEffect)(function(){o(e.match.params.userId)},[e.match.params.userId]);var o=function(t){e.changeEntityLoading(!0),r(!0),l(t).then(function(){r(!1)})},l=function(t){return Fi(void 0,void 0,void 0,function(){return zi(this,function(n){switch(n.label){case 0:return e.changeHeaderLoading(!0),[4,e.fetchUserById(t).then(function(n){var r=n.response,a=n.error;if(a){if(404===a.response.status)throw e.history.replace("/reports/user/profile/"),new Error("Error user not found");throw new Error("Error getting user info")}if(r){var i=r.data;s({id:t,name:i.firstname+" "+i.lastname,imageUrl:i.imageUrl||void 0})}}).catch(function(e){Ia.a.info("Error getting user info",{error:e,info:{componentStack:"UserProfileRouter.tsx"}})})];case 1:return n.sent(),[2]}})})},p=Object(c.useMemo)(function(){if(e.user){var t=e.user.manager_attributes;if(t&&e.sessionUser){var n=Object.values(t)[0];return!!n&&n.uuid===e.sessionUser.uuid}}return!1},[e.sessionUser,e.user]),m=Object(c.useMemo)(function(){return!!e.sessionUser&&e.sessionUser.uuid===i.id},[e.sessionUser,i]),f=Object(c.useMemo)(function(){return!!e.sessionUser&&e.sessionUser.isManager&&m},[e.sessionUser,m]),b=Object(c.useCallback)(function(){return u.a.createElement(Ya,{entityObj:i,entityType:w.a.User})},[i]),h=Object(c.useCallback)(function(){return u.a.createElement(Oa,{entityObj:i,entityType:w.a.User})},[i,p]),v=Object(c.useCallback)(function(){return u.a.createElement(_n,{entityObj:i,entityType:w.a.User})},[i]),x=Object(c.useCallback)(function(){return u.a.createElement(Di,{entityObj:i,entityType:w.a.User})},[i]),_=Object(c.useCallback)(function(){return u.a.createElement(mi,{entityObj:i,entityType:w.a.User})},[i]),j=e.match;return u.a.createElement("div",{"data-testid":"reports__company__wrapper"},n?u.a.createElement(Pt,null,u.a.createElement(y.default,null)):u.a.createElement(Ja,null,u.a.createElement(Gi.Provider,{value:{isManagedBySessionUser:p}},u.a.createElement(d.d,null,u.a.createElement(Xa,null,u.a.createElement(d.d,null,u.a.createElement(d.b,{path:j.url+"/topics/detail/:topicId("+g.a+")",render:h}),u.a.createElement(d.b,{path:j.url+"/list",render:function(){var e=[{path:"/news",render:v,args:["exact"]},{path:"/topics",render:b,args:["exact"]}];return m&&e.push({path:"/my-requests",render:x,args:["exact"]}),f&&e.push({path:"/my-team",render:_,args:["exact"]}),u.a.createElement(yt,{entityObj:i,entityType:w.a.User,isManager:f,isSessionUser:m,routes:e})}}),u.a.createElement(Ca,{entityObj:i,entityType:w.a.User})))))))}),Wi=n("./src/modules/reports/groupProfile/actions/groupProfileActions.ts"),Vi=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Qi=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Yi=Object(p.b)(function(e){return{group:e.reportsManagement.groupProfile.currentGroup}},function(e){return{changeHeaderLoading:function(t){return e(Ee(t))},fetchGroupById:function(t){return e(Object(Wi.b)(t))}}})(function(e){var t=Object(c.useState)({name:"",id:e.match.params.groupId}),n=t[0],r=t[1],a=Object(c.useState)(!0),i=a[0],s=a[1];Object(c.useEffect)(function(){o(e.match.params.groupId)},[e.match.params.groupId]);var o=function(e){s(!0),l(e).then(function(){s(!1)})},l=function(t){return Vi(void 0,void 0,void 0,function(){return Qi(this,function(n){switch(n.label){case 0:return e.changeHeaderLoading(!0),[4,e.fetchGroupById(t).then(function(n){var a=n.response,i=n.error;if(i){if(404===i.response.status)throw e.history.replace(Dt.a.reports.group),new Error("Error group not found");throw new Error("Error getting group info")}if(a&&a.data.meta&&a.data.meta.option_name){var s=a.data;r({id:t,name:s?Object(On.c)(s.meta.option_name):"UNKNOWN"})}}).catch(function(e){Ia.a.info("Error getting group info",{error:e,info:{componentStack:"GroupProfileRouter.tsx"}})})];case 1:return n.sent(),[2]}})})},p=Object(c.useCallback)(function(){return u.a.createElement(Ya,{entityObj:n,entityType:w.a.Group})},[n]),m=Object(c.useCallback)(function(){return u.a.createElement(Oa,{entityObj:n,entityType:w.a.Group})},[n]),f=Object(c.useCallback)(function(){return u.a.createElement(_n,{entityObj:n,entityType:w.a.Group})},[n]),b=e.match;return i?u.a.createElement(Pt,null,u.a.createElement(y.default,null)):u.a.createElement(Ja,null,u.a.createElement(d.d,null,u.a.createElement(Xa,null,u.a.createElement(d.d,null,u.a.createElement(d.b,{path:b.url+"/list",render:function(){var e=[{path:"/news",render:f,args:["exact"]},{path:"/topics",render:p,args:["exact"]}];return u.a.createElement(yt,{entityObj:n,entityType:w.a.Group,routes:e})}}),u.a.createElement(d.b,{path:b.url+"/topics/detail/:topicId("+g.a+")",render:m}),u.a.createElement(Ca,{entityObj:n,entityType:w.a.Group})))))}),Zi=n("./src/modules/surveys/constants/surveyTypes.ts"),Ji=n("./src/modules/reports/surveyProfile/actions/surveyProfile.actions.ts"),Xi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},$i=O.d.span.withConfig({displayName:"ReminderButton"})(vi||(vi=Xi(["\n  font-size: 15px;\n  cursor: pointer;\n"],["\n  font-size: 15px;\n  cursor: pointer;\n"]))),es=O.d.span.withConfig({displayName:"MailText"})(xi||(xi=Xi(["\n  display: flex;\n  align-items: center;\n\n  & span {\n    margin-right: 5px;\n  }\n"],["\n  display: flex;\n  align-items: center;\n\n  & span {\n    margin-right: 5px;\n  }\n"]))),ts=O.d.span.withConfig({displayName:"ReminderError"})(_i||(_i=Xi(["\n  color: ",";\n"],["\n  color: ",";\n"])),function(e){return e.theme.lls_login_red}),ns=O.d.span.withConfig({displayName:"SendButton"})(ji||(ji=Xi(["\n  text-decoration: underline;\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  text-decoration: underline;\n\n  &:hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.lls_dark_blue_light}),rs=O.d.span.withConfig({displayName:"ReminderText"})(wi||(wi=Xi(["\n  text-decoration: none;\n"],["\n  text-decoration: none;\n"]))),as=O.d.span.withConfig({displayName:"ParticipantsTitle"})(Ei||(Ei=Xi(["\n  font-weight: 600;\n  color: ",";\n  margin-left: 15px;\n  display: flex;\n  flex: 7;\n  align-items: center;\n"],["\n  font-weight: 600;\n  color: ",";\n  margin-left: 15px;\n  display: flex;\n  flex: 7;\n  align-items: center;\n"])),function(e){return e.theme.lls_dark_blue_light}),is=O.d.div.withConfig({displayName:"ActionSection"})(Oi||(Oi=Xi(["\n  margin-left: 38px;\n  display: flex;\n  align-items: center;\n  flex: 13;\n  color: ",";\n"],["\n  margin-left: 38px;\n  display: flex;\n  align-items: center;\n  flex: 13;\n  color: ",";\n"])),function(e){return e.theme.lls_light_grey_heavy}),ss=O.d.div.withConfig({displayName:"RateSection"})(Si||(Si=Xi(["\n  flex: 4;\n  font-size: 21px;\n  text-align: right;\n  color: ",";\n  display: flex;\n  justify-content: flex-end;\n"],["\n  flex: 4;\n  font-size: 21px;\n  text-align: right;\n  color: ",";\n  display: flex;\n  justify-content: flex-end;\n"])),function(e){return e.theme.lls_dark_blue_light}),os=O.d.div.withConfig({displayName:"LoadingWrapper"})(ki||(ki=Xi(["\n  padding: 0 60px;\n  width: fit-content;\n"],["\n  padding: 0 60px;\n  width: fit-content;\n"]))),ls=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},cs=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},us=function(e){var t=Object(c.useState)(!1),n=t[0],r=t[1],a=Object(c.useState)(null),i=a[0],s=a[1],o=Object(c.useState)(!1),l=o[0],p=o[1],d=Object(c.useMemo)(function(){return u.a.createElement(as,null,u.a.createElement("span",{"data-translation":"x.reports.participants.list.anon.item.info.participants_count"},e.t("x.reports.participants.list.anon.item.info.participants_count",{count:e.count})))},[e.count]),m=Object(c.useMemo)(function(){return!e.currentCycle||e.currentCycle.closed?e.t("x.reports.participants.list.mail.item.info.anon.closed"):e.completed?e.t(e.rateTxtKey):e.count<1||e.allReminderSent?e.t("x.reports.participants.list.mail.item.info.anon.empty"):!e.email_trigger||l?e.t("x.reports.participants.list.mail.item.info.anon.reminded_today"):void 0},[e.rateTxtKey,e.currentCycle,e.completed,e.count,e.email_trigger,e.allReminderSent]);return u.a.createElement(ti.default,{key:e.rateTxtKey,userTitle:d,anonymous:!0},u.a.createElement(is,null,m?u.a.createElement("span",null,m):u.a.createElement(u.a.Fragment,null,n||e.allReminderLoading?u.a.createElement(os,null,u.a.createElement(y.default,{size:10})):u.a.createElement($i,{"data-translation":"x.reports.participants.list.mail.item.info.cta_reminder",onClick:function(){return ls(void 0,void 0,void 0,function(){var t;return cs(this,function(n){switch(n.label){case 0:return e.email_trigger?(s(null),r(!0),(t=e.sendReminder(e.email_trigger))?[4,Object(S.e)(t.catch(function(e){s(e)}))]:[3,2]):[3,3];case 1:n.sent(),p(!0),n.label=2;case 2:s(new Error("unknown")),r(!1),n.label=3;case 3:return[2]}})})}},!e.allReminderSent&&u.a.createElement(ns,null,u.a.createElement("span",null,e.t("x.reports.participants.list.mail.item.info.cta_reminder"))),i&&u.a.createElement(u.a.Fragment,null," | ",u.a.createElement(ts,null,i.message))))),u.a.createElement(ss,null,u.a.createElement("span",null,e.t(e.rateTxtKey))))},ps=n("./src/interfaces/surveys.interfaces.ts"),ds=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ms=jt.default.div.withConfig({displayName:"StartMailWrapper"})(Ti||(Ti=ds(["\n  background-color: rgba(0, 0, 0, 0.05);\n  margin: 30px 0 60px -15px;\n  width: calc(100% + 30px);\n  padding-left: 15px;\n  border-radius: 5px;\n"],["\n  background-color: rgba(0, 0, 0, 0.05);\n  margin: 30px 0 60px -15px;\n  width: calc(100% + 30px);\n  padding-left: 15px;\n  border-radius: 5px;\n"]))),fs=(Ci=function(e,t){return(Ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}Ci(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),gs=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},ys=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},bs=function(e){function StartMailItem(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUnmounted=!1,t.state={loadingReminder:!1,errorReminder:null,mailsSend:null},t.sendStartMail=function(){return gs(t,void 0,void 0,function(){var e=this;return ys(this,function(t){switch(t.label){case 0:return this.props.currentCycle?(this.setState({errorReminder:null}),this.setState({loadingReminder:!0}),[4,Object(S.e)(Object(Ji.p)(this.props.currentCycle.id).then(function(t){e.setState({mailsSend:t})}).catch(function(t){e.setState({errorReminder:t})}))]):[3,2];case 1:t.sent(),this.isUnmounted||this.setState({loadingReminder:!1}),t.label=2;case 2:return[2]}})})},t.renderUserTitle=function(){return u.a.createElement(as,null,u.a.createElement("span",{"data-translation":"x.reports.participants.list.anon.item.info.participants_count"},t.props.t("x.reports.participants.list.anon.item.info.participants_new")))},t}return fs(StartMailItem,e),StartMailItem.prototype.componentWillUnmount=function(){this.isUnmounted=!0},StartMailItem.prototype.render=function(){var e=this.props.t;return u.a.createElement(ms,null,u.a.createElement(ti.default,{userTitle:this.renderUserTitle(),anonymous:!0},u.a.createElement(is,null,this.state.loadingReminder?u.a.createElement(os,null,u.a.createElement(y.default,{size:10})):u.a.createElement($i,{"data-translation":"x.reports.participants.list.mail.item.info.cta_reminder",onClick:this.sendStartMail},this.props.currentCycle&&!this.props.currentCycle.closed?u.a.createElement(u.a.Fragment,null,u.a.createElement(ns,{"data-translation":"x.reports.participants.list.mail.item.send_start_mail"},e("x.reports.participants.list.mail.item.send_start_mail"))," | ",this.state.errorReminder?u.a.createElement(ts,null,this.state.errorReminder.message):u.a.createElement(u.a.Fragment,null,this.state.mailsSend?u.a.createElement("span",null,e("x.reports.participants.list.mail.item.send_start_mail.info.count",{count:this.state.mailsSend.data.triggered_mails})):u.a.createElement("span",{"data-translation":"x.reports.participants.list.mail.item.send_start_mail.info"},e("x.reports.participants.list.mail.item.send_start_mail.info")))):u.a.createElement("span",{"data-translation":"x.reports.participants.list.mail.item.info.anon.closed"},e("x.reports.participants.list.mail.item.info.anon.closed")))),u.a.createElement(ss,null)))},StartMailItem}(c.Component),hs=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vs=O.d.div.withConfig({displayName:"TableHeader"})(Ii||(Ii=hs(["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  display: flex;\n  padding: 5px 0;\n  font-size: 12px;\n  color: ",";\n  &.margin {\n    margin-top: 64px;\n  }\n"],["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  display: flex;\n  padding: 5px 0;\n  font-size: 12px;\n  color: ",";\n  &.margin {\n    margin-top: 64px;\n  }\n"])),function(e){return e.theme.lls_dark_white_light},function(e){return e.theme.lls_light_grey_heavy}),xs=O.d.span.withConfig({displayName:"TitleHeader"})(Pi||(Pi=hs(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),_s=O.d.span.withConfig({displayName:"ReminderHeader"})(Ri||(Ri=hs(["\n  flex: 1;\n  margin-left: 33px;\n"],["\n  flex: 1;\n  margin-left: 33px;\n"]))),js=O.d.span.withConfig({displayName:"SendAll"})(Li||(Li=hs(["\n  font-size: 15px;\n  text-decoration: underline;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n"],["\n  font-size: 15px;\n  text-decoration: underline;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.lls_dark_blue_light}),ws=O.d.span.withConfig({displayName:"RateHeader"})(Mi||(Mi=hs(["\n  flex: 1;\n  text-align: end;\n"],["\n  flex: 1;\n  text-align: end;\n"]))),Es=function(e){var t=e.t,n=e.allLoading,r=e.error,a=e.count,i=e.remind,s=e.margin,o=e.allReminderSended,l=e.surveyStatus,c=e.anon;return u.a.createElement(vs,{className:s?"margin":""},u.a.createElement(xs,{"data-translation":"x.reports.participants.list.name.header"+(c?".anon":"")},t("x.reports.participants.list.name.header"+(c?".anon":""))),u.a.createElement(_s,null,n?u.a.createElement(js,null,u.a.createElement(os,null,u.a.createElement(y.default,{size:10}))):u.a.createElement(u.a.Fragment,null,a>0&&!o&&l===ps.a.Active&&u.a.createElement(u.a.Fragment,null,u.a.createElement(js,{"data-translation":"x.reports.participants.list.mail.all",onClick:i},t("x.reports.participants.list.mail.all",{count:a})),u.a.createElement("span",null," - ")),r?u.a.createElement(ts,null,r.message):u.a.createElement("span",{"data-translation":"x.reports.participants.list.mail.header"},t("x.reports.participants.list.mail.header")))),u.a.createElement(ws,{"data-translation":"x.reports.participants.list.response_rate.header"},t("x.reports.participants.list.response_rate.header")))},Os=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ss=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ks=Object(v.d)()(function(e){var t=Object(c.useState)(!1),n=t[0],r=t[1],a=Object(c.useState)(!1),i=a[0],s=a[1],o=Object(c.useState)(null),l=o[0],p=o[1];return u.a.createElement(kt,null,e.participants.participant_list?u.a.createElement(u.a.Fragment,null,u.a.createElement(Es,{t:e.t,margin:!0,anon:!0,allLoading:n,error:l,remind:function(){return Os(void 0,void 0,void 0,function(){var t;return Ss(this,function(n){switch(n.label){case 0:return p(null),r(!0),(t=e.sendReminder(e.participants.send_all.email_trigger))?[4,Object(S.e)(t.catch(function(e){p(e)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return r(!1),s(!0),[2]}})})},count:e.participants.send_all.count,allReminderSended:i,surveyStatus:e.subject.surveyStatus||ps.a.Draft}),e.listLoading?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(xt.a,null,Gr.map(function(t,r){return e.sendReminder&&u.a.createElement(us,{completed:0===r,key:t,count:e.participants.participant_distribution[Gr.length-r].count,rateTxtKey:t,t:e.t,email_trigger:e.participants.participant_distribution[Gr.length-r].email_trigger,sendReminder:e.sendReminder,allReminderLoading:n,allReminderSent:i,currentCycle:e.currentCycle})}),u.a.createElement(bs,{t:e.t,currentCycle:e.currentCycle}))):u.a.createElement(qt,{message:{txt:e.t("x.reports.survey_profile.participants.empty.message"),key:"x.reports.survey_profile.participants.empty.message"},buttonMessage:{txt:e.t("x.reports.survey_profile.participants.empty.button"),key:"x.reports.survey_profile.participants.empty.button"},link:"/content/surveys/"+e.subject.id}))}),Ts=n("./src/services/getNameOfSegment.ts"),Cs=n("./src/shared/tooltips/HoverInfoIcon.tsx"),Is=function(e){return e.setHours(0,0,0,0)},Ps=function(e,t,n){return u.a.createElement("span",{"data-translation":e},t(e,{date:n}))},Rs=function(e,t,n){return u.a.createElement(es,{"data-translation":e},u.a.createElement("span",null,t(e)),u.a.createElement(Cs.default,{infoText:n}))},Ls=function(e,t){return u.a.createElement("span",null,u.a.createElement(ns,{"data-translation":e},t(e))," | ")},Ms=function(e){var t=e.t,n=e.lastMail,r=e.cycleResponseRate,a=e.combinedResponseRate,i=e.surveyStatus,s=e.sendReminder,o=e.currentCycle,l=e.error,c=e.sended,p=null,d=null,m=null,f=Is(new Date),g=wn()(f).subtract(1,"days"),y=n?Is(new Date(n.sent_at)):null;return y&&(m=wn()(y).format("ll"),wn()(y).isSame(wn()(f))?m=t("x.reports.participants.list.mail.item.today"):wn()(y).isSame(g)&&(m=t("x.reports.participants.list.mail.item.yesterday"))),r>=1?d=a>=1?Ps("x.reports.participants.list.mail.item.info.completed",t):Rs("x.reports.participants.list.mail.item.info.completed",t,{key:"x.reports.participants.list.mail.item.info.completed.info",txt:t("x.reports.participants.list.mail.item.info.completed.info")}):i===ps.a.Draft?d=o?o.closed?Ps("x.reports.participants.list.mail.item.info.anon.closed",t):y?Ps("x.reports.participants.list.mail.item.info.last_mail",t,m):Ps("x.reports.participants.list.mail.item.info.after_start",t):Ps("x.reports.participants.list.mail.item.info.draft",t):o?o.closed?d=Ps("x.reports.participants.list.mail.item.info.anon.closed",t):y?wn()(y).isSame(wn()(f))?d=Ps("x.reports.participants.list.mail.item.info.last_mail",t,m):(d=Ps("x.reports.participants.list.mail.item.info.last_mail",t,m),p=Ls("x.reports.participants.list.mail.item.info.cta_reminder",t)):(d=Ps("x.reports.participants.list.mail.item.info.after_start",t),p=Ls("x.reports.participants.list.mail.item.send_start_mail",t)):d=Ps("x.reports.participants.list.mail.item.info.not_started",t),c&&p&&(d=Ps("x.reports.participants.list.mail.item.info.last_mail",t,t("x.reports.participants.list.mail.item.today")),p=null),u.a.createElement("div",null,u.a.createElement($i,{onClick:s},p),u.a.createElement(rs,null,l?u.a.createElement(ts,null,l.message):u.a.createElement("span",null,d)))},As=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ns=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Us=function(e){var t=Object(c.useState)(!1),n=t[0],r=t[1],a=Object(c.useState)(!1),i=a[0],s=a[1],o=Object(c.useState)(null),l=o[0],p=o[1];return u.a.createElement(ti.default,{userName:Object(Ts.a)(e.item.user),avatarUrl:e.item.user.image_url,userUrl:"/reports/"+(e.item.user?e.item.user.type:"company")+"/profile/"+(e.item.user?e.item.user.id:"")},u.a.createElement(is,null,n||e.item.email_trigger&&e.allLoading?u.a.createElement(os,null,u.a.createElement(y.default,{size:10})):u.a.createElement(Ms,{sended:i||e.allReminderSent,surveyStatus:e.subject.surveyStatus,sendReminder:function(){return As(void 0,void 0,void 0,function(){var t;return Ns(this,function(n){switch(n.label){case 0:return p(null),r(!0),(t=e.sendReminder(e.item.email_trigger))?[4,Object(S.e)(t.catch(function(e){p(e)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return r(!1),s(!0),[2]}})})},cycleResponseRate:e.item.cycle_response_rate_combined,combinedResponseRate:e.item.response_rate_combined,lastMail:e.item.last_email,currentCycle:e.currentCycle,error:l,t:e.t})),u.a.createElement(ss,null,u.a.createElement(U,{t:e.t,small:!0,stats:e.item,isPeopleSurvey:e.isPeopleSurvey})))},Ks=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},qs=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Hs=Object(d.g)(function(e){var t=Object(v.c)()[0],n=Object(c.useMemo)(function(){return Object.values(e.participants.participant_distribution).reduce(function(e,n,r){return e.unshift({text:t(Br[r]),rating:n.count,distKey:r+1}),e},[])},[e.participants.participant_distribution]),r=Object(c.useMemo)(function(){return Object.values(e.participants.participant_distribution).reduce(function(t,n,r){return r!==Object.values(e.participants.participant_distribution).length-1?t+n.count:t},0)},[e.participants.participant_distribution]),a=Object(c.useState)(!1),i=a[0],s=a[1],o=Object(c.useState)(null),l=o[0],p=o[1],d=Object(c.useState)(!1),m=d[0],f=d[1],g=function(t){e.changeBarFilter(t,null)},b=Object(c.useMemo)(function(){return u.a.createElement("span",{"data-translation":"x.reports.participants.selector.label.count"},t("x.reports.participants.selector.label.count",{count:e.participants.number_of_participants}))},[e.participants.number_of_participants]),h=Object(c.useMemo)(function(){return e.filters.filterResponseRate?t(Br[parseInt(e.filters.filterResponseRate,10)-1]):e.filters.filterNotCompleted?"x.reports.survey.respondents.sorting.selector.not_completed":void 0},[e.filters.filterNotCompleted,e.filters.filterResponseRate]);return u.a.createElement(kt,null,e.participants.participant_list?u.a.createElement(u.a.Fragment,null,u.a.createElement(Tt,null,u.a.createElement(Rt.default,{t:t,pagination:e.participants.pagination,onePageKey:"x.reports.participants.list.amount",multyPageKey:"x.reports.participants.list.amount_from_to"}),u.a.createElement(Ct,null,n.length>0&&u.a.createElement(It,null,u.a.createElement(nr,{header:b,selections:n,labelTextKey:"x.reports.questions.rating.sorting.label.respondents",selectSorting:g,clickAll:function(){return g(null)},selectedSelection:h,secondClick:function(t){e.changeBarFilter(null,t)},secondCount:r,secondTxtKey:"x.reports.survey.respondents.sorting.selector.not_completed",barColor:Jn.j[1][0]})),u.a.createElement(It,null,e.filters.sort&&u.a.createElement(J.a,{sortingOptions:[{name:D.b.ResponseRate_desc,translationKey:"x.reports.participant.sorting.response_rate.desc"},{name:D.b.ResponseRate_asc,translationKey:"x.reports.participant.sorting.response_rate.asc"},{name:D.b.Fullname_asc,translationKey:"x.reports.participant.sorting.participant_fullname.asc"},{name:D.b.Fullname_desc,translationKey:"x.reports.participant.sorting.participant_fullname.desc"},{name:D.b.Lastname_asc,translationKey:"x.reports.participant.sorting.participant_lastname.asc"},{name:D.b.Lastname_desc,translationKey:"x.reports.participant.sorting.participant_lastname.desc"},{name:D.b.LastMail_desc,translationKey:"x.reports.participant.sorting.last_mail.asc"},{name:D.b.LastMail_asc,translationKey:"x.reports.participant.sorting.last_mail.desc"}],selectedSorting:e.filters.sort,sortList:e.changeSorting,selectorWithLabel:!0})))),u.a.createElement(Es,{t:t,allLoading:i,error:l,remind:function(){return Ks(void 0,void 0,void 0,function(){var t;return qs(this,function(n){switch(n.label){case 0:return p(null),s(!0),(t=e.sendReminder(e.participants.send_all.email_trigger))?[4,Object(S.e)(t.catch(function(e){p(e)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return s(!1),f(!0),[2]}})})},count:e.participants.send_all.count,allReminderSended:m,surveyStatus:e.subject.surveyStatus||ps.a.Draft}),e.listLoading?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(xt.a,null,Object.values(e.participants.participant_list).map(function(n){return u.a.createElement(Us,{sendReminder:e.sendReminder,allLoading:i,subject:e.subject,key:n.user.id,item:n,isPeopleSurvey:"people"===e.subject.type,currentCycle:e.currentCycle,allReminderSent:m,t:t})})),e.participants.pagination&&u.a.createElement(vt.default,{t:t,totalItems:e.participants.pagination.total,pageSize:e.participants.pagination.per_page,onChange:function(t){e.filters.page!==t.toString()&&e.changePage(t.toString())},marginTop:60,history:e.history,location:e.location,defaultCurrPage:e.participants.pagination.page})):u.a.createElement(qt,{message:{txt:t("x.reports.survey_profile.participants.empty.message"),key:"x.reports.survey_profile.participants.empty.message"},buttonMessage:{txt:t("x.reports.survey_profile.participants.empty.button"),key:"x.reports.survey_profile.participants.empty.button"},link:"/content/surveys/"+e.subject.id}))}),Ds=function(){return(Ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Fs={page:"1",filterResponseRate:null,filterNotCompleted:null,sort:null},zs=Object(p.b)(function(e,t){var n=t.subjectType;return{participantsObject:e.reportsManagement.surveyProfile.participants,contentLocale:Object(Pr.h)(e),currentCycle:e.reportsManagement.surveyProfile.cycle,listLoading:Object(_t.i)(n,e.reportsManagement),sessionUser:e.user.session.user}},function(e){return{fetchParticipantsListOfSubject:function(t,n,r,a){return e(Object(_t.d)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Se(t,n))}}})(function(e){var t=Object(v.c)()[0],n=Object(c.useState)(Fs),r=n[0],a=n[1],i=Object(c.useState)(!0),s=i[0],o=i[1];Object(c.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",2);var t=ht.a.parse(e.location.search),n={page:t.page||"1",filterResponseRate:t.filterResponseRate||null,filterNotCompleted:t.filterNotCompleted||null,sort:t.sort||D.b.ResponseRate_asc};a(n),p(n).then(function(){o(!1)})},[]);var l=function(e){a(e),p(Ds({},e))},p=function(t){return e.history.replace(Object(S.c)(t)),e.fetchParticipantsListOfSubject(e.subjectType,t,e.subject,e.sessionUser).catch(function(e){Ia.a.info("Error fetchingParticipantsListoOfSubject",{error:e,info:{componentStack:"SubjectParticipantsList.jsx"}})})},d=function(t){if(e.currentCycle)return Object(Ji.o)(t,e.currentCycle.id)};return u.a.createElement(Et,null,s?u.a.createElement(y.default,{marginTop:60}):u.a.createElement(u.a.Fragment,null,e.currentCycle&&e.participantsObject&&e.participantsObject.participant_list.length>0?u.a.createElement(u.a.Fragment,null,e.currentCycle.anonymous?u.a.createElement(ks,{participants:e.participantsObject,listLoading:e.listLoading,subject:e.subject,sendReminder:d,currentCycle:e.currentCycle}):u.a.createElement(Hs,{filters:r,changeSorting:function(e){l(Ds({},r,{sort:e}))},changePage:function(e){l(Ds({},r,{page:e}))},sendReminder:d,changeBarFilter:function(e,t){l(Ds({},r,{filterResponseRate:e,filterNotCompleted:t}))},participants:e.participantsObject,subjectType:e.subjectType,subject:e.subject,listLoading:e.listLoading,currentCycle:e.currentCycle})):u.a.createElement(qt,{message:{txt:t("x.reports.survey_profile.participants.empty.message"),key:"x.reports.survey_profile.participants.empty.message"},buttonMessage:{txt:t("x.reports.survey_profile.participants.empty.button"),key:"x.reports.survey_profile.participants.empty.button"},link:"/content/surveys/"+e.subject.id})))}),Gs=Object(d.g)(zs),Bs=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ws=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Vs=Object(v.d)()(function(e){var t=Object(c.useState)(!0),n=t[0],r=t[1],a=Object(c.useState)({id:e.match.params.surveyId,name:""}),i=a[0],s=a[1],o=Object(c.useState)(),l=o[0],p=o[1];Object(c.useEffect)(function(){return m(e.match.params.surveyId),function(){e.setHeaderInformation({iconName:void 0})}},[e.match.params.surveyId]);var m=function(e){r(!0),f(e).then(function(){r(!1)})},f=function(t){return Bs(void 0,void 0,void 0,function(){var n,r,a,i,o;return Ws(this,function(l){switch(l.label){case 0:return e.changeHeaderLoading(!0),[4,e.getSurveySummary(t)];case 1:return(n=l.sent()).error&&(Ia.a.info("error on fetching survey summary",{error:n.error,info:{componentStack:"SurveyProfile.router.tsx"}}),e.history.replace(Dt.a.reports.survey)),r=n.response.data.survey,a={id:t,name:Object(On.c)(r.name),type:r.subject,surveyStatus:r.status,surveyScope:r.scope,withLink:"admin"===r.scope&&e.isAdmin||!!e.sessionUser&&r.created_by===e.sessionUser.uuid},i=[{name:e.t("x.reports.survey_profile.manage_survey_link"),link:Dt.a.contentSurveys.surveys}],"admin"!==r.scope&&(i[0]={name:e.t("x.reports.survey_profile.my-request-link"),link:Dt.a.reports.getUserProfileMyRequestsLink(e.sessionUser.uuid)}),o=Zi.a[r.use_case||r.subject],s(a),p({breadCrumbLinks:i,iconName:o}),[2]}})})},b=Object(c.useCallback)(function(){return u.a.createElement(_n,{entityObj:i,entityType:w.a.Survey,overrideHeaderInfo:l})},[i,l]),h=Object(c.useCallback)(function(){return u.a.createElement(Ya,{entityObj:i,entityType:w.a.Survey,overrideHeaderInfo:l})},[i,l]),v=Object(c.useCallback)(function(){return u.a.createElement(Oa,{entityObj:i,entityType:w.a.Survey})},[i]),x=Object(c.useCallback)(function(){return u.a.createElement(Gs,{subject:i,subjectType:w.a.Survey,overrideHeaderInfo:l})},[i,l]),_=e.match;return n?u.a.createElement(Pt,null,u.a.createElement(y.default,null)):u.a.createElement(Ja,null,u.a.createElement(Xa,null,u.a.createElement(d.d,null,u.a.createElement(d.b,{path:_.url+"/list",render:function(){return u.a.createElement(yt,{sessionUserIsCreator:!!e.survey&&e.survey.created_by===e.sessionUser.uuid,entityObj:i,entityType:w.a.Survey,overrideHeaderInfo:l,routes:[{path:"/news",render:b,args:["exact"]},{path:"/topics",render:h,args:["exact"]},{path:"/participants",render:x,args:["exact"]}]})}}),u.a.createElement(d.b,{path:_.url+"/topics/detail/:topicId("+g.a+")",render:v}),u.a.createElement(Ca,{entityObj:i,entityType:w.a.Survey}))))}),Qs=Object(p.b)(function(e){return{isAdmin:Object(Ft.e)(e),survey:e.reportsManagement.surveyProfile.survey,sessionUser:e.user.session.user}},function(e){return{changeHeaderLoading:function(t){return e(Ee(t))},setHeaderInformation:function(t){return e(be(t))},getSurveySummary:function(t){return e(Object(Ji.m)(t))}}})(Vs),Ys=Object(p.b)(function(e){var t=e.user.session;return{companyObj:t.company?{name:t.company.name,id:t.company.uuid,imageUrl:t.company.imageUrl||void 0}:null}},function(e){return{changeHeaderLoading:function(t){return e(Ee(t))},changeRatingVisibility:function(t){return e(ve(t))},changeGraphVisibility:function(t){return e(xe(t))},changePeriodSelectorVisibility:function(t){return e(_e(t))},setHeaderInformation:function(t){return e(be(t))}}})(function(e){Object(c.useEffect)(function(){a(),localStorage.setItem("isNotNewUser","true")},[]);var t=Object(c.useCallback)(function(){return u.a.createElement(Ya,{entityObj:e.companyObj,entityType:w.a.Company})},[e.companyObj]),n=Object(c.useCallback)(function(){return u.a.createElement(Oa,{entityObj:e.companyObj,entityType:w.a.Company})},[e.companyObj]),r=Object(c.useCallback)(function(){return u.a.createElement(_n,{entityObj:e.companyObj,entityType:w.a.Company})},[e.companyObj]),a=function(){e.changeRatingVisibility(!1),e.changeGraphVisibility(!1),e.changePeriodSelectorVisibility(!1);var t=[{name:e.companyObj.name,link:e.match.url}],n={entity:e.companyObj,entityType:w.a.Company,selectedTabIndex:-1,depth:0,breadCrumbLinks:t,subjectType:w.b.Topic,subject:e.companyObj,tabs:getMainTabsOfSubject(w.a.Company,e.companyObj.id||null)};e.setHeaderInformation(n),e.changeHeaderLoading(!1)},i=Object(c.useCallback)(function(){return u.a.createElement(yt,{entityObj:e.companyObj,entityType:w.a.Company,routes:[{path:"/news",render:r,args:["exact"]},{path:"/topics",render:t,args:["exact"]}]})},[e.companyObj]),s=e.match;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ja,{"data-testid":"reports__company__wrapper"},u.a.createElement(Xa,null,e.companyObj&&u.a.createElement(d.d,null,u.a.createElement(d.b,{path:s.url+"/list",render:i}),u.a.createElement(d.b,{path:s.url+"/topics/detail/:topicId("+g.a+")",render:n}),u.a.createElement(Ca,{entityObj:e.companyObj,entityType:w.a.Company})))))}),Zs=Object(d.g)(Ys),Js=function(){return(Js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xs=Object(p.b)(null,function(e){return{fetchScales:function(t){return e(Object(f.d)(t))}}})(function(e){var t=Object(c.useState)(!0),n=t[0],r=t[1];Object(c.useEffect)(function(){e.fetchScales({include:b.a.ScaleDeleted+","+b.a.ScaleVersion+","+b.a.ScaleCustom,per_page:1e3}).finally(function(){r(!1)})},[]);var a=Object(c.useCallback)(function(){return u.a.createElement(d.a,{to:e.match.url+"/company/profile"})},[e.match.url]),i=Object(c.useCallback)(function(t){return u.a.createElement(Bi,Js({},t,{key:e.match.params.userId}))},[e.match.params.userId]),s=Object(c.useCallback)(function(t){return u.a.createElement(Yi,Js({},t,{key:e.match.params.groupId}))},[e.match.params.groupId]),o=Object(c.useCallback)(function(t){return u.a.createElement(Qs,Js({},t,{key:e.match.params.surveyId}))},[e.match.params.surveyId]);return n?u.a.createElement(y.default,{alignCls:"center-middle"}):u.a.createElement(u.a.Fragment,null,u.a.createElement($e,null),u.a.createElement(d.d,null,u.a.createElement(d.b,Js({},e,{path:e.match.url+"/company/profile",component:Zs})),u.a.createElement(d.b,Js({},e,{path:e.match.url+"/user/profile/:userId("+g.a+")",render:i})),u.a.createElement(d.b,Js({},e,{path:e.match.url+"/group/profile/:groupId("+g.a+")",render:s})),u.a.createElement(d.b,Js({},e,{path:e.match.url+"/survey/profile/:surveyId("+g.a+")",render:o})),u.a.createElement(d.b,Js({},e,{exact:!0,path:e.match.url,render:a})),u.a.createElement(m.a,Js({},e))))}),$s=Object(d.g)(Xs);t.default=$s}}]);