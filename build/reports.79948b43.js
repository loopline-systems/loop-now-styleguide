(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./node_modules/lodash/_arrayEach.js":function(e,t){e.exports=function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/keys.js");e.exports=function baseAssign(e,t){return e&&r(t,a(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/keysIn.js");e.exports=function baseAssignIn(e,t){return e&&r(t,a(t),e)}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),a=n("./node_modules/lodash/_arrayEach.js"),i=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseAssign.js"),o=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),c=n("./node_modules/lodash/_copyArray.js"),u=n("./node_modules/lodash/_copySymbols.js"),p=n("./node_modules/lodash/_copySymbolsIn.js"),d=n("./node_modules/lodash/_getAllKeys.js"),m=n("./node_modules/lodash/_getAllKeysIn.js"),f=n("./node_modules/lodash/_getTag.js"),b=n("./node_modules/lodash/_initCloneArray.js"),g=n("./node_modules/lodash/_initCloneByTag.js"),y=n("./node_modules/lodash/_initCloneObject.js"),h=n("./node_modules/lodash/isArray.js"),x=n("./node_modules/lodash/isBuffer.js"),v=n("./node_modules/lodash/isMap.js"),j=n("./node_modules/lodash/isObject.js"),_=n("./node_modules/lodash/isSet.js"),w=n("./node_modules/lodash/keys.js"),E=1,O=2,S=4,k="[object Arguments]",T="[object Function]",C="[object GeneratorFunction]",I="[object Object]",P={};P[k]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[T]=P["[object WeakMap]"]=!1,e.exports=function baseClone(e,t,n,R,L,M){var A,N=t&E,U=t&O,K=t&S;if(n&&(A=L?n(e,R,L,M):n(e)),void 0!==A)return A;if(!j(e))return e;var q=h(e);if(q){if(A=b(e),!N)return c(e,A)}else{var H=f(e),B=H==T||H==C;if(x(e))return l(e,N);if(H==I||H==k||B&&!L){if(A=U||B?{}:y(e),!N)return U?p(e,o(A,e)):u(e,s(A,e))}else{if(!P[H])return L?e:{};A=g(e,H,N)}}M||(M=new r);var D=M.get(e);if(D)return D;if(M.set(e,A),_(e))return e.forEach(function(r){A.add(baseClone(r,t,n,r,e,M))}),A;if(v(e))return e.forEach(function(r,a){A.set(a,baseClone(r,t,n,a,e,M))}),A;var F=K?U?m:d:U?keysIn:w,G=q?void 0:F(e);return a(G||e,function(r,a){G&&(r=e[a=r]),i(A,a,baseClone(r,t,n,a,e,M))}),A}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_getSymbols.js");e.exports=function copySymbols(e,t){return r(e,a(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function copySymbolsIn(e,t){return r(e,a(e),t)}},"./node_modules/lodash/_getAllKeysIn.js":function(e,t){e.exports=function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/_getSymbols.js":function(e,t){e.exports=function stubArray(){return[]}},"./node_modules/lodash/_getSymbolsIn.js":function(e,t){e.exports=function stubArray(){return[]}},"./node_modules/lodash/_initCloneArray.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function initCloneArray(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},"./node_modules/lodash/_initCloneByTag.js":function(e,t){e.exports=function identity(e){return e}},"./node_modules/lodash/cloneDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js"),a=1,i=4;e.exports=function cloneDeep(e){return r(e,a|i)}},"./node_modules/lodash/isMap.js":function(e,t){e.exports=function stubFalse(){return!1}},"./node_modules/lodash/isSet.js":function(e,t){e.exports=function stubFalse(){return!1}},"./src/modules/reports/ReportsRouter.tsx":function(e,t,n){"use strict";n.r(t);var r,a,i,s,o,l=n("./node_modules/react/index.js"),c=n.n(l),u=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/react-router/esm/react-router.js"),d=n("./src/shared/errorPages/PageNotFound.tsx"),m=n("./src/modules/scales/actions/scaleActions.ts"),f=n("./src/constants.ts"),b=n("./src/shared/loadingSpinner/LoadingSpinner.tsx"),g=n("./src/interfaces/scale.interface.ts"),y=n("./node_modules/antd/es/col/index.js"),h=(n("./node_modules/antd/es/col/style/css.js"),n("./node_modules/react-i18next/dist/es/index.js")),x=n("./node_modules/react-transition-group/esm/Transition.js"),v=n("./src/modules/reports/reportsHeader/components/HeaderTitle.tsx"),j=n("./src/shared/avatarBox/AvatarBox.tsx"),_=n("./src/modules/reports/interfaces/header.interface.ts"),w=n("./node_modules/antd/es/popover/index.js"),E=(n("./node_modules/antd/es/popover/style/css.js"),n("./node_modules/styled-components/dist/styled-components.browser.esm.js")),O=n("./src/utils.ts"),S=n("./src/shared/ProgressBar.tsx"),k=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=E.d.div.withConfig({displayName:"Container"})(r||(r=k(["\n  color: ",";\n  text-align: center;\n"],["\n  color: ",";\n  text-align: center;\n"])),function(e){return e.theme.white.a10}),C=E.d.div.withConfig({displayName:"PopoverTrigger"})(a||(a=k(["\n  cursor: default;\n"],["\n  cursor: default;\n"]))),I=E.d.div.withConfig({displayName:"ResponseRateTxt"})(i||(i=k(["\n  font-size: 1rem;\n  font-weight: 600;\n  margin-top: 10px;\n"],["\n  font-size: 1rem;\n  font-weight: 600;\n  margin-top: 10px;\n"]))),P=E.d.div.withConfig({displayName:"AnswersUsersStat"})(s||(s=k(["\n  font-size: 0.8rem;\n  opacity: 0.65;\n  margin-top: 10px;\n\n  p {\n    margin-top: 5px;\n  }\n"],["\n  font-size: 0.8rem;\n  opacity: 0.65;\n  margin-top: 10px;\n\n  p {\n    margin-top: 5px;\n  }\n"]))),R=E.d.div.withConfig({displayName:"PopoverContent"})(o||(o=k(["\n  min-width: 275px;\n  margin: -12px -16px;\n\n  .rows-box {\n    padding: 5px 15px;\n    &.border {\n      border-bottom: 1px solid ",";\n    }\n  }\n  .row {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    font-size: 1rem;\n    font-weight: 600;\n    color: ",";\n    &.light {\n      color: ",";\n      font-weight: 400;\n      padding: 0 0 10px 0;\n      &:first-child {\n        padding: 10px 0;\n      }\n    }\n    &.title {\n      border-bottom: 1px solid ",";\n      padding: 15px 15px;\n    }\n  }\n"],["\n  min-width: 275px;\n  margin: -12px -16px;\n\n  .rows-box {\n    padding: 5px 15px;\n    &.border {\n      border-bottom: 1px solid ",";\n    }\n  }\n  .row {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    font-size: 1rem;\n    font-weight: 600;\n    color: ",";\n    &.light {\n      color: ",";\n      font-weight: 400;\n      padding: 0 0 10px 0;\n      &:first-child {\n        padding: 10px 0;\n      }\n    }\n    &.title {\n      border-bottom: 1px solid ",";\n      padding: 15px 15px;\n    }\n  }\n"])),function(e){return e.theme.black.a1},function(e){return e.theme.baseBlue.a10},function(e){return e.theme.baseBlue.a6},function(e){return e.theme.black.a1}),L=function(e,t,n){var r=t?Object(O.f)(t.response_rate_combined):"0",a=t?Object(O.f)(t.response_rate_self_assessment):"0",i=t?Object(O.f)(t.response_rate_assessment):"0";return l.createElement(R,null,t&&t.number_of_users_asked&&t.number_of_users_asked>0&&l.createElement("div",{className:"row title"},l.createElement("span",{"data-translation":"x.reports.header.survey_stats.participants_asked"},e("x.reports.header.survey_stats.participants_asked"))," ",l.createElement("span",null,t.number_of_users_asked)),l.createElement("div",{className:"rows-box border"},t&&t.number_of_cards&&t.number_of_cards>0&&l.createElement("div",{className:"row"},l.createElement("span",{"data-translation":"x.reports.header.survey_stats.questions_asked"},e("x.reports.header.survey_stats.questions_asked"))," ",l.createElement("span",null,t.number_of_cards)),l.createElement(M,{t:e,value:r,translationKey:"x.reports.header.survey_stats.answered"})),n&&l.createElement("div",{className:"rows-box"},l.createElement(M,{t:e,value:a,light:!0,translationKey:"x.reports.header.survey_stats.answered_self_assessment"}),l.createElement(M,{t:e,value:i,light:!0,translationKey:"x.reports.header.survey_stats.answered_assessment"})))},M=function(e){var t=e.t,n=e.value,r=e.light,a=e.translationKey;return l.createElement(l.Fragment,null,l.createElement("div",{className:"row "+(r?"light":"")},l.createElement("span",{"data-translation":a},t(a))," ",l.createElement("span",null,n,"%")),l.createElement(S.default,{className:"response-rate",progress:parseFloat(n),margin:"0 0 10px"}))},A=function(e){var t=e.t,n=e.stats,r=e.small,a=e.isPeopleSurvey;return l.createElement(w.a,{content:L(t,n,a),placement:"bottom"},l.createElement(C,null,l.createElement("div",{className:r?"hl3":"hl1"},n?Object(O.f)(n.response_rate_combined):null,"%"),!r&&l.createElement(I,{"data-translation":"x.reports.header.survey_stats.response_rate"},t("x.reports.header.survey_stats.response_rate"))))},N=function(e){var t=e.t,n=e.stats,r=e.isPeopleSurvey;return l.createElement(T,null,l.createElement(A,{stats:n,isPeopleSurvey:r,t:t}),l.createElement(P,null,n&&l.createElement(l.Fragment,null,l.createElement("p",{"data-translation":"[x.reports.header.survey_stats.answers, x.reports.header.survey_stats.users]"},n.number_of_ratings+" "+t("x.reports.header.survey_stats.answers",{count:n.number_of_ratings})+" ("+n.number_of_users_answered+" "+t("x.reports.header.survey_stats.users",{count:n.number_of_users_answered})+")"),l.createElement("p",{"data-translation":"x.reports.header.survey_stats.comments"},n.number_of_comments+" "+t("x.reports.header.survey_stats.comments",{count:n.number_of_comments})))))},U=n("./src/modules/reports/reportsHeader/components/Tabs.tsx"),K=n("./src/modules/reports/reportsHeader/Graph.tsx"),q=n("./src/modules/reports/shared/constants/filterAndSortingKeys.ts"),H=function(e){return{x:e,y:void 0,data:{answers:0,comments:0}}},B=function(e,t){return{x:e.x,y:t.avg_rating_ord,data:{answers:t.number_of_ratings,comments:t.number_of_comments}}},D=function(e){var t=new Date;return Array.from({length:6},function(e,n){return H(Date.UTC(t.getFullYear()-5+n,0))}).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date).getFullYear();return Date.UTC(n,0)===t.x}return!1});return n?B(t,n):t})},F=function(e){return Array.from({length:12},function(e,t){return H((n=t,r=new Date,a=(n+r.getMonth()+1)%12,i=a>=r.getMonth()+1?r.getFullYear()-1:r.getFullYear(),Date.UTC(i,a,1)));var n,r,a,i}).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date);return Date.UTC(n.getFullYear(),n.getMonth())===t.x}return!1});return n?B(t,n):t})},G=function(e){var t=new Date,n=Array.from({length:31},function(e,n){return H(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-864e5*n)});return(n=n.reverse()).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date);return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())===t.x}return!1});return n?B(t,n):t})},z=function(e){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());n-=864e5*(t.getDay()-1);var r=Array.from({length:12},function(e,t){return H(n-6048e5*t)});return(r=r.reverse()).map(function(t){var n=e.find(function(e){if(e.date){var n=new Date(e.date);return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())===t.x}return!1});return n?B(t,n):t})},W=function(e,t){var n=[];switch(t){case K.GraphDateTypes.Years:n=D(e);break;case K.GraphDateTypes.Months:n=F(e);break;case K.GraphDateTypes.Days:n=G(e);break;default:n=z(e)}return n},V=function(e,t){var n;switch(e){case q.a.AllTime:n={graphDateType:K.GraphDateTypes.Years,seriesData:W(t.histogram,K.GraphDateTypes.Years)};break;case q.a.LastYear:n={graphDateType:K.GraphDateTypes.Months,seriesData:W(t.histogram,K.GraphDateTypes.Months)};break;case q.a.LastMonth:n={graphDateType:K.GraphDateTypes.Days,seriesData:W(t.histogram,K.GraphDateTypes.Days)};break;default:n={graphDateType:K.GraphDateTypes.Weeks,seriesData:W(t.histogram,K.GraphDateTypes.Weeks)}}return n},Q=n("./src/services/hooks/useScrollHeader.ts"),Y=n("./src/shared/sortSelector/SortSelector.tsx"),Z=n("./src/modules/reports/services/indexCalculating.ts"),J=n("./src/modules/reports/reportsHeader/containers/ReportsHeader.sc.ts"),X=function(e){var t=e.maxRating,n=e.rating,r=e.type,a=e.smallHeader,i=e.withAnimation,s=e.withSlide;return c.a.createElement(J.p,{withAnimation:i,withSlide:s,smallHeader:a},c.a.createElement(J.g,{smallHeader:a},Object(Z.b)(t,n,r)),"/",c.a.createElement(J.r,{smallHeader:a},r===g.b.Nps?t-1:t))};X.defaultProps={rating:0,maxRating:1,type:g.b.Stars,smallHeader:!1,withAnimation:!1,withSlide:!1};var $,ee,te,ne,re,ae,ie,se,oe,le,ce,ue=X,pe=n("./src/modules/reports/shared/components/ratings/displayScale/DisplayScale.tsx"),de=[{name:q.a.AllTime,translationKey:"x.reports.period_selector.allTime"},{name:q.a.LastYear,translationKey:"x.reports.period_selector.lastYear"},{name:q.a.LastQuarter,translationKey:"x.reports.period_selector.lastQuarter"},{name:q.a.LastMonth,translationKey:"x.reports.period_selector.lastMonth"}],me=n("./src/modules/reports/reportsHeader/constans/action.types.ts"),fe=n("./src/services/ApiController.ts"),be=function(e){return{type:me.m,headerInformation:e}},ge=function(e){return{type:me.l,links:e}},ye=function(e){return{type:me.i,showRatingOnHeader:e}},he=function(e){return{type:me.d,showGraph:e}},xe=function(e){return{type:me.f,showPeriodSelector:e}},ve=function(e){return{type:me.h,rating:e}},je=function(e){return{type:me.j,selectedPeriod:e}},_e=function(e){return{type:me.e,loading:e}},we=function(e){return{type:me.c,loading:e}},Ee=function(e,t){return{type:me.k,key:e,value:t}},Oe=function(e,t,n){var r="/reports";switch(e){case _.a.Group:case _.a.User:r+="/"+e+"/"+t.id;break;case _.a.Survey:var a="company";n&&t.surveyScope&&"admin"!==t.surveyScope&&(a="user/"+n.uuid),r+="/"+a+"/"+e+"/"+t.id;break;default:r+="/"+e}return r},Se=function(e,t,n,r,a){var i=Oe(t,r,a);return i+="/topic/"+e+"/questions/summary",i+=n?"?filterAnsweredRange="+n:"",{types:[me.o,me.g,me.n],callAPI:function(){return fe.e.get(i)}}},ke=function(e,t,n,r,a){var i=Oe(t,r,a);return i+="/question/"+e+"/answers/summary",i+=n?"?filterAnsweredRange="+n:"",{types:[me.o,me.b,me.n],callAPI:function(){return fe.e.get(i)}}},Te=n("./src/modules/reports/reportsHeader/components/BreadCrumbs.tsx"),Ce=Object(u.b)(function(e){var t=e.reportsManagement.header;return{headerInformation:t.headerInformation,showRatingOnHeader:t.showRatingOnHeader,headerRating:t.headerRating,summaries:t.summaries,showPeriodSelector:t.showPeriodSelector,showGraph:t.showGraph,selectedPeriod:t.selectedPeriod}},function(e){return{changeSelectedPeriod:function(t){return e(je(t))}}})(function(e){var t,n=e.headerInformation.subjectType;return"question"!==n&&"answer"!==n||(t=e.summaries[n]),c.a.createElement(J.k,null,c.a.createElement(J.w,null,c.a.createElement(J.k,null,c.a.createElement(J.i,{lg:14,sm:10},c.a.createElement(Te.default,{smallHeader:e.small,breadCrumbLinks:e.headerInformation.breadCrumbLinks})),c.a.createElement(J.i,{position:"center",lg:4,sm:4},e.headerRating&&e.showGraph&&e.small&&t&&t.histogram.length>0&&c.a.createElement(K.default,{t:e.t,scale:e.headerRating.scale,seriesData:e.seriesData,graphDateType:e.graphDateType,smallHeader:!0})),e.showRatingOnHeader&&e.small&&e.headerRating?c.a.createElement(J.s,null,c.a.createElement(J.i,{position:"center",sm:4,lg:2},null!==e.headerRating.result.avg_rating_ord?c.a.createElement(ue,{smallHeader:!0,withAnimation:!1,withSlide:!1,maxRating:Object(Z.d)(e.headerRating.scale),rating:e.headerRating.result.avg_rating_ord,type:e.headerRating.scale.visualization}):c.a.createElement("span",null)),c.a.createElement(J.i,{position:"center",sm:6,lg:4},c.a.createElement(pe.default,{rating:e.headerRating.result.avg_rating_ord,maxRating:Object(Z.d)(e.headerRating.scale),labelIndex:e.headerRating.ratingIndex||0,type:e.headerRating.scale.visualization,labels:e.headerRating.scale.labels||null,onSmallHeader:!0}))):c.a.createElement(J.i,{position:"center",lg:{span:4,offset:2},sm:{span:4,offset:6}},c.a.createElement(J.n,{smallHeader:e.small},!e.small&&e.showPeriodSelector&&c.a.createElement(Y.a,{selectedSorting:e.selectedPeriod,sortList:e.changeSelectedPeriod,sortingOptions:de,selectorCssClass:"reports-header",selectorLabelKey:" "}))))))}),Ie=n("./src/shared/SvgIcon.tsx"),Pe=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Re=E.d.div.withConfig({displayName:"OuterContainer"})($||($=Pe(["\n  max-width: 585px;\n  margin: -12px -16px;\n  color: ",";\n  font-size: 15px;\n  line-height: 26px;\n"],["\n  max-width: 585px;\n  margin: -12px -16px;\n  color: ",";\n  font-size: 15px;\n  line-height: 26px;\n"])),function(e){return e.theme.baseBlue.a6}),Le=E.d.div.withConfig({displayName:"ContentWrapper"})(ee||(ee=Pe(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Me=E.d.div.withConfig({displayName:"GapAnalysisContainer"})(te||(te=Pe(["\n  margin-top: 5px;\n"],["\n  margin-top: 5px;\n"]))),Ae=E.d.span.withConfig({displayName:"GapAnalysisTrigger"})(ne||(ne=Pe(["\n  cursor: pointer;\n  display: flex;\n  color: ",";\n  justify-content: center;\n  > span {\n    margin-left: 5px;\n  }\n  &:hover {\n    color: ",";\n  }\n"],["\n  cursor: pointer;\n  display: flex;\n  color: ",";\n  justify-content: center;\n  > span {\n    margin-left: 5px;\n  }\n  &:hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.white.a6},function(e){return e.theme.white.a10}),Ne=E.d.div.withConfig({displayName:"Rating"})(re||(re=Pe(["\n  margin-top: 5px;\n  font-weight: 600;\n  > span {\n    margin: 0 2px;\n  }\n"],["\n  margin-top: 5px;\n  font-weight: 600;\n  > span {\n    margin: 0 2px;\n  }\n"]))),Ue=E.d.span.withConfig({displayName:"Title"})(ae||(ae=Pe(["\n  margin-top: 5px;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  margin-top: 5px;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),Ke=E.d.span.withConfig({displayName:"SubTitle"})(ie||(ie=Pe(["\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),qe=E.d.div.withConfig({displayName:"Footer"})(se||(se=Pe(["\n  border-top: 1px solid ",";\n  display: flex;\n  font-size: 12px;\n  line-height: 22px;\n  padding: 5px 10px;\n"],["\n  border-top: 1px solid ",";\n  display: flex;\n  font-size: 12px;\n  line-height: 22px;\n  padding: 5px 10px;\n"])),function(e){return e.theme.black.a1}),He=E.d.div.withConfig({displayName:"Split"})(oe||(oe=Pe(["\n  min-height: 75px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  &:last-child {\n    margin-top: 15px;\n    flex-grow: 1;\n  }\n  /* IE */\n  > span {\n    width: 100%;\n  }\n"],["\n  min-height: 75px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  &:last-child {\n    margin-top: 15px;\n    flex-grow: 1;\n  }\n  /* IE */\n  > span {\n    width: 100%;\n  }\n"]))),Be=E.d.div.withConfig({displayName:"IconContainer"})(le||(le=Pe(["\n  width: 14px;\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  /* IE */\n  flex-shrink: 0;\n"],["\n  width: 14px;\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  /* IE */\n  flex-shrink: 0;\n"]))),De=E.d.div.withConfig({displayName:"ContentSection"})(ce||(ce=Pe(["\n  width: 195px;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  &:not(:first-child):not(:last-child) {\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n  }\n"],["\n  width: 195px;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  &:not(:first-child):not(:last-child) {\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n  }\n"])),function(e){return e.theme.black.a1},function(e){return e.theme.black.a1}),Fe=function(e){var t=e.t,n=e.iconSubject,r=e.sectionType;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue,{"data-translation":"x.reports.gap_analysis.section."+r+".title"},t("x.reports.gap_analysis.section."+r+".title")),c.a.createElement(Ke,{"data-translation":"x.reports.gap_analysis.section."+r+".subtitle"},t("x.reports.gap_analysis.section."+r+".subtitle",{name:n.name})))},Ge=n("./src/styles/colors/index.ts"),ze=function(e){var t=e.sectionGap,n=e.scale,r=e.maxRating,a=e.t;return t.avg_rating_ord>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(pe.default,{labelIndex:Object(Z.a)(t.avg_rating_ord,n),type:n.visualization,labels:n.labels,maxRating:r,rating:t.avg_rating_ord,labelColor:Ge.b.a6,small:!0}),c.a.createElement(Ne,null,c.a.createElement("span",null,Object(Z.b)(r,t.avg_rating_ord,n.visualization)),c.a.createElement("span",null,"/"),c.a.createElement("span",null,n.visualization===g.b.Nps?r-1:r)),c.a.createElement("span",{"data-translation":"x.reports.display_scale.information.answers"},a("x.reports.display_scale.information.answers",{count:t.number_of_ratings}))):c.a.createElement("span",{"data-translation":"x.reports.gap_analysis.section.no_answer"},a("x.reports.gap_analysis.section.no_answer"))},We=function(e){var t=e.maxRating,n=e.iconSubject,r=e.sectionGap,a=e.scale,i=e.t;return c.a.createElement(De,null,c.a.createElement(He,null,c.a.createElement(j.default,{size:35,type:"user",url:n.imageUrl,name:""+n.name}),c.a.createElement(Fe,{iconSubject:n,t:i,sectionType:"self_assessment"})),c.a.createElement(He,null,c.a.createElement(ze,{sectionGap:r,scale:a,maxRating:t,t:i})))},Ve=function(e){var t=e.maxRating,n=e.sectionGap,r=e.iconSubject,a=e.manager,i=e.scale,s=e.t;return c.a.createElement(De,null,c.a.createElement(He,null,c.a.createElement(j.default,{size:35,type:a?"user":"company",url:a?a.image_url:void 0,name:a&&a.meta&&a.meta.name?a.meta.name:"?"}),c.a.createElement(Fe,{iconSubject:r,t:s,sectionType:"manager"})),c.a.createElement(He,null,n&&a?c.a.createElement(ze,{sectionGap:n,scale:i,maxRating:t,t:s}):c.a.createElement("span",{"data-translation":"x.reports.gap_analysis.section.manager.no_manager"},s("x.reports.gap_analysis.section.manager.no_manager"))))},Qe=function(e){var t=e.maxRating,n=e.iconSubject,r=e.sectionGap,a=e.scale,i=e.t;return c.a.createElement(De,null,c.a.createElement(He,null,c.a.createElement(j.default,{size:35,iconName:"iconPeople"}),c.a.createElement(Fe,{iconSubject:n,t:i,sectionType:"peer"})),c.a.createElement(He,null,c.a.createElement(ze,{sectionGap:r,scale:a,maxRating:t,t:i})))},Ye=function(e){var t=e.t,n=e.headerRating,r=e.iconSubject,a=e.gapAnalysis,i=Object(Z.d)(n.scale),s=c.a.createElement(Re,null,c.a.createElement(Le,null,c.a.createElement(We,{t:t,scale:n.scale,sectionGap:a.self,maxRating:i,iconSubject:r}),c.a.createElement(Ve,{t:t,scale:n.scale,sectionGap:a.manager,maxRating:i,manager:n.manager,iconSubject:r}),c.a.createElement(Qe,{t:t,scale:n.scale,sectionGap:a.peer,iconSubject:r,maxRating:i})),c.a.createElement(qe,null,c.a.createElement(Be,null,c.a.createElement(Ie.default,{width:"14px",name:"iconInfo"})),c.a.createElement("div",{"data-translation":"x.reports.profile.gap_analysis.anon_info"},t("x.reports.profile.gap_analysis.anon_info"))));return c.a.createElement(Me,null,n.result.gap_analysis&&c.a.createElement(w.a,{placement:"bottomRight",content:s},c.a.createElement(Ae,null,c.a.createElement("span",{className:"icon"},c.a.createElement(Ie.default,{name:"iconCircleArrows",width:15})),c.a.createElement("span",{"data-translation":"x.reports.gap_analysis.trigger"},t("x.reports.gap_analysis.trigger")))))},Ze=function(e){var t=e.t,n=e.iconSubject,r=e.headerRating,a=e.withAnimation;return c.a.createElement(J.q,null,c.a.createElement(pe.default,{rating:r.result.avg_rating_ord,maxRating:Object(Z.d)(r.scale),labelIndex:r.ratingIndex||0,type:r.scale.visualization,labels:r.scale.labels||null}),null!==r.result.avg_rating_ord?c.a.createElement(ue,{withAnimation:a,withSlide:!0,type:r.scale.visualization,maxRating:Object(Z.d)(r.scale),rating:r.result.avg_rating_ord}):c.a.createElement("span",null),c.a.createElement(J.c,null,c.a.createElement(J.o,{"data-translation":"x.reports.display_scale.information.answers"},t("x.reports.display_scale.information.answers",{count:r.result.number_of_ratings}),r.result.number_of_users&&c.a.createElement("span",{"data-translation":"x.reports.display_scale.information.people"},t("x.reports.display_scale.information.people",{count:r.result.number_of_users}))),r.result.gap_analysis&&n?c.a.createElement(Ye,{iconSubject:n,headerRating:r,gapAnalysis:r.result.gap_analysis,t:t}):c.a.createElement(J.o,{"data-translation":"x.reports.display_scale.information.comments"},t("x.reports.display_scale.information.comments",{count:r.result.number_of_comments}))))},Je=Object(p.g)(function(e){var t=Object(h.c)()[0],n=Object(l.useRef)(null),r=Object(Q.a)(n,J.x),a=r.withAnimation,i=r.smallHeader,s=r.noTabs,o=Object(l.useState)(0),u=o[0],p=o[1];Object(l.useEffect)(function(){e.headerInformation.subject&&p(e.headerInformation.subject.name.length)},[e.headerInformation.subject]);var d=Object(l.useState)(K.GraphDateTypes.Years),m=d[0],f=d[1],g=Object(l.useState)([]),w=g[0],E=g[1];Object(l.useEffect)(function(){var t=e.headerInformation.depth,n=[_.b.Topic,_.b.Question,_.b.Answer];if(t>0){var r=n[t];if("question"===r||"answer"===r){var a=e.summaries[r];if(a){var i=V(e.selectedPeriod,a);E(i.seriesData),f(i.graphDateType)}}}},[e.summaries,e.selectedPeriod,e.headerInformation.depth,e.headerInformation.subjectType]);var O=function(t,n){e.headerInformation&&t===e.headerInformation.selectedTabIndex||e.history.push(""+e.match.url+n)},S=e.headerInformation,k=e.headerRating,T=e.headerLoading||!S.entity||!S.subject;return c.a.createElement(J.j,{ref:n,smallHeader:i,depth:S?S.depth:0},c.a.createElement(J.l,null,!e.entityLoading&&c.a.createElement(Ce,{history:e.history,location:e.location,seriesData:w,graphDateType:m,small:i,t:t}),c.a.createElement(J.b,null,c.a.createElement(J.m,{smallHeader:i},c.a.createElement(J.i,{lg:2,sm:4},!e.entityLoading&&S.entity&&c.a.createElement(J.h,null,c.a.createElement(j.default,{size:80,type:S.entityType,url:S.entity.imageUrl,name:""+S.entity.name,iconName:S.iconName}))),c.a.createElement(J.i,{lg:10,sm:8},T?c.a.createElement(b.default,{color:"white",size:12}):c.a.createElement(v.default,{headerInformation:S,t:t,titleLength:u})),c.a.createElement(y.a,{lg:8,sm:8},!T&&e.showGraph&&k&&c.a.createElement(K.default,{smallHeader:!1,t:t,scale:k.scale,seriesData:w,graphDateType:m})),c.a.createElement(J.i,{position:"center",lg:4,sm:4},!T&&S.subject&&!!e.headerInformation&&e.headerInformation.entityType===_.a.Survey&&0===e.headerInformation.depth&&e.currentCycle&&c.a.createElement(N,{t:t,stats:e.surveyStats,isPeopleSurvey:"people"===S.subject.type}),!T&&e.showRatingOnHeader&&e.headerRating&&c.a.createElement(Ze,{iconSubject:S.entity,headerRating:e.headerRating,withAnimation:a,t:t})))),c.a.createElement(x.a,{in:!T,timeout:150},function(e){return c.a.createElement(U.default,{status:e,tabs:S.tabs,noTabs:s,selectedTabIndex:S.selectedTabIndex,tabSelect:O,t:t})})))}),Xe=Object(u.b)(function(e){var t=e.reportsManagement;return{headerInformation:t.header.headerInformation,showRatingOnHeader:t.header.showRatingOnHeader,headerRating:t.header.headerRating,headerLoading:t.header.headerLoading,summaries:t.header.summaries,showGraph:t.header.showGraph,surveyStats:t.surveyProfile.surveyStats,currentCycle:t.surveyProfile.cycle,selectedPeriod:t.header.selectedPeriod,entityLoading:t.header.entityLoading}})(Je),$e=n("./node_modules/lodash/cloneDeep.js"),et=n.n($e);function getMainTabsOfSubject(e,t,n,r,a){var i="/"+e+"/profile";switch(e){case _.a.User:case _.a.Group:case _.a.Survey:i+="/"+t}var s=[{name:"NEWS",translationKey:"x.company_settings.header.tabs.news",link:(i+="/list")+"/news"},{name:"TOPICS",translationKey:"x.company_settings.header.tabs.topics",link:i+"/topics"}];return e===_.a.Survey&&a&&s.push({name:"PARTICIPANTS",translationKey:"x.company_settings.header.tabs.participants",link:i+"/participants"}),e===_.a.User&&(r&&s.push({name:"MY_REQUESTS",translationKey:"x.reports.user.tabs.my_requests",link:i+"/my-requests"}),n&&s.push({name:"MY_TEAM",translationKey:"x.reports.user.tabs.my_team",link:i+"/my-team"})),s}var tt,nt,rt,at,it,st,ot,lt,ct,ut,pt,dt=function(e,t,n){var r="";switch(e){case _.a.User:case _.a.Group:case _.a.Survey:r="/"+n.id}var a="/"+e+"/profile"+r+"/topics/detail/"+t.id+"/list",i=[{name:"QUESTIONS",translationKey:"x.company_settings.header.tabs.questions",link:a+"/questions"}];return e===_.a.Survey||t.private||i.push({name:"IMPROVE",translationKey:"x.company_settings.header.tabs.improve",link:a+"/improve"}),i},mt=function(){return(mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ft=Object(p.g)(function(e){var t=Object(l.useState)(!0),n=t[0],r=t[1];Object(l.useEffect)(function(){a()},[]);var a=function(){e.changeRatingVisibility(!1),e.changeGraphVisibility(!1),e.changePeriodSelectorVisibility(!1);var t=[{name:e.entityObj.name,link:e.match.url}],n=mt({entity:e.entityObj,entityType:e.entityType,selectedTabIndex:-1,depth:0,breadCrumbLinks:t,subjectType:_.b.Topic,subject:e.entityObj,tabs:getMainTabsOfSubject(e.entityType,e.entityObj.id||null,e.isManager,e.isSessionUser,e.sessionUserIsCreator)},et()(e.overrideHeaderInfo));e.overrideHeaderInfo&&e.overrideHeaderInfo.breadCrumbLinks&&(n.breadCrumbLinks=e.overrideHeaderInfo.breadCrumbLinks.concat(t)),e.setHeaderInformation(n),e.changeHeaderLoading(!1),e.changeEntityLoading(!1),r(!1)};return c.a.createElement(c.a.Fragment,null,n?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(p.d,null,e.routes.map(function(t){return c.a.createElement(p.b,mt({key:t.path,path:""+e.match.url+t.path,render:t.render},t.args.reduce(function(e,t){var n;return mt({},e,((n={})[t]=!0,n))},{})))}),c.a.createElement(d.a,mt({},e))))}),bt=Object(u.b)(null,function(e){return{changeHeaderLoading:function(t){return e(_e(t))},changeEntityLoading:function(t){return e(we(t))},changeRatingVisibility:function(t){return e(ye(t))},changeGraphVisibility:function(t){return e(he(t))},changePeriodSelectorVisibility:function(t){return e(xe(t))},setHeaderInformation:function(t){return e(be(t))}}})(ft),gt=n("./node_modules/query-string/index.js"),yt=n.n(gt),ht=n("./src/shared/lists/pagination/Pagination.tsx"),xt=n("./src/styles/animations/containerAnimations.sc.ts"),vt=n("./src/modules/reports/shared/distributers/actionDistributor.ts"),jt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},_t=E.d.div.withConfig({displayName:"ListContainer"})(tt||(tt=jt(["\n  max-width: 1140px;\n  width: 100%;\n  padding-bottom: 30px;\n"],["\n  max-width: 1140px;\n  width: 100%;\n  padding-bottom: 30px;\n"]))),wt=E.d.div.withConfig({displayName:"ListSpinner"})(nt||(nt=jt(["\n  margin-top: 45px;\n"],["\n  margin-top: 45px;\n"]))),Et=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ot=E.d.div.withConfig({displayName:"ReportsPageContainer"})(rt||(rt=Et(["\n  margin: 0;\n  width: 100%;\n"],["\n  margin: 0;\n  width: 100%;\n"]))),St=E.d.div.withConfig({displayName:"ListSortingContainer"})(at||(at=Et(["\n  font-size: 12px;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  height: 100%;\n  padding: 30px 0;\n  display: flex;\n  justify-content: space-between;\n"],["\n  font-size: 12px;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  height: 100%;\n  padding: 30px 0;\n  display: flex;\n  justify-content: space-between;\n"])),function(e){return e.theme.baseBlue.a16}),kt=E.d.div.withConfig({displayName:"SortingAndFiltering"})(it||(it=Et(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Tt=E.d.div.withConfig({displayName:"SortElement"})(st||(st=Et(["\n  max-width: 178px;\n  margin-left: 45px;\n"],["\n  max-width: 178px;\n  margin-left: 45px;\n"]))),Ct=E.d.div.withConfig({displayName:"SpinnerContainer"})(ot||(ot=Et(["\n  padding-top: ","px;\n"],["\n  padding-top: ","px;\n"])),J.x+60),It=n("./src/shared/lists/itemsAmount/ItemsAmount.tsx"),Pt=n("./node_modules/react-router-dom/esm/react-router-dom.js"),Rt=n("./src/shared/buttons/basicButtons/SecondaryButton.sc.ts"),Lt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Mt=E.d.div.withConfig({displayName:"EmptyMessageContainer"})(lt||(lt=Lt(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),At=E.d.span.withConfig({displayName:"EmptyMessageTxt"})(ct||(ct=Lt(["\n  font-size: 21px;\n  text-align: center;\n  color: ",";\n  max-width: 20rem;\n  margin-bottom: 2rem;\n"],["\n  font-size: 21px;\n  text-align: center;\n  color: ",";\n  max-width: 20rem;\n  margin-bottom: 2rem;\n"])),function(e){return e.theme.baseBlue.a10}),Nt=Object(E.d)(Pt.b).withConfig({displayName:"StyledLink"})(ut||(ut=Lt(["\n  width: 100%;\n  max-width: 360px;\n  display: flex;\n  justify-content: center;\n"],["\n  width: 100%;\n  max-width: 360px;\n  display: flex;\n  justify-content: center;\n"]))),Ut=function(e){var t=e.message,n=e.buttonMessage,r=e.link,a=e.marginTop,i=void 0===a?60:a;return l.createElement(Mt,{style:{marginTop:i}},l.createElement(At,{"data-translation":t.key},t.txt),n&&r&&l.createElement(Nt,{to:r},l.createElement(Rt.a,{buttonSize:"large"},l.createElement("span",null,n.txt))))},Kt=n("./src/modules/reports/shared/components/shared/AvatarTextBubbleItem.tsx"),qt=n("./src/routingConfig.ts"),Ht=n("./src/store/session/session.reducer.ts"),Bt=Object(h.d)()(function(e){var t=e.t,n=e.subject,r=e.subjectType,a=e.newsList,i=a?Object.values(a.news_list):[],s=i.length,o=Object(l.useMemo)(function(){return[{txt:t("x.reports.company_profile."+(r===_.a.Survey?"survey":"news")+".empty.message"),key:"x.reports.company_profile."+(r===_.a.Survey?"survey":"news")+".empty.message"},{txt:t("x.reports.company_profile."+(r===_.a.Survey?"survey":"news")+".empty.button"),key:"x.reports.company_profile."+(r===_.a.Survey?"survey":"news")+".empty.button"}]},[s]),u=o[0],p=o[1],d=qt.a.reports.createTopicQuestionProfileLink(r);return c.a.createElement(Ot,null,s>0?i.map(function(a){return c.a.createElement(Kt.default,{key:a.id,t:t,answer:a,isAdmin:e.isAdmin,scale:a.scale_version_id?e.scales[a.scale_version_id]:null,titleLink:d(a.question.topic_id,a.question.id,r!==_.a.Company?n.id:void 0),withBorder:!0})}):c.a.createElement(Ut,{marginTop:0,message:u,buttonMessage:p,link:r===_.a.Survey?qt.a.contentSurveys.surveys+"/"+n.id:qt.a.answerQuestions.questions}))}),Dt=Object(p.g)(Bt),Ft=Object(u.b)(function(e){return{isAdmin:Object(Ht.d)(e),scales:e.scales.byId}})(Dt);!function(e){e.All="0",e.WithComments="1"}(pt||(pt={}));var Gt,zt,Wt,Vt,Qt,Yt,Zt,Jt,Xt,$t,en,tn,nn,rn,an,sn,on,ln,cn,un,pn,dn,mn=[{name:pt.All,translationKey:"x.reports.news.with_comments_filter.all"},{name:pt.WithComments,translationKey:"x.reports.news.with_comments_filter.with_comments"}],fn=function(){return(fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bn=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},gn=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},yn={page:"1",filterWithComments:"0"},hn=Object(p.g)(function(e){var t=Object(h.c)()[0],n=Object(l.useState)(yn),r=n[0],a=n[1],i=Object(l.useState)(!0),s=i[0],o=i[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",0);var t=yt.a.parse(e.location.search),n={page:t.page||"1",filterWithComments:t.filterWithComments||"0"};a(n),u(n).then(function(){o(!1)})},[]);var u=function(t){return bn(void 0,void 0,void 0,function(){var n;return gn(this,function(r){switch(r.label){case 0:return e.location.state&&e.location.state.isRedirected?[3,2]:[4,p(t).then(function(){o(!1)})];case 1:return r.sent(),[3,3];case 2:delete(n=fn({},v.state)).isRedirected,e.history.replace({state:n}),r.label=3;case 3:return[2]}})})},p=function(t){return bn(void 0,void 0,void 0,function(){return gn(this,function(n){switch(n.label){case 0:return e.history.replace(Object(O.c)(t)),e.sessionUser?[4,e.fetchNewsListOfSubject(e.entityType,e.entityObj,e.sessionUser,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},d=Object(l.useMemo)(function(){return mn.map(function(n){var r=fn({},n,{label:t(n.translationKey)});return e.newsList&&(n.name===pt.All?r.label+=" ("+e.newsList.total_cards+")":r.label+=" ("+e.newsList.cards_with_comments+")"),r})},[e.newsList]),m=function(e){a(e),p(fn({},e))},f=e.entityObj,g=e.entityType,y=e.pagination,x=e.history,v=e.location,j=e.loading;return c.a.createElement(_t,{"data-testid":"reports__news__list"},c.a.createElement(St,null,y&&!j?c.a.createElement(It.default,{t:t,pagination:y,onePageKey:"x.reports.company_profile.subtitle.comments.length",multyPageKey:"x.reports.company_profile.subtitle.comments.amount_from_to"}):c.a.createElement("div",null),y&&d&&(y.total>1||"0"!==r.filterWithComments)&&c.a.createElement(Y.a,{sortingOptions:d,selectedSorting:r.filterWithComments,sortList:function(e){m(fn({},r,{filterWithComments:e}))},selectorLabelKey:"x.reports.news.with_comments_filter.label"})),s||j?c.a.createElement(b.default,{marginTop:60}):e.newsList&&c.a.createElement(xt.a,null,c.a.createElement(Ft,{subject:f,subjectType:g,newsList:e.newsList})),y&&!s&&c.a.createElement(ht.default,{t:t,totalItems:y.total,pageSize:y.per_page,onChange:function(e){m(fn({},r,{page:e.toString()}))},marginTop:60,history:x,location:v,defaultCurrPage:y.page}))}),xn=Object(u.b)(function(e,t){var n=e.reportsManagement,r=e.user,a=t.entityType,i=Object(vt.j)(a,n);return{newsList:i.result,pagination:i.pagination,loading:n[a+"Profile"].loading,sessionUser:r.session.user}},function(e){return{fetchNewsListOfSubject:function(t,n,r,a){return e(Object(vt.c)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))}}})(hn),vn=n("./node_modules/moment/moment.js"),jn=n.n(vn),_n=(Gt="x.reports.user.my_team.list.sorting",[{name:q.b.Fullname_asc,translationKey:Gt+".name_AtoZ"},{name:q.b.Fullname_desc,translationKey:Gt+".name_ZtoA"},{name:q.b.Lastname_asc,translationKey:Gt+".last_name_AtoZ"},{name:q.b.Lastname_desc,translationKey:Gt+".last_name_ZtoA"}]),wn=n("./src/services/translationServices.ts"),En=n("./src/services/hooks/useScrollContainer.ts"),On=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Sn=E.d.span.withConfig({displayName:"BarSelectorTriggerContainer"})(zt||(zt=On(["\n  text-transform: uppercase;\n  align-items: center;\n  vertical-align: top;\n  cursor: pointer;\n  font-weight: 600;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  display: flex;\n  font-size: 0.8rem;\n  max-width: 100%;\n"],["\n  text-transform: uppercase;\n  align-items: center;\n  vertical-align: top;\n  cursor: pointer;\n  font-weight: 600;\n  line-height: 22px;\n  text-align: left;\n  color: ",";\n  display: flex;\n  font-size: 0.8rem;\n  max-width: 100%;\n"])),function(e){return e.theme.baseBlue.a10}),kn=E.d.div.withConfig({displayName:"TextMargin"})(Wt||(Wt=On(["\n  margin-left: 3px;\n"],["\n  margin-left: 3px;\n"]))),Tn=Object(E.d)(kn).withConfig({displayName:"SortingLabel"})(Vt||(Vt=On(["\n  text-overflow: ",";\n  overflow: hidden;\n  white-space: nowrap;\n  text-transform: ",";\n"],["\n  text-overflow: ",";\n  overflow: hidden;\n  white-space: nowrap;\n  text-transform: ",";\n"])),function(e){return e.noOverflow?"default":"ellipsis"},function(e){return e.noOverflow?"none":"uppercase"}),Cn=function(e){var t=e.labelTextKey,n=e.triggerTextKey,r=e.t,a=e.clickTrigger;return c.a.createElement(Sn,{onClick:a},c.a.createElement(kn,null,r(t)),c.a.createElement(Tn,{"data-translation":n},r(n)),c.a.createElement(kn,null,c.a.createElement(Ie.default,{name:"iconColoredBars",width:"10px"})))},In=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pn=E.d.div.withConfig({displayName:"QuestionsSortSelectorContainer"})(Qt||(Qt=In(["\n  font-family: 'Open Sans', sans-serif;\n  display: flex;\n  flex-direction: column;\n  padding: 0 0.933rem 0 0.933rem;\n  font-weight: 200;\n  min-width: 15rem;\n"],["\n  font-family: 'Open Sans', sans-serif;\n  display: flex;\n  flex-direction: column;\n  padding: 0 0.933rem 0 0.933rem;\n  font-weight: 200;\n  min-width: 15rem;\n"]))),Rn=E.d.span.withConfig({displayName:"LabelContainer"})(Yt||(Yt=In(["\n  text-align: center;\n  padding: 1rem 0 0 0;\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 26px;\n  color: ",";\n"],["\n  text-align: center;\n  padding: 1rem 0 0 0;\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 26px;\n  color: ",";\n"])),function(e){return e.theme.baseBlue.a10}),Ln=E.d.div.withConfig({displayName:"BarItemContainer"})(Zt||(Zt=In(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  text-decoration: ",";\n  cursor: ",";\n  margin-bottom: 0.07rem;\n  min-width: fit-content;\n  width: 100%;\n  :hover {\n    color: ",";\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  text-decoration: ",";\n  cursor: ",";\n  margin-bottom: 0.07rem;\n  min-width: fit-content;\n  width: 100%;\n  :hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.baseBlue.a6},function(e){return e.clickable?"underline":"none"},function(e){return e.clickable?"pointer":"default"},function(e){var t=e.clickable,n=e.theme;return t?n.baseBlue.a10:n.baseBlue.a6}),Mn=E.d.span.withConfig({displayName:"LabelContainerLink"})(Jt||(Jt=In(["\n  flex-grow: 1;\n  min-width: 35px;\n  width: auto;\n  text-align: end;\n"],["\n  flex-grow: 1;\n  min-width: 35px;\n  width: auto;\n  text-align: end;\n"]))),An=E.d.div.withConfig({displayName:"AllSelectorContainer"})(Xt||(Xt=In(["\n  height: 100%;\n  width: 100%;\n"],["\n  height: 100%;\n  width: 100%;\n"]))),Nn=E.d.div.withConfig({displayName:"AnswersSelectorContainer"})($t||($t=In(["\n  border-left: 1px solid ",";\n  height: 100%;\n  width: 100%;\n"],["\n  border-left: 1px solid ",";\n  height: 100%;\n  width: 100%;\n"])),function(e){return e.theme.black.a1}),Un=E.d.div.withConfig({displayName:"AllSelectorWrapper"})(en||(en=In(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  cursor: pointer;\n  text-decoration: underline;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  cursor: pointer;\n  text-decoration: underline;\n\n  :hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.baseBlue.a16},function(e){return e.theme.baseBlue.a10}),Kn=E.d.div.withConfig({displayName:"AnswersSelector"})(tn||(tn=In(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  padding: 0 15px 0 15px;\n  cursor: pointer;\n  text-decoration: underline;\n  text-align: center;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 15px;\n  line-height: 26px;\n  color: ",";\n  padding: 0 15px 0 15px;\n  cursor: pointer;\n  text-decoration: underline;\n  text-align: center;\n\n  :hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.baseBlue.a6},function(e){return e.theme.baseBlue.a10}),qn=E.d.div.withConfig({displayName:"BarsContainer"})(nn||(nn=In(["\n  padding: 1rem 0 1rem 0;\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n"],["\n  padding: 1rem 0 1rem 0;\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n"]))),Hn=E.d.div.withConfig({displayName:"DefaultSelector"})(rn||(rn=In(["\n  display: flex;\n  padding: 2rem 0 2rem 0;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid ",";\n"],["\n  display: flex;\n  padding: 2rem 0 2rem 0;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid ",";\n"])),function(e){return e.theme.black.a1}),Bn=E.d.div.withConfig({displayName:"BarContainer"})(an||(an=In(["\n  width: 150px;\n  height: 12px;\n  background-color: ",";\n"],["\n  width: 150px;\n  height: 12px;\n  background-color: ",";\n"])),function(e){return e.theme.black.a1}),Dn=E.d.div.withConfig({displayName:"BarWrapper"})(sn||(sn=In(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 0 10px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  margin: 0 10px;\n"]))),Fn=E.d.span.withConfig({displayName:"CountContainer"})(on||(on=In(["\n  min-width: 35px;\n"],["\n  min-width: 35px;\n"]))),Gn=Object(E.e)(ln||(ln=In(["\n  from {\n    width: 0;\n  }\n"],["\n  from {\n    width: 0;\n  }\n"]))),zn=E.d.div.withConfig({displayName:"Bar"})(cn||(cn=In(["\n  height: 12px;\n  width: ","px;\n"],["\n  height: 12px;\n  width: ","px;\n"])),function(e){return 1.5*e.filled}),Wn=E.d.div.withConfig({displayName:"GrowBar"})(un||(un=In(["\n  height: 12px;\n  background-color: ",";\n  width: 100%;\n  animation: "," 0.5s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n"],["\n  height: 12px;\n  background-color: ",";\n  width: 100%;\n  animation: "," 0.5s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n"])),function(e){return e.color},Gn),Vn=E.d.div.withConfig({displayName:"HoverSortingContainer"})(pn||(pn=In(["\n  justify-self: ",";\n  align-self: ",";\n  font-size: 1rem;\n  height: 30px;\n  display: flex;\n  color: ",";\n  align-items: center;\n  width: auto;\n  max-width: 100%;\n"],["\n  justify-self: ",";\n  align-self: ",";\n  font-size: 1rem;\n  height: 30px;\n  display: flex;\n  color: ",";\n  align-items: center;\n  width: auto;\n  max-width: 100%;\n"])),function(e){return e.position||"center"},function(e){return e.alignBottom?"end":"center"},function(e){return e.theme.baseBlue.a6}),Qn=E.d.div.withConfig({displayName:"HoverSortingContentBox"})(dn||(dn=In(["\n  min-height: 60px;\n  overflow-y: auto;\n  font-weight: 200;\n  margin: -12px -16px;\n  border-radius: 4px;\n  position: relative;\n  z-index: 9;\n"],["\n  min-height: 60px;\n  overflow-y: auto;\n  font-weight: 200;\n  margin: -12px -16px;\n  border-radius: 4px;\n  position: relative;\n  z-index: 9;\n"]))),Yn=function(e){var t=e.selection.rating/e.ratingCount,n=t&&t>0?100*t:4/3;return c.a.createElement(Ln,{clickable:0!==e.selection.rating,onClick:function(){e.selection.rating>0&&e.handleClick(e.selection.distKey.toString())}},c.a.createElement(Mn,null,e.selection.text),c.a.createElement(Dn,null,c.a.createElement(Bn,null,c.a.createElement(zn,{filled:n},c.a.createElement(Wn,{color:e.barColor})))),c.a.createElement(Fn,null,e.selection.rating))},Zn=c.a.memo(function(e){var t=Ge.f[e.selections.length];return c.a.createElement(qn,null,e.selections.map(function(n,r){return c.a.createElement(Yn,{key:n.text,barColor:e.barColor||t[r],handleClick:e.handleClick,selection:n,ratingCount:e.ratingCount})}))}),Jn=function(e){var t=e.t,n=e.handleAllClick,r=e.allTxtKey;return c.a.createElement(An,null,c.a.createElement(Un,{"data-translation":r||"x.reports.questions.rating.sorting.selector.all",onClick:n},t(r||"x.reports.questions.rating.sorting.selector.all")))},Xn=function(e){return c.a.createElement(Nn,null,c.a.createElement(Kn,{onClick:function(){e.onAction("1",!0)},"data-translation":e.translation.key},e.translation.txt," (",e.count||"",")"))},$n=Object(h.d)()(function(e){var t=Object(l.useState)(!1),n=t[0],r=t[1],a=Object(l.useRef)(null),i=Object(En.a)(a),s=i.addEventListener,o=i.removeEventListener,u=i.checkHeight,p=i.boxTopPosition,d=Object(l.useMemo)(function(){return e.selections.reduce(function(e,t){return e+t.rating},0)},[e.selections]);Object(l.useEffect)(function(){return n&&(s(),u()),function(){o()}},[n]);var m,f=function(){r(function(e){return!e})},b=c.a.createElement(Qn,{style:{maxHeight:"calc(100vh - "+(p||"100")+"px)"}},c.a.createElement(Pn,null,c.a.createElement(Rn,null,e.header),c.a.createElement(qn,null,c.a.createElement(Zn,{barColor:e.barColor,selections:e.selections,ratingCount:d,handleClick:function(t){f(),e.selectSorting(t)}})),c.a.createElement(Hn,null,c.a.createElement(Jn,{allTxtKey:e.allTxtKey,handleAllClick:function(){f(),e.clickAll()},t:e.t}),e.secondCount&&e.secondTxtKey?c.a.createElement(Xn,{count:e.secondCount,onAction:function(t,n){f(),e.secondClick&&e.secondClick(t,n)},translation:{key:e.secondTxtKey,txt:e.t(e.secondTxtKey)}}):null)));return c.a.createElement(Vn,{ref:a},c.a.createElement(w.a,{trigger:"click",visible:!!n,onVisibleChange:f,content:b,placement:"bottom"},c.a.createElement(Cn,{t:e.t,clickTrigger:f,labelTextKey:e.labelTextKey,triggerTextKey:(m=e.selections.find(function(t){return t.distKey===e.selectedSelection}),m?m.text:e.selectedSelection?e.selectedSelection.toString():e.allTxtKey||"x.reports.questions.rating.sorting.selector.all")})))}),er=function(e,t,n){switch(t.visualization){case g.b.Stars:return n("x.reports.rating_filter.stars.label",{count:(e-1)/2+1});case g.b.Nps:return e.toString();case g.b.Labels:return Object(wn.c)(t.labels[e]);default:return"UNKNOWN"}},tr=c.a.memo(function(e){var t=function(t){if(e.scale.visualization===g.b.Stars){if(0===t)return!1;if(e.fullStars&&t%2==0)return!1}return!0},n=Object.keys(e.distribution).reduce(function(n,r,a){return t(a)&&n.unshift({text:er(a,e.scale,e.t),rating:e.distribution[r],distKey:r}),n},[]);return c.a.createElement($n,{header:e.header,selections:n,labelTextKey:e.labelTextKey,selectSorting:e.selectSorting,clickAll:function(){return e.selectSorting(null)},selectedSelection:e.selectedSorting||void 0,secondClick:e.secondClick,secondCount:e.secondCount,secondTxtKey:e.secondTxtKey})}),nr=Object(u.b)(function(e,t){return{isAdmin:Object(Ht.d)(e),listLoading:Object(vt.i)(t.subjectType,e.reportsManagement),scales:e.scales.byId}})(function(e){var t=Object(h.c)()[0],n=Object(l.useMemo)(function(){return e.filters.filterRating?e.filters.filterRating:e.filters.filterWithComments?"x.reports.questions.rating.sorting.selector.with_comments":void 0},[e.filters.filterRating,e.filters.filterWithComments]),r=Object(l.useMemo)(function(){return c.a.createElement("span",{"data-translation":"x.reports.questions.rating_selector.label"},t("x.reports.questions.rating_selector.label",{count:e.answersObject.number_of_answers}))},[e.answersObject.number_of_answers]),a=e.subjectType,i=e.subject,s=e.pagination,o=e.answersObject,u=a===_.a.Survey?"survey":"news";return c.a.createElement(Ot,null,o&&o.answer_list!==[]?c.a.createElement(c.a.Fragment,null,c.a.createElement(St,null,s&&c.a.createElement(It.default,{t:t,pagination:s,onePageKey:"x.reports.company_profile.subtitle.answers.length",multyPageKey:"x.reports.company_profile.subtitle.answers.amount_from_to"}),c.a.createElement(kt,null,c.a.createElement(Tt,null,c.a.createElement(tr,{fullStars:!0,scale:e.scale,distribution:e.answersObject.rating_distribution,t:t,header:r,labelTextKey:"x.reports.questions.rating.sorting.label.answers",selectedSorting:n,selectSorting:function(t){e.changeBarFilter(t,null)},secondClick:function(t){e.changeBarFilter(null,t)},secondCount:e.answersObject.total_number_of_answers_with_comments,secondTxtKey:"x.reports.questions.rating.sorting.selector.with_comments"})),c.a.createElement(Tt,null,c.a.createElement(Y.a,{sortingOptions:[{name:q.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.latest"},{name:q.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.oldest"},{name:q.b.Rating_desc,translationKey:"x.reports.topics.sorting.most_rating"},{name:q.b.Rating_asc,translationKey:"x.reports.topics.sorting.least_rating"}],selectedSorting:e.filters.sort,sortList:e.changeSorting,selectorWithLabel:!0})))),c.a.createElement("div",null,e.listLoading?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(xt.a,null,Object.values(o.answer_list).map(function(n){return c.a.createElement(Kt.default,{t:t,key:n.id,answer:n,scale:e.scales[n.scale_version_id],isAdmin:e.isAdmin,withBorder:!0})})),s&&c.a.createElement(ht.default,{t:t,totalItems:s.total,pageSize:s.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:e.history,location:e.location,defaultCurrPage:s.page}))):c.a.createElement(Ut,{message:{txt:t("x.reports.company_profile."+u+".empty.message"),key:"x.reports.company_profile."+u+".empty.message"},buttonMessage:{txt:t("x.reports.company_profile."+u+".empty.button"),key:"x.reports.company_profile."+u+".empty.button"},link:a===_.a.Survey?"/content/surveys/"+i.id:"/questions"}))}),rr=Object(p.g)(nr),ar=function(){return(ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ir=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},sr=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},or={page:"1",filterRating:null,filterWithComments:null,sort:q.b.DefaultString_asc};var lr,cr,ur,pr,dr,mr=Object(p.g)(function(e){var t=Object(l.useState)(or),n=t[0],r=t[1],a=Object(l.useState)(!0),i=a[0],s=a[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",0);var t=yt.a.parse(e.location.search),n={page:t.page||"1",filterRating:t.filterRating||null,sort:t.sort||q.b.LastAnswered_desc,filterWithComments:t.filterWithComments||null};r(n),u(n).then(function(){s(!1)})},[]);var o=Object(l.useMemo)(function(){return Object(Z.c)(e.scale).toString()},[e.scale]),u=function(t){return ir(void 0,void 0,void 0,function(){var n,r;return sr(this,function(a){switch(a.label){case 0:return n=ar({},t,{filterAnsweredRange:e.selectedPeriod}),e.history.replace(Object(O.c)(n)),r=ar({},n,{ordScaleLength:o}),[4,e.fetchAnswerListOfSubject(e.subjectType,r,e.questionId,e.subject,e.sessionUser)];case 1:return a.sent(),[2]}})})};return Object(l.useEffect)(function(){i||u(ar({},n))},[e.selectedPeriod]),c.a.createElement("div",null,i?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(rr,{filters:n,changeBarFilter:function(e,t){r(ar({},n,{filterWithComments:t,filterRating:e})),u(ar({},n,{filterRating:e,filterWithComments:t}))},changeSorting:function(e){r(ar({},n,{sort:e})),u(ar({},n,{sort:e}))},changePage:function(e){r(ar({},n,{page:e})),u(ar({},n,{page:e}))},topicId:e.topicId,scale:e.scale,answersObject:e.answersObject,subject:e.subject,subjectType:e.subjectType,pagination:e.pagination}))}),fr=Object(u.b)(function SubjectAnswersList_mapStateToProps(e,t){var n=Object(vt.h)(t.subjectType,e.reportsManagement);return{sessionUserManager:Object.values(e.user.session.user.manager_attributes)[0],answersObject:n.result,pagination:n.pagination,sessionUser:e.user.session.user,selectedPeriod:e.reportsManagement.header.selectedPeriod}},function(e){return{fetchAnswerListOfSubject:function(t,n,r,a,i){return e(Object(vt.b)(t,n,r,a,i))},changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))}}})(mr),br=function(){return(br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},yr=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},hr=Object(p.g)(function(e){var t=Object(l.useState)(!0),n=t[0],r=t[1],a=Object(l.useMemo)(function(){return(new Date).getTime()>jn()(e.company.created_at).add(1,"month").valueOf()?q.a.LastYear:q.a.LastMonth},[e.company]);Object(l.useEffect)(function(){e.changeHeaderLoading(!0),i().then(function(t){t&&(s(t.topic,t.question),e.changeHeaderLoading(!1)),r(!1)})},[]),Object(l.useEffect)(function(){n||(r(!0),i(e.selectedPeriod).then(function(e){e&&s(e.topic,e.question),r(!1)}))},[e.selectedPeriod]);var i=function(t){return void 0===t&&(t=a),gr(void 0,void 0,void 0,function(){var n,r,a;return yr(this,function(i){switch(i.label){case 0:return t?(e.changeSelectedPeriod(t),[4,e.fetchQuestionsSummary(e.match.params.questionId,e.entityType,t,e.entityObj,e.sessionUser)]):[3,2];case 1:return n=i.sent(),r=n.response.data,a={result:r.result||{},scale:e.scales[r.topic.scale_version_id]||{},ratingIndex:0,manager:r.manager||null},e.changeHeaderRating(a),[2,Promise.resolve(r)];case 2:return[2]}})})},s=function(t,n){e.changeRatingVisibility(!0),e.entityType!==_.a.Survey&&(e.changeGraphVisibility(!0),e.changePeriodSelectorVisibility(!0));var r,a,i={id:n.id,name:Object(wn.c)(n.text),type:t.type,description:n.description};u(t,n),e.setHeaderInformation({subject:i,entityType:e.entityType,selectedTabIndex:0,depth:2,subjectType:_.b.Question,entity:e.entityObj,tabs:(r=t.id,a=n.id,[{name:"ANSWERS",translationKey:"x.company_settings.header.tabs.answers",link:"/topics/detail/"+r+"/questions/detail/"+a+"/answers"}])})},o=Object(l.useMemo)(function(){return e.answersSummary?e.scales[e.answersSummary.topic.scale_version_id]:null},[e.scales,e.answersSummary]),u=function(t,n){var r=e.entityObj,a=e.entityType,i=[_.a.Survey,_.a.Group,_.a.User].includes(a)?r.id+"/":"",s=[{name:r.name,link:"/reports/"+a+"/profile/"+i+"topics"},{name:t?Object(wn.c)(t.name):"",link:"/reports/"+a+"/profile/"+i+"topics/detail/"+(t?t.id:void 0)},{name:n?Object(wn.c)(n.text):"",link:""+e.match.url}];a===_.a.Survey&&("admin"!==e.entityObj.surveyScope&&e.sessionUser?s.unshift({name:e.t("x.reports.survey_profile.my-request-link"),link:"/reports/user/profile/"+e.sessionUser.uuid+"/list/my-requests"}):s.unshift({name:e.t("x.reports.survey_profile.manage_survey_link"),link:qt.a.contentSurveys.surveys})),e.overwriteBreadCrumbLinks(s)},m=Object(l.useCallback)(function(){return c.a.createElement(p.a,{to:e.match.url+"/answers"})},[e.match.url]),f=Object(l.useCallback)(function(){return o?c.a.createElement(fr,{scale:o,questionId:e.match.params.questionId,topicId:e.topicId,subject:e.entityObj,subjectType:e.entityType}):null},[e.match.params.questionId,o,e.topicId,e.entityObj,e.entityType]);return c.a.createElement(c.a.Fragment,null,n?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,path:e.match.url,component:m}),c.a.createElement(p.b,{exact:!0,strict:!0,path:e.match.url+"/answers",render:f}),c.a.createElement(d.a,br({},e))))}),xr=Object(u.b)(function(e){return{selectedPeriod:e.reportsManagement.header.selectedPeriod,scales:e.scales.byId,company:e.user.session.company,answersSummary:e.reportsManagement.header.summaries.answer,sessionUser:e.user.session.user}},function(e){return{changeHeaderRating:function(t){return e(ve(t))},changeHeaderLoading:function(t){return e(_e(t))},fetchQuestionsSummary:function(t,n,r,a,i){return e(ke(t,n,r,a,i))},changeSelectedPeriod:function(t){return e(je(t))},changeRatingVisibility:function(t){return e(ye(t))},changeGraphVisibility:function(t){return e(he(t))},changePeriodSelectorVisibility:function(t){return e(xe(t))},setHeaderInformation:function(t){return e(be(t))},overwriteBreadCrumbLinks:function(t){return e(ge(t))}}})(hr),vr=n("./src/shared/lists/listItem/ListItem.tsx"),jr=n("./src/shared/UrlText.tsx"),_r=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},wr=E.d.div.withConfig({displayName:"ListItemWrapper"})(lr||(lr=_r(["\n  h3 {\n    font-size: 1rem;\n  }\n"],["\n  h3 {\n    font-size: 1rem;\n  }\n"]))),Er=E.d.div.withConfig({displayName:"RatingContainer"})(cr||(cr=_r(["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n  min-width: 230px;\n"],["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n  min-width: 230px;\n"])),function(e){return e.theme.black.a1}),Or=E.d.span.withConfig({displayName:"NoAnswersMessage"})(ur||(ur=_r(["\n  color: ",";\n"],["\n  color: ",";\n"])),function(e){return e.theme.baseBlue.a6}),Sr=function(e){var t=e.t,n=e.question,r=e.scale,a=e.labelIndex;return c.a.createElement(Er,null,n.last_answered_at&&r&&null!==a?c.a.createElement(pe.default,{rating:a,type:r.visualization,labelIndex:a,labels:r.labels?r.labels:[],maxRating:Object(Z.d)(r),labelColor:Ge.b.a6}):c.a.createElement(Or,{"data-translation":"x.reports.topics.topic_item.info.no_answer.message"},t("x.reports.topics.topic_item.info.no_answer.message")))},kr=c.a.memo(function(e){var t=e.t,n=e.question,r=e.link,a=[{key:"x.reports.display_scale.information.answers",txt:t("x.reports.display_scale.information.answers",{count:n.rating_count})},{key:"x.reports.display_scale.information.comments",txt:t("x.reports.display_scale.information.comments",{count:n.cards_with_comments})}];n.last_answered_at&&a.push({key:"x.reports.topics.topic_item.info.last_answered",txt:t("x.reports.topics.topic_item.info.last_answered")+" "+jn()(n.last_answered_at).format("ll")});var i="linear-gradient(to right, rgba(255, 255, 255, 0) 60%, "+Ge.i.a10+" 70%,",s={background:i+" "+Ge.b.a10+" 100%)",color:Ge.i.a10,wideBtn:{key:"x.reports.questions.item.label.page_not_available",txt:t("x.reports.questions.item.label.page_not_available"),icon:"iconBubbleQuestionMark"}};return n.last_answered_at&&(s.background=i+" "+Ge.h.medium+" 100%)",s.wideBtn={key:"x.reports.questions.item.label.open_questions",txt:t("x.reports.questions.item.label.open_questions"),icon:"iconArrow",link:r}),c.a.createElement(wr,null,c.a.createElement(vr.default,{title:c.a.createElement(jr.default,{text:Object(wn.c)(n.text)}),itemProps:a,hoverContent:s,rightSection:Sr(e)}))}),Tr=n("./src/services/session.ts"),Cr=Object(u.b)(function(e,t){return{contentLocale:Object(Tr.h)(e),scales:e.scales.byId,listLoading:Object(vt.i)(t.iconSubjectType,e.reportsManagement)}})(function(e){var t,n=Object(h.c)()[0],r=Object(l.useMemo)(function(){return c.a.createElement("span",{"data-translation":"x.reports.questions.rating_selector.label"},n("x.reports.questions.rating_selector.label",{count:e.questionsObject.number_of_questions}))},[e.questionsObject.number_of_questions]),a=Object(l.useMemo)(function(){return e.filters.filterRating?e.filters.filterRating:e.filters.filterNoAnswers?"x.reports.questions.rating.sorting.selector.no_answers":null},[e.filters.filterRating,e.filters.filterNoAnswers]),i=function(t){return null===t.last_answered_at?""+e.match.url+e.location.search:e.match.url.replace("/list","")+"/detail/"+t.id},s=e.pagination,o=e.history,u=e.location,p=e.subjectType,d=e.questionsObject,m=e.subject,f=p===_.a.Survey?"survey":"news";return c.a.createElement(Ot,null,Object.keys(d.question_list).length<1?c.a.createElement(Ut,{message:{txt:n("x.reports.company_profile."+f+".empty.message"),key:"x.reports.company_profile."+f+".empty.message"},buttonMessage:{txt:n("x.reports.company_profile."+f+".empty.button"),key:"x.reports.company_profile."+f+".empty.button"},link:p===_.a.Survey?"/content/surveys/"+m.id:"/questions"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(St,null,s&&c.a.createElement(It.default,{t:n,pagination:s,onePageKey:"x.reports.company_profile.subtitle.questions.length",multyPageKey:"x.reports.company_profile.subtitle.questions.amount_from_to"}),c.a.createElement(kt,null,c.a.createElement(Tt,null,c.a.createElement(tr,{scale:e.scale,distribution:e.questionsObject.rating_distribution,t:n,header:r,labelTextKey:"x.reports.questions.rating.sorting.label",selectedSorting:a,selectSorting:function(t){e.changeBarFilter(t,null)},secondClick:function(t){e.changeBarFilter(null,t)},secondCount:e.questionsObject.total_number_of_questions_without_ratings,secondTxtKey:"x.reports.questions.rating.sorting.selector.no_answers"})),c.a.createElement(Tt,null,c.a.createElement(Y.a,{sortingOptions:(t=e.contentLocale,[{name:q.b.DefaultString_asc,translationKey:"x.reports.topics.sorting.default"},{name:q.b.Rating_desc,translationKey:"x.reports.topics.sorting.most_rating"},{name:q.b.Rating_asc,translationKey:"x.reports.topics.sorting.least_rating"},{name:q.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.last_updated"},{name:q.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.least_updated"},{name:q.b.Answered_desc,translationKey:"x.reports.topics.sorting.most_answered"},{name:q.b.Answered_asc,translationKey:"x.reports.topics.sorting.least_answered"},{name:q.b.QuestionText_asc+"."+t,translationKey:"x.reports.topics.sorting.AtoZ"},{name:q.b.QuestionText_desc+"."+t,translationKey:"x.reports.topics.sorting.ZtoA"}]),selectedSorting:e.filters.sort,sortList:function(t){e.changeSorting(t)},selectorWithLabel:!0})))),c.a.createElement("div",null),e.listLoading?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(xt.a,null,Object.values(e.questionsObject.question_list).map(function(t){return c.a.createElement(kr,{key:t.id,t:n,scale:(r=t,r.scale_version_id?e.scales[r.scale_version_id]:null),question:t,labelIndex:t.scale_id?Object(Z.a)(t.avg_rating_ord,e.scale):null,link:i(t)});var r})),s&&c.a.createElement(ht.default,{t:n,totalItems:s.total,pageSize:s.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:o,location:u,defaultCurrPage:s.page})))}),Ir=Object(p.g)(Cr),Pr=function(){return(Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Rr=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Lr=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Mr={page:"1",filterRating:null,filterNoAnswers:null,sort:q.b.DefaultString_asc},Ar=Object(p.g)(function(e){var t=Object(l.useState)(Mr),n=t[0],r=t[1],a=Object(l.useState)(!0),i=a[0],s=a[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",0);var t=yt.a.parse(e.location.search),n={page:t.page||"1",filterRating:t.filterRating||null,sort:t.sort||q.b.DefaultString_asc,filterNoAnswers:t.filterNoAnswers||null};r(n),p(n).then(function(){s(!1)})},[]);var o=Object(l.useMemo)(function(){return e.scale?Object(Z.c)(e.scale).toString():null},[e.scale]),u=function(e){r(e),p(Pr({},e))};Object(l.useEffect)(function(){i||p(Pr({},n))},[e.selectedPeriod]);var p=function(t){return Rr(void 0,void 0,void 0,function(){var n,r;return Lr(this,function(a){switch(a.label){case 0:return n=Pr({},t,{filterAnsweredRange:e.selectedPeriod}),e.history.replace(Object(O.c)(n)),r=Pr({},n,{ordScaleLength:o}),e.sessionUser?[4,e.fetchQuestionListOfSubject(e.subjectType,r,e.topicId,e.subject,e.sessionUser)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};return c.a.createElement(_t,null,i||!e.questionsObject?c.a.createElement(wt,null,c.a.createElement(b.default,null)):e.scale&&e.pagination&&e.questionsObject&&c.a.createElement(Ir,{filters:n,changeBarFilter:function(e,t){u(Pr({},n,{filterRating:e,filterNoAnswers:t}))},changeSorting:function(e){u(Pr({},n,{sort:e}))},changePage:function(e){u(Pr({},n,{page:e}))},subject:e.subject,subjectType:e.subjectType,iconSubjectType:e.subjectType,scale:e.scale,questionsObject:e.questionsObject,pagination:e.pagination}))}),Nr=Object(u.b)(function(e,t){var n=Object(vt.l)(t.subjectType,e.reportsManagement);return{selectedPeriod:e.reportsManagement.header.selectedPeriod,questionsObject:n.result,pagination:n.pagination,sessionUser:e.user.session.user}},function(e){return{fetchQuestionListOfSubject:function(t,n,r,a,i){return e(Object(vt.e)(t,n,r,a,i))},changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))}}})(Ar),Ur=n("./src/styles/animations/index.ts"),Kr=n("./src/interfaces/topic.interface.ts"),qr=[{id:"all",labelKey:"x.reports.topic_list.sorting.all",itemsAmount:0},{id:Kr.a.People,labelKey:"x.reports.topic_list.sorting.people",iconName:"iconPeople",itemsAmount:0},{id:Kr.a.General,labelKey:"x.reports.topic_list.sorting.general",iconName:"iconPulse",itemsAmount:0},{id:Kr.a.Groups,labelKey:"x.reports.topic_list.sorting.groups",iconName:"iconGroups",itemsAmount:0}],Hr="x.reports.participants.selector.",Br=[Hr+"completed",Hr+"90",Hr+"80",Hr+"70",Hr+"60",Hr+"50",Hr+"40",Hr+"30",Hr+"20",Hr+"10",Hr+"0",Hr+"not_started"],Dr=Br.slice().reverse();!function(e){e.FarAbove="far_above",e.Above="above",e.Average="average",e.Below="below",e.FarBelow="far_below"}(dr||(dr={}));var Fr,Gr,zr,Wr,Vr,Qr,Yr,Zr,Jr,Xr=((pr={})[dr.FarAbove]="x.reports.improve.selector.far_above_average",pr[dr.Above]="x.reports.improve.selector.above_average",pr[dr.Average]="x.reports.improve.selector.average",pr[dr.Below]="x.reports.improve.selector.below_average",pr[dr.FarBelow]="x.reports.improve.selector.far_below_average",pr),$r=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ea=E.d.div.withConfig({displayName:"ImproveItemContainer"})(Fr||(Fr=$r(["\n  display: flex;\n  padding: 15px 0;\n  font-size: 15px;\n  line-height: 1.73;\n  color: ",";\n  border-bottom: 1px solid ",";\n  &:first-child {\n    border-top: 1px solid ",";\n  }\n"],["\n  display: flex;\n  padding: 15px 0;\n  font-size: 15px;\n  line-height: 1.73;\n  color: ",";\n  border-bottom: 1px solid ",";\n  &:first-child {\n    border-top: 1px solid ",";\n  }\n"])),function(e){return e.theme.baseBlue.a10},function(e){return e.theme.black.a1},function(e){return e.theme.black.a1}),ta=E.d.div.withConfig({displayName:"ImproveTextWrapper"})(Gr||(Gr=$r(["\n  margin-left: 15px;\n  flex: 1;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n"],["\n  margin-left: 15px;\n  flex: 1;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n"])),function(e){return e.theme.white.a10}),na=E.d.div.withConfig({displayName:"ImproveQuestionWrapper"})(zr||(zr=$r(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1;\n  margin-right: 15px;\n  > a {\n    width: 100%;\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1;\n  margin-right: 15px;\n  > a {\n    width: 100%;\n  }\n"]))),ra=E.d.div.withConfig({displayName:"ImproveScaleWrapper"})(Wr||(Wr=$r(["\n  padding: 15px 0;\n"],["\n  padding: 15px 0;\n"]))),aa=E.d.div.withConfig({displayName:"ImproveTitle"})(Vr||(Vr=$r(["\n  font-weight: 600;\n"],["\n  font-weight: 600;\n"]))),ia=E.d.span.withConfig({displayName:"ImproveQuestionTitle"})(Qr||(Qr=$r(["\n  cursor: pointer;\n  font-weight: 600;\n  color: ",";\n  > span > a {\n    color: ",";\n    text-decoration: none;\n    &:hover {\n      opacity: 1;\n    }\n  }\n"],["\n  cursor: pointer;\n  font-weight: 600;\n  color: ",";\n  > span > a {\n    color: ",";\n    text-decoration: none;\n    &:hover {\n      opacity: 1;\n    }\n  }\n"])),function(e){return e.theme.baseBlue.a10},function(e){return e.theme.baseBlue.a10}),sa=c.a.memo(function(e){var t=Object(l.useContext)(Di).isManagedBySessionUser,n=[{key:"x.reports.display_scale.information.answers",txt:e.t("x.reports.display_scale.information.answers",{count:e.improve.rating_count})},{key:"x.reports.display_scale.information.comments",txt:e.t("x.reports.display_scale.information.comments",{count:e.improve.cards_with_comments})}];e.improve.last_answered_at&&n.push({key:"x.reports.topics.topic_item.info.last_answered",txt:e.t("x.reports.topics.topic_item.info.last_answered")+" "+jn()(e.improve.last_answered_at).format("ll")});var r=t?e.improve.how_to_improve:e.improve.how_to_improve_self,a=e.t("x.reports.improve.list.improve.empty");return r&&Object(wn.c)(r).length>1&&(a=Object(wn.c)(r)),c.a.createElement(ea,null,c.a.createElement(na,null,c.a.createElement(ra,null,c.a.createElement(pe.default,{labelIndex:e.labelIndex||0,type:e.scale.visualization,labels:e.scale.labels,maxRating:Object(Z.d)(e.scale),rating:e.improve.avg_rating_ord,labelColor:Ge.b.a6})),c.a.createElement(Pt.b,{to:e.link},c.a.createElement(ia,null,c.a.createElement(jr.default,{text:Object(wn.c)(e.improve.text)}))),c.a.createElement(vr.ListItemPropsDisplay,{itemProps:n})),c.a.createElement(ta,null,c.a.createElement(aa,{"data-translation":"x.reports.improve.list.improve.label"},e.t("x.reports.improve.list.improve.label")),c.a.createElement("div",null,c.a.createElement(jr.default,{blocked:!0,noStyle:!0,text:a}))))}),oa=Object(u.b)(function(e,t){return{contentLocale:Object(Tr.h)(e),scales:e.scales.byId,listLoading:Object(vt.i)(t.iconSubjectType,e.reportsManagement)}})(function(e){var t,n=Object(h.c)()[0],r=Object(l.useMemo)(function(){return c.a.createElement("span",{"data-translation":"x.reports.questions.rating_selector.label"},n("x.reports.questions.rating_selector.label",{count:e.improveObject.number_of_questions}))},[e.improveObject.number_of_questions]),a=Object(l.useMemo)(function(){if(e.filters.filterBenchmark)return Xr[e.filters.filterBenchmark]},[e.filters]),i=Object(l.useMemo)(function(){return Object.keys(Xr).reduce(function(t,r){return t.push({text:n(Xr[r]),rating:e.improveObject.benchmark_distribution[r],distKey:r}),t},[])},[e.improveObject.benchmark_distribution]),s=Object(l.useCallback)(function(t){return e.match.url.replace("improve","questions").replace("/list","")+"/detail/"+t.id},[e.match.url]),o=e.pagination,u=e.history,p=e.location,d=e.subjectType,m=e.improveObject,f=e.subject,g=d===_.a.Survey?"survey":"news";return c.a.createElement(Ot,null,!m||Object.keys(m.question_list).length<1?c.a.createElement(Ut,{message:{txt:n("x.reports.company_profile."+g+".empty.message"),key:"x.reports.company_profile."+g+".empty.message"},buttonMessage:{txt:n("x.reports.company_profile."+g+".empty.button"),key:"x.reports.company_profile."+g+".empty.button"},link:d===_.a.Survey?"/content/surveys/"+f.id:"/questions"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(St,null,o&&c.a.createElement(It.default,{t:n,pagination:o,onePageKey:"x.reports.company_profile.subtitle.questions.length",multyPageKey:"x.reports.company_profile.question.amount.multi"}),c.a.createElement(kt,null,c.a.createElement(Tt,null,c.a.createElement($n,{clickAll:function(){e.changeFilterBenchmark(null)},selections:i,header:r,labelTextKey:"x.reports.questions.improve.benchmark.label",selectedSelection:a,selectSorting:function(t){e.changeFilterBenchmark(t)},allTxtKey:"x.reports.improve.bar_selector.all"})),c.a.createElement(Tt,null,c.a.createElement(tr,{t:n,scale:e.scale,distribution:e.improveObject.rating_distribution,header:r,labelTextKey:"x.reports.questions.rating.sorting.label",selectedSorting:e.filters.filterRating,selectSorting:function(t){e.changeFilterRating(t)}})),c.a.createElement(Tt,null,c.a.createElement(Y.a,{sortingOptions:(t=e.contentLocale,[{name:q.b.Rating_desc,translationKey:"x.reports.topics.sorting.most_rating"},{name:q.b.Rating_asc,translationKey:"x.reports.topics.sorting.least_rating"},{name:q.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.last_updated"},{name:q.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.least_updated"},{name:q.b.Answered_desc,translationKey:"x.reports.topics.sorting.most_answered"},{name:q.b.Answered_asc,translationKey:"x.reports.topics.sorting.least_answered"},{name:q.b.QuestionText_asc+"."+t,translationKey:"x.reports.topics.sorting.AtoZ"},{name:q.b.QuestionText_desc+"."+t,translationKey:"x.reports.topics.sorting.ZtoA"}]),selectedSorting:e.filters.sort,sortList:function(t){e.changeSorting(t)},selectorWithLabel:!0})))),c.a.createElement("div",null),e.listLoading?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(Ur.a,null,Object.values(e.improveObject.question_list).map(function(t){return c.a.createElement(sa,{key:t.id,t:n,scale:e.scales[t.scale_version_id],improve:t,labelIndex:t.scale_id?Object(Z.a)(t.avg_rating_ord,e.scale):null,link:s(t)})})),o&&c.a.createElement(ht.default,{t:n,totalItems:o.total,pageSize:o.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:u,location:p,defaultCurrPage:o.page})))}),la=Object(p.g)(oa),ca=function(){return(ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ua=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},pa=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},da={page:"1",filterRating:null,filterBenchmark:null,sort:q.b.DefaultString_asc},ma=Object(p.g)(function(e){var t=Object(l.useState)(da),n=t[0],r=t[1],a=Object(l.useState)(!0),i=a[0],s=a[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",1);var t=yt.a.parse(e.location.search),n={page:t.page||"1",sort:t.sort||q.b.Rating_asc,filterRating:t.filterRating||null,filterBenchmark:t.filterBenchmark||null};r(n),p(n).then(function(){s(!1)})},[]);var o=Object(l.useMemo)(function(){return e.scale?Object(Z.c)(e.scale).toString():null},[e.scale]),u=function(e){r(e),p(ca({},e))},p=function(t){return ua(void 0,void 0,void 0,function(){var n,r;return pa(this,function(a){switch(a.label){case 0:return n=ca({},t,{filterAnsweredRange:e.selectedPeriod}),e.history.replace(Object(O.c)(n)),r=ca({},n,{ordScaleLength:o}),[4,e.fetchQuestionsImproveListOfSubject(e.subjectType,r,e.topicId,e.subject.id)];case 1:return a.sent(),[2]}})})};return Object(l.useEffect)(function(){i||p(ca({},n))},[e.selectedPeriod]),c.a.createElement(_t,null,i?c.a.createElement(b.default,{marginTop:60}):e.scale&&e.improveObject&&e.pagination&&c.a.createElement(la,{filters:n,changeFilterRating:function(e){u(ca({},n,{filterRating:e}))},changeFilterBenchmark:function(e){void 0===e&&(e=null),u(ca({},n,{filterBenchmark:e}))},changeSorting:function(e){u(ca({},n,{sort:e}))},changePage:function(e){u(ca({},n,{page:e}))},subject:e.subject,subjectType:e.subjectType,iconSubjectType:e.subjectType,scale:e.scale,improveObject:e.improveObject,pagination:e.pagination}))}),fa=Object(u.b)(function(e,t){var n=t.subjectType,r=Object(vt.k)(n,e.reportsManagement);return{selectedPeriod:e.reportsManagement.header.selectedPeriod,improveObject:r.result,pagination:r.pagination,company:e.user.session.company}},function(e){return{fetchQuestionsImproveListOfSubject:function(t,n,r,a){return e(Object(vt.f)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))}}})(ma),ba=function(){return(ba=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ga=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},ya=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ha=Object(u.b)(function(e){return{selectedPeriod:e.reportsManagement.header.selectedPeriod,sessionUserManager:Object.values(e.user.session.user.manager_attributes)[0],scales:e.scales.byId,company:e.user.session.company,questionsSummary:e.reportsManagement.header.summaries.question,sessionUser:e.user.session.user}},function(e){return{changeHeaderLoading:function(t){return e(_e(t))},fetchTopicsSummary:function(t,n,r,a,i){return e(Se(t,n,r,a,i))},changeHeaderRating:function(t){return e(ve(t))},changeRatingVisibility:function(t){return e(ye(t))},changeGraphVisibility:function(t){return e(he(t))},changePeriodSelectorVisibility:function(t){return e(xe(t))},overwriteBreadCrumbLinks:function(t){return e(ge(t))},setHeaderInformation:function(t){return e(be(t))},changeSelectedPeriod:function(t){return e(je(t))}}})(function(e){var t=Object(h.c)()[0],n=Object(l.useState)(!0),r=n[0],a=n[1];Object(l.useEffect)(function(){e.changeHeaderLoading(!0),s().then(function(t){t&&(m(t.topic),e.changeHeaderLoading(!1)),a(!1)})},[]),Object(l.useEffect)(function(){r||(a(!0),s(e.selectedPeriod).then(function(e){e&&m(e.topic),a(!1)}))},[e.selectedPeriod]);var i=Object(l.useMemo)(function(){var t=yt.a.parse(e.location.search);return t.filterAnsweredRange?t.filterAnsweredRange:e.company&&(new Date).getTime()>jn()(e.company.created_at).add(1,"month").valueOf()?q.a.LastYear:q.a.LastMonth},[e.company,e.location.search]),s=function(t){return void 0===t&&(t=i),ga(void 0,void 0,void 0,function(){var n,r,a;return ya(this,function(i){switch(i.label){case 0:return t?(e.changeSelectedPeriod(t),[4,e.fetchTopicsSummary(e.topicId,e.entityType,t,e.entityObj,e.sessionUser)]):[3,2];case 1:return n=i.sent(),r=n.response.data,a={result:r.result||{},scale:e.scales[r.topic.scale_version_id]||{},ratingIndex:0,manager:r.manager||null},e.changeHeaderRating(a),[2,Promise.resolve(r)];case 2:return[2]}})})},o=function(n){return e.sessionUserManager&&n.private&&n.created_by===e.sessionUserManager.uuid?t("x.reports.topic.list.custom_topic.user.name",{userName:e.sessionUserManager.firstname+" "+e.sessionUserManager.lastname}):null},u=Object(l.useMemo)(function(){return e.questionsSummary?e.scales[e.questionsSummary.topic.scale_version_id]:null},[e.scales,e.questionsSummary]),m=function(t){e.changeRatingVisibility(!0),e.entityType!==_.a.Survey&&(e.changeGraphVisibility(!0),e.changePeriodSelectorVisibility(!0));var n=o(t)||Object(wn.c)(t.name),r={id:t.id,name:n,type:t.type,description:t.description};f(n),e.setHeaderInformation({subject:r,entityType:e.entityType,selectedTabIndex:0,depth:1,subjectType:_.b.Question,entity:e.entityObj,tabs:dt(e.entityType,t,e.entityObj)})},f=function(n){var r=[_.a.Survey,_.a.Group,_.a.User].includes(e.entityType)?e.entityObj.id+"/":"",a=e.topicId,i=[{name:e.entityObj.name,link:"/reports/"+e.entityType+"/profile/"+r+"topics"},{name:n||"UNKNOWN",link:"/reports/"+e.entityType+"/profile/"+r+"topics/detail/"+a+"/list/questions"}];e.entityType===_.a.Survey&&("admin"!==e.entityObj.surveyScope&&e.sessionUser?i.unshift({name:t("x.reports.survey_profile.my-request-link"),link:"/reports/user/profile/"+e.sessionUser.uuid+"/list/my-requests"}):i.unshift({name:t("x.reports.survey_profile.manage_survey_link"),link:qt.a.contentSurveys.surveys})),e.overwriteBreadCrumbLinks(i)},g=Object(l.useCallback)(function(){return c.a.createElement(p.a,{to:e.match.url+"/questions"})},[e.match.url]),y=Object(l.useCallback)(function(){return c.a.createElement(Nr,{scale:u,subjectType:e.entityType,subject:e.entityObj,topicId:e.topicId})},[u,e.entityType,e.entityObj,e.topicId]),x=Object(l.useCallback)(function(){return c.a.createElement(fa,{scale:u,subject:e.entityObj,subjectType:e.entityType,topicId:e.topicId})},[u,e.entityType,e.entityObj,e.topicId]);return c.a.createElement(c.a.Fragment,null,r?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,strict:!0,path:e.match.url,component:g}),c.a.createElement(p.b,{exact:!0,strict:!0,path:e.match.url+"/questions",render:y}),e.entityType!==_.a.Survey&&c.a.createElement(p.b,{exact:!0,strict:!0,path:e.match.url+"/improve",render:x}),c.a.createElement(d.a,ba({},e))))}),xa=Object(p.g)(ha),va=function(){return(va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ja=Object(p.g)(function(e){var t=Object(h.c)()[0],n=Object(l.useCallback)(function(){return c.a.createElement(p.a,{to:e.match.url+"/list"})},[e.match.url]);Object(l.useEffect)(function(){e.changeEntityLoading(!1)},[]);var r=Object(l.useCallback)(function(){return c.a.createElement(xr,{t:t,entityType:e.entityType,entityObj:e.entityObj,topicId:e.match.params.topicId})},[t,e.entityType,e.entityObj,e.match.params]),a=Object(l.useCallback)(function(){return c.a.createElement(xa,{entityObj:e.entityObj,entityType:e.entityType,topicId:e.match.params.topicId})},[e.entityObj,e.entityType,e.match.params.topicId]);return c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,strict:!0,path:e.match.url,component:n}),c.a.createElement(p.b,{path:e.match.url+"/list",render:a}),c.a.createElement(p.b,{path:e.match.url+"/questions/detail/:questionId("+f.a+")",render:r}),c.a.createElement(d.a,va({},e)))}),_a=Object(u.b)(function(e){return{scales:e.scales.byId,company:e.user.session.company,questionsSummary:e.reportsManagement.header.summaries.question}},function(e){return{changeHeaderRating:function(t){return e(ve(t))},changeEntityLoading:function(t){return e(we(t))}}})(ja),wa=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ea=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Oa=Object(p.g)(function(e){var t=Object(l.useState)(!0),n=t[0],r=t[1],a=Object(l.useState)("news"),i=a[0],s=a[1];Object(l.useEffect)(function(){o()},[]);var o=function(){return wa(void 0,void 0,void 0,function(){var t,n;return Ea(this,function(a){switch(a.label){case 0:return e.sessionUser?[4,e.fetchNewsListOfSubject(e.entityType,e.entityObj,e.sessionUser,{})]:[3,2];case 1:(t=a.sent()).response&&t.response.data&&(n=t.response.data.result.news_list,Object.keys(n).length||s("topics")),r(!1),a.label=2;case 2:return[2]}})})};return n?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(p.a,{to:{pathname:e.match.url+"/list/"+i,state:{isRedirected:!0}}})}),Sa=Object(u.b)(function(e){return{sessionUser:e.user.session.user}},function(e){return{fetchNewsListOfSubject:function(t,n,r,a){return e(Object(vt.c)(t,n,r,a))}}})(Oa),ka=n("./src/services/logger/LlsLogger.js"),Ta=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ca=E.d.div.withConfig({displayName:"RatingContainer"})(Yr||(Yr=Ta(["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n"],["\n  flex: 0 1 225px;\n  border-left: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n"])),function(e){return e.theme.black.a1}),Ia=E.d.span.withConfig({displayName:"NoAnswersMessage"})(Zr||(Zr=Ta(["\n  color: ",";\n"],["\n  color: ",";\n"])),function(e){return e.theme.baseBlue.a6}),Pa=function(e){var t=e.t,n=e.topic,r=e.scale;return c.a.createElement(Ca,null,null!==n.last_answered_at?c.a.createElement(pe.default,{labelIndex:Object(Z.a)(n.avg_rating_ord,r),rating:Object(Z.a)(n.avg_rating_ord,r),type:r.visualization,labels:r.labels?r.labels:[],labelColor:Ge.b.a6,maxRating:Object(Z.d)(r)}):c.a.createElement(Ia,{"data-translation":"x.reports.topics.topic_item.info.no_answer.message"},t("x.reports.topics.topic_item.info.no_answer.message")))},Ra=c.a.memo(function(e){var t=e.t,n=e.topic,r=e.scale,a=e.link,i=e.sessionUserManager,s=[{key:"x.topics.list.details.item."+n.type,txt:t("x.topics.list.details.item."+n.type)},{key:"x.reports.topics.topic_item.info.questions.amount",txt:t("x.reports.topics.topic_item.info.questions.amount",{count:n.number_of_questions})},{key:"x.topics.list.details.item.visualization."+(r?r.visualization:"stars"),txt:t("x.reports.topics.topic_item.info.rating_count",{count:n.rating_count})}];n.last_answered_at&&s.push({key:"x.reports.topics.topic_item.info.last_answered",txt:t("x.reports.topics.topic_item.info.last_answered")+" "+jn()(n.last_answered_at).format("ll")});var o={background:"linear-gradient(to right, rgba(255, 255, 255, 0) 60%, "+Ge.i.a10+" 70%, "+Ge.h.light+" 100%)",color:Ge.i.a10,wideBtn:{key:"x.reports.topics.topic_item.info.open.message",txt:t("x.reports.topics.topic_item.info.open.message"),icon:"iconArrow",link:a}},u=Object(l.useMemo)(function(){return i&&n.private&&n.created_by===i.uuid?t("x.reports.topic.list.custom_topic.user.name",{userName:i.firstname+" "+i.lastname}):null},[i,n]);return c.a.createElement(vr.default,{title:u||Object(wn.c)(n.name),itemProps:s,hoverContent:o,rightSection:Pa(e)})}),La=n("./src/shared/lists/listFilters/ListFilters.tsx"),Ma=function(){return(Ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e.All="all",e.General="general",e.People="people",e.Groups="groups"}(Jr||(Jr={}));var Aa,Na,Ua,Ka,qa,Ha=Object(h.d)()(function(e){var t,n=Object(l.useMemo)(function(){return qr.map(function(t,n){var r,a,i=t.id,s=e.subjectIsMe?".me":"";return 0!==n&&(a="x.reports.topics.filter.hover."+e.entityType+s+"."+i,r=i&&e.topicsObject?e.topicsObject.topics_distribution[i]:0),Ma({},t,{itemsAmount:r,disabled:!r&&0!==n,tooltipKey:a})})},[e.topicsObject,e.entityType,e.subjectIsMe]),r=e.t,a=e.topicsObject,i=e.entity,s=e.entityType,o=e.pagination,u=e.history,p=e.location,d=s===_.a.Survey?"survey":"news";return c.a.createElement(Ot,null,!a||Object.keys(a.topic_list).length<1?c.a.createElement(Ut,{message:{txt:r("x.reports.company_profile."+d+".empty.message"),key:"x.reports.company_profile."+d+".empty.message"},buttonMessage:{txt:r("x.reports.company_profile."+d+".empty.button"),key:"x.reports.company_profile."+d+".empty.button"},link:s===_.a.Survey?"/content/surveys/"+i.id:"/questions"}):c.a.createElement(c.a.Fragment,null,s!==_.a.Survey&&c.a.createElement(La.default,{t:r,filterOptions:n,doFilter:function(t){var r=n[t].id;r===Jr.All&&(r=null),e.filters.filterSubject!==r&&e.changeFilter(r)},subjectName:i.name,initialFilter:e.filters.filterSubject}),c.a.createElement(St,null,o&&c.a.createElement(It.default,{t:r,pagination:o,onePageKey:"x.reports.company_profile.subtitle.topics.length",multyPageKey:"x.reports.company_profile.subtitle.topics.amount_from_to"}),c.a.createElement(kt,null,c.a.createElement(Tt,null,e.filters.sort&&c.a.createElement(Y.a,{sortingOptions:(t=e.contentLocale,[{name:q.b.LastAnswered_asc,translationKey:"x.reports.topics.sorting.least_recent"},{name:q.b.LastAnswered_desc,translationKey:"x.reports.topics.sorting.most_recent"},{name:q.b.MostAnswered_desc,translationKey:"x.reports.topics.sorting.most_answered"},{name:q.b.MostAnswered_asc,translationKey:"x.reports.topics.sorting.least_answered"},{name:q.b.TopicNames_asc+"."+t,translationKey:"x.reports.topics.sorting.AtoZ"},{name:q.b.TopicNames_desc+"."+t,translationKey:"x.reports.topics.sorting.ZtoA"}]),selectedSorting:e.filters.sort,sortList:function(t){e.filters.sort!==t&&e.changeSorting(t)},selectorWithLabel:!0})))),e.listLoading?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(xt.a,{"data-testid":"reports__company__topiclist-container"},Object.values(a.topic_list).map(function(t){return c.a.createElement(Ra,{key:t.id,t:r,sessionUserManager:e.sessionUserManager,topic:t,scale:e.scales[t.scale_version_id],link:e.match.url.replace("/list","")+"/detail/"+t.id})})),o&&c.a.createElement(ht.default,{t:r,totalItems:o.total,pageSize:o.per_page,onChange:function(t){e.changePage(t.toString())},marginTop:60,history:u,location:p,defaultCurrPage:o.page})))}),Ba=Object(u.b)(function(e,t){return{contentLocale:Object(Tr.h)(e),scales:e.scales.byId,subjectIsMe:t.entity.id===e.user.session.user.uuid,listLoading:Object(vt.i)(t.entityType,e.reportsManagement)}})(Ha),Da=Object(p.g)(Ba),Fa=function(){return(Fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ga={page:"1",filterSubject:null,sort:null},za=Object(p.g)(function(e){var t=Object(l.useState)(Ga),n=t[0],r=t[1],a=Object(l.useState)(!0),i=a[0],s=a[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",1);var t=yt.a.parse(e.location.search),n={page:t.page||"1",filterSubject:t.filterSubject||null,sort:t.sort||q.b.TopicNames_asc+"."+e.contentLocale};r(n),(u(n)||Promise.resolve()).then(function(){s(!1)})},[]);var o=function(e){r(e),u(Fa({},e))},u=function(t){if(e.history.replace(Object(O.c)(t)),e.me)return e.fetchTopicListOfSubject(e.entityType,t,e.entityObj,e.me).catch(function(e){ka.a.info("Error fetchingTopicListoOfSubject",{error:e,info:{componentStack:"SubjectTopicsList.jsx"}})})};return c.a.createElement(_t,{"data-testid":"reports__topics__list"},i?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(Da,{filters:n,changeFilter:function(e){o(Fa({},n,{filterSubject:e}))},changeSorting:function(e){o(Fa({},n,{sort:e}))},changePage:function(e){o(Fa({},n,{page:e}))},entityType:e.entityType,entity:e.entityObj,topicsObject:e.topicsObject,pagination:e.pagination,sessionUserManager:e.sessionUserManager}))}),Wa=Object(u.b)(function(e,t){var n=t.entityType,r=Object(vt.m)(n,e.reportsManagement);return{topicsObject:r.result,pagination:r.pagination,contentLocale:Object(Tr.h)(e),me:e.user.session.user,sessionUserManager:Object.values(e.user.session.user.manager_attributes)[0]}},function(e){return{fetchTopicListOfSubject:function(t,n,r,a){return e(Object(vt.g)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))}}})(za),Va=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Qa=E.d.div.withConfig({displayName:"StyledContainer"})(Aa||(Aa=Va(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"],["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"]))),Ya=E.d.div.withConfig({displayName:"RouterContainer"})(Na||(Na=Va(["\n  margin-top: 19rem;\n  width: 100%;\n  max-width: 1200px;\n  padding: 0 30px;\n"],["\n  margin-top: 19rem;\n  width: 100%;\n  max-width: 1200px;\n  padding: 0 30px;\n"]))),Za=n("./src/modules/reports/userProfile/actions/userProfileActions.ts"),Ja=n("./src/shared/menus/dropdownBtn/AvatarsTextMenuItem.tsx"),Xa=n("./src/shared/lists/avatarNameListItem/AvatarNameListItem.tsx"),$a=n("./src/shared/menus/dropdownBtn/DropdownBtn.tsx"),ei=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ti=E.d.div.withConfig({displayName:"LoaderOverLay"})(Ua||(Ua=ei(["\n  position: fixed;\n  z-index: 999;\n  height: 4em;\n  width: 4em;\n  overflow: visible;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  &::before {\n    content: '';\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(237, 237, 237, 0.6);\n  }\n"],["\n  position: fixed;\n  z-index: 999;\n  height: 4em;\n  width: 4em;\n  overflow: visible;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  &::before {\n    content: '';\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(237, 237, 237, 0.6);\n  }\n"]))),ni=n("./src/modules/surveys/actions/surveyActions.ts"),ri=n("./src/shared/form/inputs/inputs.sc.ts"),ai=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ii=Object(E.d)(ri.b).withConfig({displayName:"ErrorWrapper"})(Ka||(Ka=ai(["\n  text-align: end;\n  margin: 5px 0 0 0;\n"],["\n  text-align: end;\n  margin: 5px 0 0 0;\n"]))),si=Object(u.b)(function(e){return{systemLanguage:Object(Tr.l)(e),sessionUser:e.user.session.user}},function(e){return{execAddManagersSurvey:function(t){return e(Object(ni.a)(t))},createPullSurvey:function(t){return e(Object(ni.d)(t))}}})(function(e){var t=e.item,n=e.t,r=e.systemLanguage,a=e.execAddManagersSurvey,i=e.history,s=e.isFirst,o=e.sessionUser,u=e.createPullSurvey,p=Object(l.useState)(!1),d=p[0],m=p[1],f=Object(l.useState)(null),g=f[0],y=f[1];function createManagerSurvey(e){var s,l;m(!0);var c,p={name:{}};"pull"===e?(p.name=((s={})[r]=n("x.survey.user.create_name",{name:o.firstname+" "+o.lastname}),s),c={ask:[t.id]},u({survey:p,schedule:c}).then(function(e){var t=e.response,n=e.error;t?i.push("/content/surveys/"+t.data.survey.id+"/edit"):n&&(n.response&&y(n.response.data[0].translation_key),m(!1))})):(p.name=((l={})[r]=n("x.survey.manager.create.name",{name:t.meta.firstname+" "+t.meta.lastname}),l),c={about:[t.id],shareWithSubject:!0},a({survey:p,schedule:c}).then(function(e){var t=e.response,n=e.error;t&&t.data?i.push("/content/surveys/"+t.data.survey.id+"/edit"):n&&(m(!1),y(n.response&&n.response.data[0].translation_key))}))}return c.a.createElement(Xa.default,{key:t.id,userName:t.meta.name,avatarUrl:t.image_url,userUrl:"/reports/user/profile/"+t.id+"/",isFirst:s},d&&c.a.createElement(ti,null,c.a.createElement(b.default,null)),c.a.createElement("div",null,c.a.createElement($a.default,{btnTxt:n("x.reports.user.my_team.feedback_menu"),onMenuClick:function createSurvey(e){switch(y(null),e){case"0":createManagerSurvey();break;case"1":createManagerSurvey("pull")}},menuItems:[c.a.createElement(Ja.default,{key:"manager_360",txt:n("x.reports.user.my_team.feedback_menu.ask_others_about_me",{name:t.meta.firstname}),iconName1:"iconPeople",avatarUrl2:t.image_url,userName2:t.meta.name}),c.a.createElement(Ja.default,{key:"manager_Pull",txt:n("x.reports.user.header.feedback_menu.ask_user_about_me",{name:t.meta.firstname}),avatarUrl1:t.image_url,avatarUrl2:o.imageUrl,userName2:o.firstname+" "+o.lastname})]}),g&&c.a.createElement(ii,null,Object(wn.d)(n,g))))}),oi=function(){return(oi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},li={page:"1",sort:q.b.Fullname_asc},ci=Object(u.b)(function(e){var t=e.reportsManagement.userProfile;return{sessionManagerTeam:t.managerTeam,loadingTeam:t.loadingTeam}},function(e){return{changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))},fetchManagerTeam:function(t,n){return e(Object(Za.c)(t,n))}}})(function(e){var t=Object(h.c)()[0],n=Object(l.useState)(li),r=n[0],a=n[1],i=Object(l.useState)(!0),s=i[0],o=i[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",3);var t=yt.a.parse(e.location.search),n={page:t.page||"1",sort:t.sort||q.b.Fullname_asc};a(n),u(n).then(function(){o(!1)})},[]);var u=function(t){return e.history.replace(Object(O.c)(t)),e.fetchManagerTeam(e.entityObj.id,t).catch(function(e){ka.a.info("Error fetching user requests list",{error:e,info:{componentStack:"ManagerTeamList.jsx"}})})};return c.a.createElement(_t,null,s?c.a.createElement(wt,null,c.a.createElement(b.default,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(St,null,e.sessionManagerTeam&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,!e.loadingTeam&&c.a.createElement(It.default,{t:t,pagination:e.sessionManagerTeam.pagination,onePageKey:"x.reports.user.my_team.list.amount",multyPageKey:"x.reports.user.my_team.list.amount_from_to"})),e.sessionManagerTeam.result.direct_reports_list.length>1&&c.a.createElement(kt,null,c.a.createElement(Tt,null,c.a.createElement(Y.a,{sortingOptions:_n,selectedSorting:r.sort,sortList:function(e){a(oi({},r,{sort:e})),u(oi({},r,{sort:e}))},selectorWithLabel:!0}))))),e.loadingTeam||!e.sessionManagerTeam?c.a.createElement(b.default,null):e.sessionManagerTeam.result.direct_reports_list.length?c.a.createElement(Ur.a,null,e.sessionManagerTeam.result.direct_reports_list.map(function(n,r){return c.a.createElement(si,{key:n.id,history:e.history,item:n,t:t,isFirst:!r})}),c.a.createElement(ht.default,{t:t,totalItems:e.sessionManagerTeam.pagination.total,pageSize:e.sessionManagerTeam.pagination.per_page,onChange:function(e){a(oi({},r,{page:e.toString()})),u(oi({},r,{page:e.toString()}))},marginTop:60,history:e.history,location:e.location,defaultCurrPage:e.sessionManagerTeam.pagination.page})):c.a.createElement(Ut,{marginTop:0,message:{txt:t("x.reports.company_profile.news.empty.message"),key:"x.reports.company_profile.news.empty.message"},buttonMessage:{txt:t("x.reports.company_profile.news.empty.button"),key:"x.reports.company_profile.news.empty.button"},link:qt.a.answerQuestions.questions})))}),ui=Object(p.g)(ci),pi=n("./src/modules/surveys/components/list/sortingOptions.ts"),di=n("./src/shared/lists/surveyItem/SurveyItem.tsx"),mi=n("./src/modules/surveys/constants/filterOptions.ts"),fi=n("./src/shared/dialogs/actionConfirmDialog/ActionConfirmDialog.tsx"),bi=n("./src/modules/surveys/components/list/surveysList.sc.ts");!function(e){e.All="all",e.User="user",e.Manager="manager",e.UserManager="user_manager"}(qa||(qa={}));var gi,yi,hi,xi,vi,ji,_i,wi,Ei,Oi,Si,ki,Ti,Ci,Ii,Pi,Ri=[{id:qa.All,labelKey:"x.reports.requests_list.sorting.labels.all"},{id:qa.User,labelKey:"x.reports.requests_list.sorting.labels.about_me"}],Li=n("./src/store/app/actions.ts"),Mi=function(){return(Mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ai=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ni=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ui={page:"1",sort:q.b.Created_desc,filterScope:null,filterStatus:mi.b.All},Ki=Object(u.b)(function(e){var t=e.reportsManagement.userProfile,n=e.user;return{contentLocale:Object(Tr.h)(e),userSurveys:t.userSurveys,loadingSurveys:t.loadingSurveys,copiedSurvey:t.copiedSurvey,loadingDel:t.loadingDel,sessionUser:n.session.user,sessionUserManager:Object.values(n.session.user.manager_attributes)[0]}},function(e){return{changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))},fetchSurveys:function(t,n){return e(Object(Za.i)(t,n))},copySurvey:function(t){return e(Object(Za.a)(t))},deleteSurvey:function(t){return e(Object(Za.b)(t))},showNotification:function(t){return e(Object(Li.g)(t))}}})(function(e){var t=Object(h.c)()[0],n=Object(l.useState)(Ui),r=n[0],a=n[1],i=Object(l.useState)(!0),s=i[0],o=i[1],u=Object(l.useRef)(0);Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",2);var t=yt.a.parse(e.location.search),n={page:t.page||"1",filterScope:t.filterScope||null,filterStatus:t.filterStatus||mi.b.All,sort:t.sort||q.b.Created_desc};a(n);var r=Mi({},e.location.state);return r&&r.copySurveyId?(v(r.copySurveyId),delete r.copySurveyId,e.history.replace({state:r}),o(!1)):d(n).then(function(){o(!1)}),function(){u.current&&clearTimeout(u.current)}},[]);var p=Object(l.useMemo)(function(){var t=e.sessionUser,n=e.sessionUserManager,r=Ri.slice();return t.isManager&&r.push({id:qa.Manager,labelKey:"x.reports.requests_list.sorting.labels.about_my_team_members",iconName:"iconPeople"}),n&&r.push({id:qa.UserManager,labelKey:"x.reports.requests_list.sorting.labels.manager_about_me"}),r.map(function(t){var r,a;return t.id===qa.User&&(r=e.sessionUser.imageUrl||void 0,a=e.sessionUser.firstname+" "+e.sessionUser.lastname),n&&t.id===qa.UserManager&&(r=n.imageUrl||void 0,a=n.firstname+" "+n.lastname),Mi({},t,{imageUrl:r,userName:a})})},[e.sessionUser]),d=function(t){var n=Mi({},t);return n.filterStatus===mi.b.All&&delete n.filterStatus,e.history.replace(Object(O.c)(t)),e.fetchSurveys(e.entityObj.id,n).then(function(e){var t=e.response;if(e.error)throw new Error("error fetching survey list");return t}).catch(function(e){ka.a.info("Error fetching user requests list",{error:e,info:{componentStack:"UserSurveysList.tsx"}})})},m=function(e){a(e),d(Mi({},e))},f=function(e){m(Mi({},r,{filterStatus:e}))},g=Object(l.useState)(!1),y=g[0],x=g[1],v=function(t){return Ai(void 0,void 0,void 0,function(){var n;return Ni(this,function(r){switch(r.label){case 0:return x(!0),[4,e.copySurvey(t)];case 1:return(n=r.sent()).response?[4,j(n.response.data.id,0,100)]:[3,3];case 2:r.sent(),window.scrollTo(0,0),r.label=3;case 3:return s&&o(!1),x(!1),[2]}})})},j=function(e,t,n){return new Promise(function(a,i){d(Mi({},r)).then(function(r){if(!r)return a();r.data.result.survey_list.findIndex(function(t){return t.id===e})<0&&t<n?u.current=window.setTimeout(function(){j(e,t+1,n).then(function(){a()})},2e3):a()}).catch(function(){i()})})},_=Object(l.useState)(!1),w=_[0],E=_[1],S=Object(l.useState)(null),k=S[0],T=S[1],C=Object(l.useState)(null),I=C[0],P=C[1],R=function(){E(function(e){return!e}),T(null),P(null)},L=function(e){R(),T(e)};return c.a.createElement(_t,null,e.sessionUser.isManager&&c.a.createElement(La.default,{t:t,filterOptions:p,doFilter:function(e){void 0===e&&(e=0);var t=0===e?null:p[e].id,n={filterManagerRequest:null,filterScope:null};"user_manager"===t?n.filterManagerRequest="true":n.filterScope=t,d(Mi({},r,n)),r.filterScope!==t&&a(Mi({},r,{filterScope:t}))},initialFilter:r.filterScope}),c.a.createElement(St,null,e.userSurveys&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,!e.loadingSurveys&&!y&&c.a.createElement(It.default,{t:t,pagination:e.userSurveys.pagination,onePageKey:"x.reports.user.feedback_requests.list.requests_amount",multyPageKey:"x.reports.user.feedback_requests.list.requests_amount_from_to"})),c.a.createElement(kt,null,(e.userSurveys.result.survey_list.length>1||r.filterStatus!==mi.b.All)&&c.a.createElement(Tt,null,c.a.createElement(Y.a,{sortingOptions:mi.d,selectedSorting:r.filterStatus,sortList:f,selectorLabelKey:"x.surveys.list.status_filter.label",selectorWithLabel:!0})),e.userSurveys.result.survey_list.length>1&&c.a.createElement(Tt,null,c.a.createElement(Y.a,{sortingOptions:Object(pi.a)(e.contentLocale),selectedSorting:r.sort,sortList:function(e){m(Mi({},r,{sort:e}))},selectorWithLabel:!0}))))),s||e.loadingSurveys||!e.userSurveys||y?c.a.createElement(b.default,null):e.userSurveys.result.survey_list.length?c.a.createElement(Ur.a,null,e.userSurveys.result.survey_list.map(function(n){return c.a.createElement(di.a,{t:t,key:n.id,itemType:"userSurvey",survey:n,duplicateSurvey:v,deleteSurvey:L,sessionUser:e.sessionUser})})):r.filterStatus!==mi.b.All?c.a.createElement(bi.d,null,c.a.createElement("p",{"data-translation":"x.surveys.list.no_surveys_txt"},t("x.surveys.list.no_surveys_txt")),c.a.createElement(bi.e,{"data-translation":"x.surveys.list.reset_filters",onClick:function(){f(mi.b.All)}},t("x.surveys.list.reset_filters"))):c.a.createElement(Ut,{marginTop:0,message:{txt:t("x.reports.company_profile.user_requests.empty_message"+(e.sessionUser.isManager?"":".user")),key:"x.reports.company_profile.user_requests.empty_message"+(e.sessionUser.isManager?"":"user")},buttonMessage:e.sessionUser.isManager?{txt:t("x.reports.company_profile.user_requests.empty_button"),key:"x.reports.company_profile.user_requests.empty_button"}:void 0,link:"my-team"}),e.userSurveys&&!y&&c.a.createElement(ht.default,{t:t,totalItems:e.userSurveys.pagination.total,pageSize:e.userSurveys.pagination.per_page,onChange:function(e){m(Mi({},r,{page:e.toString()}))},marginTop:60,history:e.history,location:e.location,defaultCurrPage:e.userSurveys.pagination.page}),c.a.createElement(fi.default,{t:t,show:w,close:!0,onHide:R,actionTitleKey:"x.surveys.delete_confirmation.headline.user",actionContentKey:"x.surveys.delete_confirmation.content.user",actionCall:function(){if(!k)throw Error("this.state.surveyToDel is undefined, it is required for deletion!");var t=e.userSurveys&&e.userSurveys.result.survey_list.find(function(e){return e.id===k}),n=t?Object(wn.c)(t.name):"";e.deleteSurvey(k).then(function(t){var r=t.error,a=t.response;if(r)throw Error(r.message);if(a){R();var i="x.surveys.request_deleted_message";e.showNotification({id:i+"."+n,txtKey:i,txtProps:{name:n}})}}).catch(function(e){var t="x.surveys.schedules.delete.error.unknownError";ka.a.info("Error deleting Survey",{error:"Error deleting Survey",info:{componentStack:"UserRequestsList.tsx"}}),-1!==e.message.indexOf("404")&&(t="x.surveys.delete.error.not_found"),P(t)})},showDeletion:!0,loadingAction:e.loadingDel,actionError:I}))}),qi=Object(p.g)(Ki),Hi=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Bi=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Di=Object(l.createContext)({isManagedBySessionUser:!1}),Fi=Object(u.b)(function(e){var t=e.reportsManagement,n=e.user;return{user:t.userProfile.currentUser,sessionUser:n.session.user}},function(e){return{changeEntityLoading:function(t){return e(we(t))},changeHeaderLoading:function(t){return e(_e(t))},fetchUserById:function(t){return e(Object(Za.e)(t))}}})(function(e){var t=Object(l.useState)(!0),n=t[0],r=t[1],a=Object(l.useState)({name:"",id:e.match.params.userId}),i=a[0],s=a[1];Object(l.useEffect)(function(){o(e.match.params.userId)},[e.match.params.userId]);var o=function(t){e.changeEntityLoading(!0),r(!0),u(t).then(function(){r(!1)})},u=function(t){return Hi(void 0,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:return e.changeHeaderLoading(!0),[4,e.fetchUserById(t).then(function(n){var r=n.response,a=n.error;if(a){if(404===a.response.status)throw e.history.replace("/reports/user/profile/"),new Error("Error user not found");throw new Error("Error getting user info")}if(r){var i=r.data;s({id:t,name:i.firstname+" "+i.lastname,imageUrl:i.imageUrl||void 0})}}).catch(function(e){ka.a.info("Error getting user info",{error:e,info:{componentStack:"UserProfileRouter.tsx"}})})];case 1:return n.sent(),[2]}})})},d=Object(l.useMemo)(function(){if(e.user){var t=e.user.manager_attributes;if(t&&e.sessionUser){var n=Object.values(t)[0];return!!n&&n.uuid===e.sessionUser.uuid}}return!1},[e.sessionUser,e.user]),m=Object(l.useMemo)(function(){return!!e.sessionUser&&e.sessionUser.uuid===i.id},[e.sessionUser,i]),g=Object(l.useMemo)(function(){return!!e.sessionUser&&e.sessionUser.isManager&&m},[e.sessionUser,m]),y=Object(l.useCallback)(function(){return c.a.createElement(Wa,{entityObj:i,entityType:_.a.User})},[i]),h=Object(l.useCallback)(function(){return c.a.createElement(_a,{entityObj:i,entityType:_.a.User})},[i,d]),x=Object(l.useCallback)(function(){return c.a.createElement(xn,{entityObj:i,entityType:_.a.User})},[i]),v=Object(l.useCallback)(function(){return c.a.createElement(qi,{entityObj:i,entityType:_.a.User})},[i]),j=Object(l.useCallback)(function(){return c.a.createElement(ui,{entityObj:i,entityType:_.a.User})},[i]),w=e.match;return c.a.createElement("div",{"data-testid":"reports__company__wrapper"},n?c.a.createElement(Ct,null,c.a.createElement(b.default,null)):c.a.createElement(Qa,null,c.a.createElement(Di.Provider,{value:{isManagedBySessionUser:d}},c.a.createElement(p.d,null,c.a.createElement(Ya,null,c.a.createElement(p.d,null,c.a.createElement(p.b,{path:w.url+"/topics/detail/:topicId("+f.a+")",render:h}),c.a.createElement(p.b,{path:w.url+"/list",render:function(){var e=[{path:"/news",render:x,args:["exact"]},{path:"/topics",render:y,args:["exact"]}];return m&&e.push({path:"/my-requests",render:v,args:["exact"]}),g&&e.push({path:"/my-team",render:j,args:["exact"]}),c.a.createElement(bt,{entityObj:i,entityType:_.a.User,isManager:g,isSessionUser:m,routes:e})}}),c.a.createElement(Sa,{entityObj:i,entityType:_.a.User})))))))}),Gi=n("./src/modules/reports/groupProfile/actions/groupProfileActions.ts"),zi=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Wi=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Vi=Object(u.b)(function(e){return{group:e.reportsManagement.groupProfile.currentGroup}},function(e){return{changeHeaderLoading:function(t){return e(_e(t))},fetchGroupById:function(t){return e(Object(Gi.b)(t))}}})(function(e){var t=Object(l.useState)({name:"",id:e.match.params.groupId}),n=t[0],r=t[1],a=Object(l.useState)(!0),i=a[0],s=a[1];Object(l.useEffect)(function(){o(e.match.params.groupId)},[e.match.params.groupId]);var o=function(e){s(!0),u(e).then(function(){s(!1)})},u=function(t){return zi(void 0,void 0,void 0,function(){return Wi(this,function(n){switch(n.label){case 0:return e.changeHeaderLoading(!0),[4,e.fetchGroupById(t).then(function(n){var a=n.response,i=n.error;if(i){if(404===i.response.status)throw e.history.replace(qt.a.reports.group),new Error("Error group not found");throw new Error("Error getting group info")}if(a&&a.data.meta&&a.data.meta.option_name){var s=a.data;r({id:t,name:s?Object(wn.c)(s.meta.option_name):"UNKNOWN"})}}).catch(function(e){ka.a.info("Error getting group info",{error:e,info:{componentStack:"GroupProfileRouter.tsx"}})})];case 1:return n.sent(),[2]}})})},d=Object(l.useCallback)(function(){return c.a.createElement(Wa,{entityObj:n,entityType:_.a.Group})},[n]),m=Object(l.useCallback)(function(){return c.a.createElement(_a,{entityObj:n,entityType:_.a.Group})},[n]),g=Object(l.useCallback)(function(){return c.a.createElement(xn,{entityObj:n,entityType:_.a.Group})},[n]),y=e.match;return i?c.a.createElement(Ct,null,c.a.createElement(b.default,null)):c.a.createElement(Qa,null,c.a.createElement(p.d,null,c.a.createElement(Ya,null,c.a.createElement(p.d,null,c.a.createElement(p.b,{path:y.url+"/list",render:function(){var e=[{path:"/news",render:g,args:["exact"]},{path:"/topics",render:d,args:["exact"]}];return c.a.createElement(bt,{entityObj:n,entityType:_.a.Group,routes:e})}}),c.a.createElement(p.b,{path:y.url+"/topics/detail/:topicId("+f.a+")",render:m}),c.a.createElement(Sa,{entityObj:n,entityType:_.a.Group})))))}),Qi=n("./src/modules/surveys/constants/surveyTypes.ts"),Yi=n("./src/modules/reports/surveyProfile/actions/surveyProfile.actions.ts"),Zi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ji=E.d.span.withConfig({displayName:"ReminderButton"})(gi||(gi=Zi(["\n  font-size: 15px;\n  cursor: pointer;\n"],["\n  font-size: 15px;\n  cursor: pointer;\n"]))),Xi=E.d.span.withConfig({displayName:"MailText"})(yi||(yi=Zi(["\n  display: flex;\n  align-items: center;\n\n  & span {\n    margin-right: 5px;\n  }\n"],["\n  display: flex;\n  align-items: center;\n\n  & span {\n    margin-right: 5px;\n  }\n"]))),$i=E.d.span.withConfig({displayName:"ReminderError"})(hi||(hi=Zi(["\n  color: ",";\n"],["\n  color: ",";\n"])),function(e){return e.theme.red.a10}),es=E.d.span.withConfig({displayName:"SendButton"})(xi||(xi=Zi(["\n  text-decoration: underline;\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  text-decoration: underline;\n\n  &:hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.baseBlue.a10}),ts=E.d.span.withConfig({displayName:"ReminderText"})(vi||(vi=Zi(["\n  text-decoration: none;\n"],["\n  text-decoration: none;\n"]))),ns=E.d.span.withConfig({displayName:"ParticipantsTitle"})(ji||(ji=Zi(["\n  font-weight: 600;\n  color: ",";\n  margin-left: 15px;\n  display: flex;\n  flex: 7;\n  align-items: center;\n"],["\n  font-weight: 600;\n  color: ",";\n  margin-left: 15px;\n  display: flex;\n  flex: 7;\n  align-items: center;\n"])),function(e){return e.theme.baseBlue.a10}),rs=E.d.div.withConfig({displayName:"ActionSection"})(_i||(_i=Zi(["\n  margin-left: 38px;\n  display: flex;\n  align-items: center;\n  flex: 13;\n  color: ",";\n"],["\n  margin-left: 38px;\n  display: flex;\n  align-items: center;\n  flex: 13;\n  color: ",";\n"])),function(e){return e.theme.baseBlue.a6}),as=E.d.div.withConfig({displayName:"RateSection"})(wi||(wi=Zi(["\n  flex: 4;\n  font-size: 21px;\n  text-align: right;\n  color: ",";\n  display: flex;\n  justify-content: flex-end;\n"],["\n  flex: 4;\n  font-size: 21px;\n  text-align: right;\n  color: ",";\n  display: flex;\n  justify-content: flex-end;\n"])),function(e){return e.theme.baseBlue.a10}),is=E.d.div.withConfig({displayName:"LoadingWrapper"})(Ei||(Ei=Zi(["\n  padding: 0 60px;\n  width: fit-content;\n"],["\n  padding: 0 60px;\n  width: fit-content;\n"]))),ss=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},os=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ls=function(e){var t=Object(l.useState)(!1),n=t[0],r=t[1],a=Object(l.useState)(null),i=a[0],s=a[1],o=Object(l.useState)(!1),u=o[0],p=o[1],d=Object(l.useMemo)(function(){return c.a.createElement(ns,null,c.a.createElement("span",{"data-translation":"x.reports.participants.list.anon.item.info.participants_count"},e.t("x.reports.participants.list.anon.item.info.participants_count",{count:e.count})))},[e.count]),m=Object(l.useMemo)(function(){return!e.currentCycle||e.currentCycle.closed?e.t("x.reports.participants.list.mail.item.info.anon.closed"):e.completed?e.t(e.rateTxtKey):e.count<1||e.allReminderSent?e.t("x.reports.participants.list.mail.item.info.anon.empty"):!e.email_trigger||u?e.t("x.reports.participants.list.mail.item.info.anon.reminded_today"):void 0},[e.rateTxtKey,e.currentCycle,e.completed,e.count,e.email_trigger,e.allReminderSent]);return c.a.createElement(Xa.default,{key:e.rateTxtKey,userTitle:d,anonymous:!0},c.a.createElement(rs,null,m?c.a.createElement("span",null,m):c.a.createElement(c.a.Fragment,null,n||e.allReminderLoading?c.a.createElement(is,null,c.a.createElement(b.default,{size:10})):c.a.createElement(Ji,{"data-translation":"x.reports.participants.list.mail.item.info.cta_reminder",onClick:function(){return ss(void 0,void 0,void 0,function(){var t;return os(this,function(n){switch(n.label){case 0:return e.email_trigger?(s(null),r(!0),(t=e.sendReminder(e.email_trigger))?[4,Object(O.e)(t.catch(function(e){s(e)}))]:[3,2]):[3,3];case 1:n.sent(),p(!0),n.label=2;case 2:s(new Error("unknown")),r(!1),n.label=3;case 3:return[2]}})})}},!e.allReminderSent&&c.a.createElement(es,null,c.a.createElement("span",null,e.t("x.reports.participants.list.mail.item.info.cta_reminder"))),i&&c.a.createElement(c.a.Fragment,null," | ",c.a.createElement($i,null,i.message))))),c.a.createElement(as,null,c.a.createElement("span",null,e.t(e.rateTxtKey))))},cs=n("./src/interfaces/surveys.interfaces.ts"),us=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ps=E.d.div.withConfig({displayName:"StartMailWrapper"})(Oi||(Oi=us(["\n  background-color: rgba(0, 0, 0, 0.05);\n  margin: 30px 0 60px -15px;\n  width: calc(100% + 30px);\n  padding-left: 15px;\n  border-radius: 5px;\n"],["\n  background-color: rgba(0, 0, 0, 0.05);\n  margin: 30px 0 60px -15px;\n  width: calc(100% + 30px);\n  padding-left: 15px;\n  border-radius: 5px;\n"]))),ds=(Si=function(e,t){return(Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}Si(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),ms=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},fs=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},bs=function(e){function StartMailItem(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUnmounted=!1,t.state={loadingReminder:!1,errorReminder:null,mailsSend:null},t.sendStartMail=function(){return ms(t,void 0,void 0,function(){var e=this;return fs(this,function(t){switch(t.label){case 0:return this.props.currentCycle?(this.setState({errorReminder:null}),this.setState({loadingReminder:!0}),[4,Object(O.e)(Object(Yi.p)(this.props.currentCycle.id).then(function(t){e.setState({mailsSend:t})}).catch(function(t){e.setState({errorReminder:t})}))]):[3,2];case 1:t.sent(),this.isUnmounted||this.setState({loadingReminder:!1}),t.label=2;case 2:return[2]}})})},t.renderUserTitle=function(){return c.a.createElement(ns,null,c.a.createElement("span",{"data-translation":"x.reports.participants.list.anon.item.info.participants_count"},t.props.t("x.reports.participants.list.anon.item.info.participants_new")))},t}return ds(StartMailItem,e),StartMailItem.prototype.componentWillUnmount=function(){this.isUnmounted=!0},StartMailItem.prototype.render=function(){var e=this.props.t;return c.a.createElement(ps,null,c.a.createElement(Xa.default,{userTitle:this.renderUserTitle(),anonymous:!0},c.a.createElement(rs,null,this.state.loadingReminder?c.a.createElement(is,null,c.a.createElement(b.default,{size:10})):c.a.createElement(Ji,{"data-translation":"x.reports.participants.list.mail.item.info.cta_reminder",onClick:this.sendStartMail},this.props.currentCycle&&!this.props.currentCycle.closed?c.a.createElement(c.a.Fragment,null,c.a.createElement(es,{"data-translation":"x.reports.participants.list.mail.item.send_start_mail"},e("x.reports.participants.list.mail.item.send_start_mail"))," | ",this.state.errorReminder?c.a.createElement($i,null,this.state.errorReminder.message):c.a.createElement(c.a.Fragment,null,this.state.mailsSend?c.a.createElement("span",null,e("x.reports.participants.list.mail.item.send_start_mail.info.count",{count:this.state.mailsSend.data.triggered_mails})):c.a.createElement("span",{"data-translation":"x.reports.participants.list.mail.item.send_start_mail.info"},e("x.reports.participants.list.mail.item.send_start_mail.info")))):c.a.createElement("span",{"data-translation":"x.reports.participants.list.mail.item.info.anon.closed"},e("x.reports.participants.list.mail.item.info.anon.closed")))),c.a.createElement(as,null)))},StartMailItem}(l.Component),gs=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ys=E.d.div.withConfig({displayName:"TableHeader"})(ki||(ki=gs(["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  display: flex;\n  padding: 5px 0;\n  font-size: 12px;\n  color: ",";\n  &.margin {\n    margin-top: 64px;\n  }\n"],["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  display: flex;\n  padding: 5px 0;\n  font-size: 12px;\n  color: ",";\n  &.margin {\n    margin-top: 64px;\n  }\n"])),function(e){return e.theme.black.a1},function(e){return e.theme.baseBlue.a6}),hs=E.d.span.withConfig({displayName:"TitleHeader"})(Ti||(Ti=gs(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),xs=E.d.span.withConfig({displayName:"ReminderHeader"})(Ci||(Ci=gs(["\n  flex: 1;\n  margin-left: 33px;\n"],["\n  flex: 1;\n  margin-left: 33px;\n"]))),vs=E.d.span.withConfig({displayName:"SendAll"})(Ii||(Ii=gs(["\n  font-size: 15px;\n  text-decoration: underline;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n"],["\n  font-size: 15px;\n  text-decoration: underline;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.baseBlue.a6}),js=E.d.span.withConfig({displayName:"RateHeader"})(Pi||(Pi=gs(["\n  flex: 1;\n  text-align: end;\n"],["\n  flex: 1;\n  text-align: end;\n"]))),_s=function(e){var t=e.t,n=e.allLoading,r=e.error,a=e.count,i=e.remind,s=e.margin,o=e.allReminderSended,l=e.surveyStatus,u=e.anon;return c.a.createElement(ys,{className:s?"margin":""},c.a.createElement(hs,{"data-translation":"x.reports.participants.list.name.header"+(u?".anon":"")},t("x.reports.participants.list.name.header"+(u?".anon":""))),c.a.createElement(xs,null,n?c.a.createElement(vs,null,c.a.createElement(is,null,c.a.createElement(b.default,{size:10}))):c.a.createElement(c.a.Fragment,null,a>0&&!o&&l===cs.a.Active&&c.a.createElement(c.a.Fragment,null,c.a.createElement(vs,{"data-translation":"x.reports.participants.list.mail.all",onClick:i},t("x.reports.participants.list.mail.all",{count:a})),c.a.createElement("span",null," - ")),r?c.a.createElement($i,null,r.message):c.a.createElement("span",{"data-translation":"x.reports.participants.list.mail.header"},t("x.reports.participants.list.mail.header")))),c.a.createElement(js,{"data-translation":"x.reports.participants.list.response_rate.header"},t("x.reports.participants.list.response_rate.header")))},ws=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Es=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Os=Object(h.d)()(function(e){var t=Object(l.useState)(!1),n=t[0],r=t[1],a=Object(l.useState)(!1),i=a[0],s=a[1],o=Object(l.useState)(null),u=o[0],p=o[1];return c.a.createElement(Ot,null,e.participants.participant_list?c.a.createElement(c.a.Fragment,null,c.a.createElement(_s,{t:e.t,margin:!0,anon:!0,allLoading:n,error:u,remind:function(){return ws(void 0,void 0,void 0,function(){var t;return Es(this,function(n){switch(n.label){case 0:return p(null),r(!0),(t=e.sendReminder(e.participants.send_all.email_trigger))?[4,Object(O.e)(t.catch(function(e){p(e)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return r(!1),s(!0),[2]}})})},count:e.participants.send_all.count,allReminderSended:i,surveyStatus:e.subject.surveyStatus||cs.a.Draft}),e.listLoading?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(xt.a,null,Br.map(function(t,r){return e.sendReminder&&c.a.createElement(ls,{completed:0===r,key:t,count:e.participants.participant_distribution[Br.length-r].count,rateTxtKey:t,t:e.t,email_trigger:e.participants.participant_distribution[Br.length-r].email_trigger,sendReminder:e.sendReminder,allReminderLoading:n,allReminderSent:i,currentCycle:e.currentCycle})}),c.a.createElement(bs,{t:e.t,currentCycle:e.currentCycle}))):c.a.createElement(Ut,{message:{txt:e.t("x.reports.survey_profile.participants.empty.message"),key:"x.reports.survey_profile.participants.empty.message"},buttonMessage:{txt:e.t("x.reports.survey_profile.participants.empty.button"),key:"x.reports.survey_profile.participants.empty.button"},link:"/content/surveys/"+e.subject.id}))}),Ss=n("./src/services/getNameOfSegment.ts"),ks=n("./src/shared/tooltips/HoverInfoIcon.tsx"),Ts=function(e){return e.setHours(0,0,0,0)},Cs=function(e,t,n){return c.a.createElement("span",{"data-translation":e},t(e,{date:n}))},Is=function(e,t,n){return c.a.createElement(Xi,{"data-translation":e},c.a.createElement("span",null,t(e)),c.a.createElement(ks.default,{infoText:n}))},Ps=function(e,t){return c.a.createElement("span",null,c.a.createElement(es,{"data-translation":e},t(e))," | ")},Rs=function(e){var t=e.t,n=e.lastMail,r=e.cycleResponseRate,a=e.combinedResponseRate,i=e.surveyStatus,s=e.sendReminder,o=e.currentCycle,l=e.error,u=e.sended,p=null,d=null,m=null,f=Ts(new Date),b=jn()(f).subtract(1,"days"),g=n?Ts(new Date(n.sent_at)):null;return g&&(m=jn()(g).format("ll"),jn()(g).isSame(jn()(f))?m=t("x.reports.participants.list.mail.item.today"):jn()(g).isSame(b)&&(m=t("x.reports.participants.list.mail.item.yesterday"))),r>=1?d=a>=1?Cs("x.reports.participants.list.mail.item.info.completed",t):Is("x.reports.participants.list.mail.item.info.completed",t,{key:"x.reports.participants.list.mail.item.info.completed.info",txt:t("x.reports.participants.list.mail.item.info.completed.info")}):i===cs.a.Draft?d=o?o.closed?Cs("x.reports.participants.list.mail.item.info.anon.closed",t):g?Cs("x.reports.participants.list.mail.item.info.last_mail",t,m):Cs("x.reports.participants.list.mail.item.info.after_start",t):Cs("x.reports.participants.list.mail.item.info.draft",t):o?o.closed?d=Cs("x.reports.participants.list.mail.item.info.anon.closed",t):g?jn()(g).isSame(jn()(f))?d=Cs("x.reports.participants.list.mail.item.info.last_mail",t,m):(d=Cs("x.reports.participants.list.mail.item.info.last_mail",t,m),p=Ps("x.reports.participants.list.mail.item.info.cta_reminder",t)):(d=Cs("x.reports.participants.list.mail.item.info.after_start",t),p=Ps("x.reports.participants.list.mail.item.send_start_mail",t)):d=Cs("x.reports.participants.list.mail.item.info.not_started",t),u&&p&&(d=Cs("x.reports.participants.list.mail.item.info.last_mail",t,t("x.reports.participants.list.mail.item.today")),p=null),c.a.createElement("div",null,c.a.createElement(Ji,{onClick:s},p),c.a.createElement(ts,null,l?c.a.createElement($i,null,l.message):c.a.createElement("span",null,d)))},Ls=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Ms=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},As=function(e){var t=Object(l.useState)(!1),n=t[0],r=t[1],a=Object(l.useState)(!1),i=a[0],s=a[1],o=Object(l.useState)(null),u=o[0],p=o[1];return c.a.createElement(Xa.default,{userName:Object(Ss.a)(e.item.user),avatarUrl:e.item.user.image_url,userUrl:"/reports/"+(e.item.user?e.item.user.type:"company")+"/profile/"+(e.item.user?e.item.user.id:"")},c.a.createElement(rs,null,n||e.item.email_trigger&&e.allLoading?c.a.createElement(is,null,c.a.createElement(b.default,{size:10})):c.a.createElement(Rs,{sended:i||e.allReminderSent,surveyStatus:e.subject.surveyStatus,sendReminder:function(){return Ls(void 0,void 0,void 0,function(){var t;return Ms(this,function(n){switch(n.label){case 0:return p(null),r(!0),(t=e.sendReminder(e.item.email_trigger))?[4,Object(O.e)(t.catch(function(e){p(e)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return r(!1),s(!0),[2]}})})},cycleResponseRate:e.item.cycle_response_rate_combined,combinedResponseRate:e.item.response_rate_combined,lastMail:e.item.last_email,currentCycle:e.currentCycle,error:u,t:e.t})),c.a.createElement(as,null,c.a.createElement(A,{t:e.t,small:!0,stats:e.item,isPeopleSurvey:e.isPeopleSurvey})))},Ns=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Us=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ks=Object(p.g)(function(e){var t=Object(h.c)()[0],n=Object(l.useMemo)(function(){return Object.values(e.participants.participant_distribution).reduce(function(e,n,r){return e.unshift({text:t(Dr[r]),rating:n.count,distKey:r+1}),e},[])},[e.participants.participant_distribution]),r=Object(l.useMemo)(function(){return Object.values(e.participants.participant_distribution).reduce(function(t,n,r){return r!==Object.values(e.participants.participant_distribution).length-1?t+n.count:t},0)},[e.participants.participant_distribution]),a=Object(l.useState)(!1),i=a[0],s=a[1],o=Object(l.useState)(null),u=o[0],p=o[1],d=Object(l.useState)(!1),m=d[0],f=d[1],g=function(t){e.changeBarFilter(t,null)},y=Object(l.useMemo)(function(){return c.a.createElement("span",{"data-translation":"x.reports.participants.selector.label.count"},t("x.reports.participants.selector.label.count",{count:e.participants.number_of_participants}))},[e.participants.number_of_participants]),x=Object(l.useMemo)(function(){return e.filters.filterResponseRate?t(Dr[parseInt(e.filters.filterResponseRate,10)-1]):e.filters.filterNotCompleted?"x.reports.survey.respondents.sorting.selector.not_completed":void 0},[e.filters.filterNotCompleted,e.filters.filterResponseRate]);return c.a.createElement(Ot,null,e.participants.participant_list?c.a.createElement(c.a.Fragment,null,c.a.createElement(St,null,c.a.createElement(It.default,{t:t,pagination:e.participants.pagination,onePageKey:"x.reports.participants.list.amount",multyPageKey:"x.reports.participants.list.amount_from_to"}),c.a.createElement(kt,null,n.length>0&&c.a.createElement(Tt,null,c.a.createElement($n,{header:y,selections:n,labelTextKey:"x.reports.questions.rating.sorting.label.respondents",selectSorting:g,clickAll:function(){return g(null)},selectedSelection:x,secondClick:function(t){e.changeBarFilter(null,t)},secondCount:r,secondTxtKey:"x.reports.survey.respondents.sorting.selector.not_completed",barColor:Ge.f[1][0]})),c.a.createElement(Tt,null,e.filters.sort&&c.a.createElement(Y.a,{sortingOptions:[{name:q.b.ResponseRate_desc,translationKey:"x.reports.participant.sorting.response_rate.desc"},{name:q.b.ResponseRate_asc,translationKey:"x.reports.participant.sorting.response_rate.asc"},{name:q.b.Fullname_asc,translationKey:"x.reports.participant.sorting.participant_fullname.asc"},{name:q.b.Fullname_desc,translationKey:"x.reports.participant.sorting.participant_fullname.desc"},{name:q.b.Lastname_asc,translationKey:"x.reports.participant.sorting.participant_lastname.asc"},{name:q.b.Lastname_desc,translationKey:"x.reports.participant.sorting.participant_lastname.desc"},{name:q.b.LastMail_desc,translationKey:"x.reports.participant.sorting.last_mail.asc"},{name:q.b.LastMail_asc,translationKey:"x.reports.participant.sorting.last_mail.desc"}],selectedSorting:e.filters.sort,sortList:e.changeSorting,selectorWithLabel:!0})))),c.a.createElement(_s,{t:t,allLoading:i,error:u,remind:function(){return Ns(void 0,void 0,void 0,function(){var t;return Us(this,function(n){switch(n.label){case 0:return p(null),s(!0),(t=e.sendReminder(e.participants.send_all.email_trigger))?[4,Object(O.e)(t.catch(function(e){p(e)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return s(!1),f(!0),[2]}})})},count:e.participants.send_all.count,allReminderSended:m,surveyStatus:e.subject.surveyStatus||cs.a.Draft}),e.listLoading?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(xt.a,null,Object.values(e.participants.participant_list).map(function(n){return c.a.createElement(As,{sendReminder:e.sendReminder,allLoading:i,subject:e.subject,key:n.user.id,item:n,isPeopleSurvey:"people"===e.subject.type,currentCycle:e.currentCycle,allReminderSent:m,t:t})})),e.participants.pagination&&c.a.createElement(ht.default,{t:t,totalItems:e.participants.pagination.total,pageSize:e.participants.pagination.per_page,onChange:function(t){e.filters.page!==t.toString()&&e.changePage(t.toString())},marginTop:60,history:e.history,location:e.location,defaultCurrPage:e.participants.pagination.page})):c.a.createElement(Ut,{message:{txt:t("x.reports.survey_profile.participants.empty.message"),key:"x.reports.survey_profile.participants.empty.message"},buttonMessage:{txt:t("x.reports.survey_profile.participants.empty.button"),key:"x.reports.survey_profile.participants.empty.button"},link:"/content/surveys/"+e.subject.id}))}),qs=function(){return(qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Hs={page:"1",filterResponseRate:null,filterNotCompleted:null,sort:null},Bs=Object(u.b)(function(e,t){var n=t.subjectType;return{participantsObject:e.reportsManagement.surveyProfile.participants,contentLocale:Object(Tr.h)(e),currentCycle:e.reportsManagement.surveyProfile.cycle,listLoading:Object(vt.i)(n,e.reportsManagement),sessionUser:e.user.session.user}},function(e){return{fetchParticipantsListOfSubject:function(t,n,r,a){return e(Object(vt.d)(t,n,r,a))},changeSingleHeaderInformation:function(t,n){return e(Ee(t,n))},showNotification:function(t){return e(Object(Li.g)(t))}}})(function(e){var t=Object(h.c)()[0],n=Object(l.useState)(Hs),r=n[0],a=n[1],i=Object(l.useState)(!0),s=i[0],o=i[1];Object(l.useEffect)(function(){e.changeSingleHeaderInformation("selectedTabIndex",2);var t=yt.a.parse(e.location.search),n={page:t.page||"1",filterResponseRate:t.filterResponseRate||null,filterNotCompleted:t.filterNotCompleted||null,sort:t.sort||q.b.ResponseRate_asc};a(n),p(n).then(function(){o(!1)})},[]);var u=function(e){a(e),p(qs({},e))},p=function(t){return e.history.replace(Object(O.c)(t)),e.fetchParticipantsListOfSubject(e.subjectType,t,e.subject,e.sessionUser).catch(function(e){ka.a.info("Error fetchingParticipantsListoOfSubject",{error:e,info:{componentStack:"SubjectParticipantsList.jsx"}})})},d=function(t){if(e.currentCycle)return Object(Yi.o)(t,e.currentCycle.id).then(function(n){var r,a="x.reports.survey_profile.participants.reminder_sent_message";return n.data.triggered_mails&&(r={count:n.data.triggered_mails}),e.showNotification({id:a+"."+t,txtKey:a,txtProps:r}),n})};return c.a.createElement(_t,null,s?c.a.createElement(b.default,{marginTop:60}):c.a.createElement(c.a.Fragment,null,e.currentCycle&&e.participantsObject&&e.participantsObject.participant_list.length>0?c.a.createElement(c.a.Fragment,null,e.currentCycle.anonymous?c.a.createElement(Os,{participants:e.participantsObject,listLoading:e.listLoading,subject:e.subject,sendReminder:d,currentCycle:e.currentCycle}):c.a.createElement(Ks,{filters:r,changeSorting:function(e){u(qs({},r,{sort:e}))},changePage:function(e){u(qs({},r,{page:e}))},sendReminder:d,changeBarFilter:function(e,t){u(qs({},r,{filterResponseRate:e,filterNotCompleted:t}))},participants:e.participantsObject,subjectType:e.subjectType,subject:e.subject,listLoading:e.listLoading,currentCycle:e.currentCycle})):c.a.createElement(Ut,{message:{txt:t("x.reports.survey_profile.participants.empty.message"),key:"x.reports.survey_profile.participants.empty.message"},buttonMessage:{txt:t("x.reports.survey_profile.participants.empty.button"),key:"x.reports.survey_profile.participants.empty.button"},link:"/content/surveys/"+e.subject.id})))}),Ds=Object(p.g)(Bs),Fs=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},Gs=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},zs=Object(h.d)()(function(e){var t=Object(l.useState)(!0),n=t[0],r=t[1],a=Object(l.useState)({id:e.match.params.surveyId,name:""}),i=a[0],s=a[1],o=Object(l.useState)(),u=o[0],d=o[1];Object(l.useEffect)(function(){return m(e.match.params.surveyId),function(){e.setHeaderInformation({iconName:void 0})}},[e.match.params.surveyId]);var m=function(e){r(!0),g(e).then(function(){r(!1)})},g=function(t){return Fs(void 0,void 0,void 0,function(){var n,r,a,i,o;return Gs(this,function(l){switch(l.label){case 0:return e.changeHeaderLoading(!0),[4,e.getSurveySummary(t)];case 1:return(n=l.sent()).error&&(ka.a.info("error on fetching survey summary",{error:n.error,info:{componentStack:"SurveyProfile.router.tsx"}}),e.history.replace(qt.a.reports.survey)),r=n.response.data.survey,a={id:t,name:Object(wn.c)(r.name),type:r.subject,surveyStatus:r.status,surveyScope:r.scope,withLink:"admin"===r.scope&&e.isAdmin||!!e.sessionUser&&r.created_by===e.sessionUser.uuid},i=[{name:e.t("x.reports.survey_profile.manage_survey_link"),link:qt.a.contentSurveys.surveys}],"admin"!==r.scope&&(i[0]={name:e.t("x.reports.survey_profile.my-request-link"),link:qt.a.reports.getUserProfileMyRequestsLink(e.sessionUser.uuid)}),o=Qi.a[r.use_case||r.subject],s(a),d({breadCrumbLinks:i,iconName:o}),[2]}})})},y=Object(l.useCallback)(function(){return c.a.createElement(xn,{entityObj:i,entityType:_.a.Survey,overrideHeaderInfo:u})},[i,u]),h=Object(l.useCallback)(function(){return c.a.createElement(Wa,{entityObj:i,entityType:_.a.Survey,overrideHeaderInfo:u})},[i,u]),x=Object(l.useCallback)(function(){return c.a.createElement(_a,{entityObj:i,entityType:_.a.Survey})},[i]),v=Object(l.useCallback)(function(){return c.a.createElement(Ds,{subject:i,subjectType:_.a.Survey,overrideHeaderInfo:u})},[i,u]),j=e.match;return n?c.a.createElement(Ct,null,c.a.createElement(b.default,null)):c.a.createElement(Qa,null,c.a.createElement(Ya,null,c.a.createElement(p.d,null,c.a.createElement(p.b,{path:j.url+"/list",render:function(){return c.a.createElement(bt,{sessionUserIsCreator:!!e.survey&&e.survey.created_by===e.sessionUser.uuid,entityObj:i,entityType:_.a.Survey,overrideHeaderInfo:u,routes:[{path:"/news",render:y,args:["exact"]},{path:"/topics",render:h,args:["exact"]},{path:"/participants",render:v,args:["exact"]}]})}}),c.a.createElement(p.b,{path:j.url+"/topics/detail/:topicId("+f.a+")",render:x}),c.a.createElement(Sa,{entityObj:i,entityType:_.a.Survey}))))}),Ws=Object(u.b)(function(e){return{isAdmin:Object(Ht.d)(e),survey:e.reportsManagement.surveyProfile.survey,sessionUser:e.user.session.user}},function(e){return{changeHeaderLoading:function(t){return e(_e(t))},setHeaderInformation:function(t){return e(be(t))},getSurveySummary:function(t){return e(Object(Yi.m)(t))}}})(zs),Vs=Object(u.b)(function(e){var t=e.user.session;return{companyObj:t.company?{name:t.company.name,id:t.company.uuid,imageUrl:t.company.imageUrl||void 0}:null}},function(e){return{changeHeaderLoading:function(t){return e(_e(t))},changeRatingVisibility:function(t){return e(ye(t))},changeGraphVisibility:function(t){return e(he(t))},changePeriodSelectorVisibility:function(t){return e(xe(t))},setHeaderInformation:function(t){return e(be(t))},setIsNotNewUser:function(){return e(Object(Li.d)())}}})(function(e){Object(l.useEffect)(function(){a(),e.setIsNotNewUser()},[]);var t=Object(l.useCallback)(function(){return c.a.createElement(Wa,{entityObj:e.companyObj,entityType:_.a.Company})},[e.companyObj]),n=Object(l.useCallback)(function(){return c.a.createElement(_a,{entityObj:e.companyObj,entityType:_.a.Company})},[e.companyObj]),r=Object(l.useCallback)(function(){return c.a.createElement(xn,{entityObj:e.companyObj,entityType:_.a.Company})},[e.companyObj]),a=function(){e.changeRatingVisibility(!1),e.changeGraphVisibility(!1),e.changePeriodSelectorVisibility(!1);var t=[{name:e.companyObj.name,link:e.match.url}],n={entity:e.companyObj,entityType:_.a.Company,selectedTabIndex:-1,depth:0,breadCrumbLinks:t,subjectType:_.b.Topic,subject:e.companyObj,tabs:getMainTabsOfSubject(_.a.Company,e.companyObj.id||null)};e.setHeaderInformation(n),e.changeHeaderLoading(!1)},i=Object(l.useCallback)(function(){return c.a.createElement(bt,{entityObj:e.companyObj,entityType:_.a.Company,routes:[{path:"/news",render:r,args:["exact"]},{path:"/topics",render:t,args:["exact"]}]})},[e.companyObj]),s=e.match;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Qa,{"data-testid":"reports__company__wrapper"},c.a.createElement(Ya,null,e.companyObj&&c.a.createElement(p.d,null,c.a.createElement(p.b,{path:s.url+"/list",render:i}),c.a.createElement(p.b,{path:s.url+"/topics/detail/:topicId("+f.a+")",render:n}),c.a.createElement(Sa,{entityObj:e.companyObj,entityType:_.a.Company})))))}),Qs=Object(p.g)(Vs),Ys=function(){return(Ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Zs=Object(u.b)(null,function(e){return{fetchScales:function(t){return e(Object(m.d)(t))}}})(function(e){var t=Object(l.useState)(!0),n=t[0],r=t[1];Object(l.useEffect)(function(){e.fetchScales({include:g.a.ScaleDeleted+","+g.a.ScaleVersion+","+g.a.ScaleCustom,per_page:1e3}).finally(function(){r(!1)})},[]);var a=Object(l.useCallback)(function(){return c.a.createElement(p.a,{to:e.match.url+"/company/profile"})},[e.match.url]),i=Object(l.useCallback)(function(t){return c.a.createElement(Fi,Ys({},t,{key:e.match.params.userId}))},[e.match.params.userId]),s=Object(l.useCallback)(function(t){return c.a.createElement(Vi,Ys({},t,{key:e.match.params.groupId}))},[e.match.params.groupId]),o=Object(l.useCallback)(function(t){return c.a.createElement(Ws,Ys({},t,{key:e.match.params.surveyId}))},[e.match.params.surveyId]);return n?c.a.createElement(b.default,{alignCls:"center-middle"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(Xe,null),c.a.createElement(p.d,null,c.a.createElement(p.b,Ys({},e,{path:e.match.url+"/company/profile",component:Qs})),c.a.createElement(p.b,Ys({},e,{path:e.match.url+"/user/profile/:userId("+f.a+")",render:i})),c.a.createElement(p.b,Ys({},e,{path:e.match.url+"/group/profile/:groupId("+f.a+")",render:s})),c.a.createElement(p.b,Ys({},e,{path:e.match.url+"/survey/profile/:surveyId("+f.a+")",render:o})),c.a.createElement(p.b,Ys({},e,{exact:!0,path:e.match.url,render:a})),c.a.createElement(d.a,Ys({},e))))}),Js=Object(p.g)(Zs);t.default=Js}},0,[4,0]]);